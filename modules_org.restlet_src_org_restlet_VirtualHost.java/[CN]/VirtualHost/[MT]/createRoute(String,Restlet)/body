{
  return new Route(this,uriPattern,target){
    @Override protected int beforeHandle(    Request request,    Response response){
      int result=super.beforeHandle(request,response);
      request.setRootRef(request.getResourceRef().getBaseRef());
      request.getAttributes().put("org.restlet.virtualHost.hashCode",this.hashCode());
      return result;
    }
  }
;
}
