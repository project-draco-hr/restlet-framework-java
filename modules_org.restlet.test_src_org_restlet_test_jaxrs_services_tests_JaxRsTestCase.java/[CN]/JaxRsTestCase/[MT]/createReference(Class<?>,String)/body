{
  Reference reference=new Reference();
  reference.setProtocol(Protocol.HTTP);
  reference.setAuthority("localhost");
  reference.setHostPort(serverWrapper.getPort());
  String path;
  try {
    path=ResourceClass.getPathTemplate(jaxRsClass);
  }
 catch (  IllegalPathOnClassException e) {
    throw new JaxRsRuntimeException(e);
  }
catch (  MissingAnnotationException e) {
    throw new JaxRsRuntimeException(e);
  }
  if (!path.startsWith("/"))   path="/" + path;
  if (subPath != null) {
    if (subPath.startsWith(";"))     path+=subPath;
 else     if (subPath.length() > 0)     path+="/" + subPath;
  }
  reference.setPath(path);
  return reference;
}
