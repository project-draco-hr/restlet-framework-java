{
  if (router == null) {
    router=createRouter(context);
    for (    IResourceProvider resourceProvider : resourceProviders)     attachResource(resourceProvider);
    for (    IDirectoryProvider directoryProvider : directoryProviders)     attachDirectory(directoryProvider);
    if (defaultRestletProvider != null)     router.attachDefault(defaultRestletProvider.getInboundRoot(context));
  }
  Restlet inboundRoot=super.getInboundRoot(context);
  return inboundRoot != null ? inboundRoot : router;
}
