def test_generator(self):

    def f():
        for i in range(2):
            yield i

    def g(p):
        for i in f():
            pass
    f_ident = ident(f)
    g_ident = ident(g)
    self.check_events(g, [(1, 'call', g_ident), (2, 'call', f_ident), (2, 'return', f_ident), (2, 'call', f_ident), (2, 'return', f_ident), (2, 'call', f_ident), (2, 'return', f_ident), (1, 'return', g_ident)])
