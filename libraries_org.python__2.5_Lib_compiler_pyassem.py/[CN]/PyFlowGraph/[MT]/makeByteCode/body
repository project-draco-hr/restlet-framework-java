def makeByteCode(self):
    assert (self.stage == CONV)
    self.lnotab = lnotab = LineAddrTable()
    for t in self.insts:
        opname = t[0]
        if (len(t) == 1):
            lnotab.addCode(self.opnum[opname])
        else:
            oparg = t[1]
            if (opname == 'SET_LINENO'):
                lnotab.nextLine(oparg)
                continue
            (hi, lo) = twobyte(oparg)
            try:
                lnotab.addCode(self.opnum[opname], lo, hi)
            except ValueError:
                print opname, oparg
                print self.opnum[opname], lo, hi
                raise
    self.stage = DONE
