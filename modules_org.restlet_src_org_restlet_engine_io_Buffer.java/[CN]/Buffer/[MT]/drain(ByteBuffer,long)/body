{
  int result=0;
  if ((maxDrained > 0) && (maxDrained < targetBuffer.remaining())) {
    targetBuffer.limit((int)(maxDrained + targetBuffer.position()));
  }
  if (getBytes().remaining() >= targetBuffer.remaining()) {
    result=targetBuffer.remaining();
  }
 else {
    result=getBytes().remaining();
  }
  for (int i=0; i < result; i++) {
    targetBuffer.put(getBytes().get());
  }
  return result;
}
