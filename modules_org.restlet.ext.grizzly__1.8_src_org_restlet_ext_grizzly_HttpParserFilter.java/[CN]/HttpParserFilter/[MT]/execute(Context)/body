{
  final ByteBuffer byteBuffer=((WorkerThread)Thread.currentThread()).getByteBuffer();
  byteBuffer.flip();
  if (byteBuffer.hasRemaining()) {
    final SelectionKey key=context.getSelectionKey();
    final GrizzlyServerCall serverCall=new GrizzlyServerCall(this.helper.getHelped(),byteBuffer,key,(this.helper instanceof HttpsServerHelper));
    final boolean keepAlive=false;
    this.helper.handle(serverCall);
    if (keepAlive) {
      context.setKeyRegistrationState(Context.KeyRegistrationState.REGISTER);
    }
 else {
      context.setKeyRegistrationState(Context.KeyRegistrationState.CANCEL);
    }
  }
  byteBuffer.clear();
  return true;
}
