def print_stats(self, *amount):
    for filename in self.files:
        print  >> self.stream, filename
    if self.files:
        print  >> self.stream
    indent = (' ' * 8)
    for func in self.top_level:
        print  >> self.stream, indent, func_get_function_name(func)
    print  >> self.stream, indent, self.total_calls, 'function calls',
    if (self.total_calls != self.prim_calls):
        print  >> self.stream, ('(%d primitive calls)' % self.prim_calls),
    print  >> self.stream, ('in %.3f CPU seconds' % self.total_tt)
    print  >> self.stream
    (width, list) = self.get_print_list(amount)
    if list:
        self.print_title()
        for func in list:
            self.print_line(func)
        print  >> self.stream
        print  >> self.stream
    return self
