def dump_stats(self, filename):
    'Write the profile data to a file we know how to load back.'
    f = file(filename, 'wb')
    try:
        marshal.dump(self.stats, f)
    finally:
        f.close()
