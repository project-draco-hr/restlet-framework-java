def parse(self, vstring):
    match = self.version_re.match(vstring)
    if (not match):
        raise ValueError, ("invalid version number '%s'" % vstring)
    (major, minor, patch, prerelease, prerelease_num) = match.group(1, 2, 4, 5, 6)
    if patch:
        self.version = tuple(map(string.atoi, [major, minor, patch]))
    else:
        self.version = tuple((map(string.atoi, [major, minor]) + [0]))
    if prerelease:
        self.prerelease = (prerelease[0], string.atoi(prerelease_num))
    else:
        self.prerelease = None
