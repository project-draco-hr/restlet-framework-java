def _set_prefix(self, prefix):
    nsuri = self.namespaceURI
    if (prefix == 'xmlns'):
        if (nsuri and (nsuri != XMLNS_NAMESPACE)):
            raise xml.dom.NamespaceErr("illegal use of 'xmlns' prefix for the wrong namespace")
    d = self.__dict__
    d['prefix'] = prefix
    if (prefix is None):
        newName = self.localName
    else:
        newName = ('%s:%s' % (prefix, self.localName))
    if self.ownerElement:
        _clear_id_cache(self.ownerElement)
    d['nodeName'] = d['name'] = newName
