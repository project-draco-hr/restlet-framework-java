{
  Representation entity=callContext.getRequest().getEntity();
  if (entity == null)   return null;
  if (Representation.class.isAssignableFrom(paramType))   return entity;
  MediaType mediaType=entity.getMediaType();
  MessageBodyReaderSet mbrs=jaxRsRouter.getMessageBodyReaders();
  if (mbrs == null)   throw new NoMessageBodyReadersException();
  MessageBodyReader mbr=mbrs.getBest(mediaType,paramType,genericType,annotations);
  if (mbr == null) {
    callContext.getResponse().setStatus(Status.CLIENT_ERROR_NOT_ACCEPTABLE);
    throw new RequestHandledException();
  }
  MultivaluedMap<String,String> httpHeaders=Util.getJaxRsHttpHeaders(callContext.getRequest());
  try {
    javax.ws.rs.core.MediaType jaxRsMediaType=Converter.toJaxRsMediaType(mediaType,entity.getCharacterSet());
    return mbr.readFrom(paramType,genericType,jaxRsMediaType,annotations,httpHeaders,entity.getStream());
  }
 catch (  IOException e) {
    throw new InstantiateParameterException("Can not instatiate parameter of type " + paramType.getName(),e);
  }
}
