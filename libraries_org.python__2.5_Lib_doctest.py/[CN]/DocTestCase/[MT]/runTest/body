def runTest(self):
    test = self._dt_test
    old = sys.stdout
    new = StringIO()
    optionflags = self._dt_optionflags
    if (not (optionflags & REPORTING_FLAGS)):
        optionflags |= _unittest_reportflags
    runner = DocTestRunner(optionflags=optionflags, checker=self._dt_checker, verbose=False)
    try:
        runner.DIVIDER = ('-' * 70)
        (failures, tries) = runner.run(test, out=new.write, clear_globs=False)
    finally:
        sys.stdout = old
    if failures:
        raise self.failureException(self.format_failure(new.getvalue()))
