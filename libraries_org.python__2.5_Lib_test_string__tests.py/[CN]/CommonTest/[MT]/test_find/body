def test_find(self):
    self.checkequal(0, 'abcdefghiabc', 'find', 'abc')
    self.checkequal(9, 'abcdefghiabc', 'find', 'abc', 1)
    self.checkequal((-1), 'abcdefghiabc', 'find', 'def', 4)
    self.checkequal(0, 'abc', 'find', '', 0)
    self.checkequal(3, 'abc', 'find', '', 3)
    self.checkequal((-1), 'abc', 'find', '', 4)
    self.checkraises(TypeError, 'hello', 'find')
    self.checkraises(TypeError, 'hello', 'find', 42)
    charset = ['', 'a', 'b', 'c']
    digits = 5
    base = len(charset)
    teststrings = set()
    for i in xrange((base ** digits)):
        entry = []
        for j in xrange(digits):
            (i, m) = divmod(i, base)
            entry.append(charset[m])
        teststrings.add(''.join(entry))
    teststrings = list(teststrings)
    for i in teststrings:
        i = self.fixtype(i)
        for j in teststrings:
            loc = i.find(j)
            r1 = (loc != (-1))
            r2 = (j in i)
            if (r1 != r2):
                self.assertEqual(r1, r2)
            if (loc != (-1)):
                self.assertEqual(i[loc:(loc + len(j))], j)
