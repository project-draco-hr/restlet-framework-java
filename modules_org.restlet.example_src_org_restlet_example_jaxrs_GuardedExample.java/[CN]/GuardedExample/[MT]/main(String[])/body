{
  Component comp=new Component();
  Server server=comp.getServers().add(Protocol.HTTP,8182);
  Application application=new Application(comp.getContext()){
    @Override public Restlet createRoot(){
      AccessControl accessControl=new ExampleAccessControl();
      JaxRsRouter router=new JaxRsRouter(getContext(),new ExampleAppConfig(),accessControl);
      Guard guard=new Guard(getContext(),ChallengeScheme.HTTP_BASIC,"persons");
      guard.getSecrets().put("admin","adminPW".toCharArray());
      guard.getSecrets().put("alice","alicesSecret".toCharArray());
      guard.getSecrets().put("bob","bobsSecret".toCharArray());
      guard.setNext(router);
      HtmlPreferer filter=new HtmlPreferer(getContext(),guard);
      return filter;
    }
  }
;
  comp.getDefaultHost().attach(application);
  comp.start();
  System.out.println("Server started on port " + server.getPort());
  System.out.println("Press key to stop server");
  System.in.read();
  System.out.println("Stopping server");
  comp.stop();
  System.out.println("Server stopped");
}
