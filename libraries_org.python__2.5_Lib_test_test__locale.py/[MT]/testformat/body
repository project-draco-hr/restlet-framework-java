def testformat(formatstr, value, grouping=0, output=None, func=locale.format):
    if verbose:
        if output:
            print ('%s %% %s =? %s ...' % (repr(formatstr), repr(value), repr(output))),
        else:
            print ('%s %% %s works? ...' % (repr(formatstr), repr(value))),
    result = func(formatstr, value, grouping=grouping)
    if (output and (result != output)):
        if verbose:
            print 'no'
        print ('%s %% %s == %s != %s' % (repr(formatstr), repr(value), repr(result), repr(output)))
    elif verbose:
        print 'yes'
