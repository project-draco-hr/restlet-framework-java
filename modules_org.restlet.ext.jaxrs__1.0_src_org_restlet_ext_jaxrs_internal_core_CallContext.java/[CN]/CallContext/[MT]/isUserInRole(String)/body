{
  Principal principal=(request.getChallengeResponse() == null) ? null : request.getChallengeResponse().getPrincipal();
  if (this.accessControl == null)   this.accessControl=AccessControl.REJECT_WITH_ERROR;
  return accessControl.isUserInRole(principal,role);
}
