{
  if ((variants == null) || variants.isEmpty()) {
    throw new IllegalArgumentException();
  }
  final List<org.restlet.resource.Variant> restletVariants=Converter.toRestletVariants(variants);
  final org.restlet.resource.Variant bestRestlVar=this.request.getClientInfo().getPreferredVariant(restletVariants,null);
  final Variant bestVariant=Converter.toJaxRsVariant(bestRestlVar);
  final Set<Dimension> dimensions=this.response.getDimensions();
  if (bestRestlVar.getCharacterSet() != null) {
    dimensions.add(Dimension.CHARACTER_SET);
  }
  if (bestRestlVar.getEncodings() != null) {
    dimensions.add(Dimension.ENCODING);
  }
  if (bestRestlVar.getLanguages() != null) {
    dimensions.add(Dimension.LANGUAGE);
  }
  if (bestRestlVar.getMediaType() != null) {
    dimensions.add(Dimension.MEDIA_TYPE);
  }
  return bestVariant;
}
