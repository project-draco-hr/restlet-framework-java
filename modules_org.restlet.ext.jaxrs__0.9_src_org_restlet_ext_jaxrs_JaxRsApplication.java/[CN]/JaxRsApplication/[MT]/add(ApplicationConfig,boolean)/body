{
  if (appConfig == null) {
    throw new IllegalArgumentException("The ApplicationConfig must not be null");
  }
  if (clearMetadataIfFirst && !this.appConfigAttached) {
    getMetadataService().clearExtensions();
  }
  addExtensionMappings(appConfig);
  final JaxRsRestlet r=this.jaxRsRestlet;
  final Collection<Class<?>> rrcs=appConfig.getResourceClasses();
  final Collection<Class<?>> providerClasses=appConfig.getProviderClasses();
  boolean everythingFine=true;
  if ((rrcs == null) || rrcs.isEmpty()) {
    r.getLogger().warning("The ApplicationConfig " + appConfig.getClass().getName() + " contains no root resource classes.");
    everythingFine=false;
  }
 else {
    for (    final Class<?> rrc : rrcs) {
      everythingFine&=r.addRootResourceClass(rrc);
    }
  }
  if (providerClasses != null) {
    for (    final Class<?> providerClass : providerClasses) {
      everythingFine&=r.addProvider(providerClass);
    }
  }
  this.appConfigAttached=true;
  return everythingFine;
}
