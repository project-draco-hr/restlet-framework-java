def _runscript(self, filename):
    globals_ = {'__name__': '__main__', '__file__': filename, }
    locals_ = globals_
    self._wait_for_mainpyfile = 1
    self.mainpyfile = self.canonic(filename)
    self._user_requested_quit = 0
    statement = ('execfile( "%s")' % filename)
    self.run(statement, globals=globals_, locals=locals_)
