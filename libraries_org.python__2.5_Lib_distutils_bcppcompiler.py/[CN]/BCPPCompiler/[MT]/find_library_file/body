def find_library_file(self, dirs, lib, debug=0):
    if debug:
        dlib = (lib + '_d')
        try_names = ((dlib + '_bcpp'), (lib + '_bcpp'), dlib, lib)
    else:
        try_names = ((lib + '_bcpp'), lib)
    for dir in dirs:
        for name in try_names:
            libfile = os.path.join(dir, self.library_filename(name))
            if os.path.exists(libfile):
                return libfile
    else:
        return None
