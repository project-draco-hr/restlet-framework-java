{
  Route result=new Route(this,uriPattern,target);
  if (target instanceof Directory) {
    result.getTemplate().setMatchingMode(Template.MODE_STARTS_WITH);
  }
 else {
    result.getTemplate().setMatchingMode(matchingMode);
  }
  result.setMatchingQuery(getDefaultMatchingQuery());
  return result;
}
