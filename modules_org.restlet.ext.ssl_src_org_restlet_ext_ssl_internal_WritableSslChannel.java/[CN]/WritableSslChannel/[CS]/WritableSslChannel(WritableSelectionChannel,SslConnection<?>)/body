{
  super(wrappedChannel);
  this.connection=connection;
  if (connection != null) {
    SSLSession session=connection.getSslSession();
    int packetSize=session.getPacketBufferSize();
    this.packetBuffer=new Buffer(packetSize,getConnection().getHelper().isDirectBuffers());
  }
 else {
    this.packetBuffer=null;
  }
}
