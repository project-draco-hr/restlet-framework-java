def _handle_text(self, msg):
    payload = msg.get_payload()
    if (payload is None):
        return
    cset = msg.get_charset()
    if (cset is not None):
        payload = cset.body_encode(payload)
    if (not _isstring(payload)):
        raise TypeError, ('string payload expected: %s' % type(payload))
    if self._mangle_from_:
        payload = fcre.sub('>From ', payload)
    self._fp.write(payload)
