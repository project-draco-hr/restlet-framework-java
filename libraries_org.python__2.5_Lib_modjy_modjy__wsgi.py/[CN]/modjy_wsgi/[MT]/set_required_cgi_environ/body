def set_required_cgi_environ(self, req, resp, dict):
    self.set_string_envvar(dict, 'REQUEST_METHOD', req.getMethod())
    self.set_string_envvar(dict, 'QUERY_STRING', req.getQueryString())
    self.set_string_envvar(dict, 'CONTENT_TYPE', req.getContentType())
    self.set_int_envvar(dict, 'CONTENT_LENGTH', req.getContentLength(), (-1))
    self.set_string_envvar(dict, 'SERVER_NAME', req.getLocalName())
    self.set_int_envvar(dict, 'SERVER_PORT', req.getLocalPort(), 0)
