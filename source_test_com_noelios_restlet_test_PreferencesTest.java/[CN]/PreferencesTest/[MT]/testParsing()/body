{
  String headerValue="text/*;q=0.3, text/html;q=0.7, text/html;level=1, text/html;LEVEL=2;q=0.4;ext1, */*;q=0.5";
  PreferenceReaderImpl pr=new PreferenceReaderImpl(PreferenceReaderImpl.TYPE_MEDIA_TYPE,headerValue);
  Preference pref=null;
  Parameter param=null;
  do {
    pref=pr.readPreference();
    if (pref != null) {
      System.out.println(pref.toString() + " = " + pref.getMetadata()+ " , quality = "+ pref.getQuality());
      for (Iterator iter=pref.getParameters().iterator(); iter.hasNext(); ) {
        param=(Parameter)iter.next();
        System.out.println("Pref  param: " + param.getName() + " = "+ param.getValue());
      }
      if (pref.getMetadata() instanceof MediaType) {
        MediaType mediaType=(MediaType)pref.getMetadata();
        for (Iterator iter=mediaType.getParameters().iterator(); iter.hasNext(); ) {
          param=(Parameter)iter.next();
          System.out.println("Media param: " + param.getName() + " = "+ param.getValue());
        }
      }
      System.out.println("---------------------------------------------------------------------");
    }
  }
 while (pref != null);
}
