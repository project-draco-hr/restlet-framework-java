def test_translatehelper(self):


    class D(dict):

        def __getitem__(self, key):
            raise ValueError
    self.assertRaises(ValueError, u'\xff'.translate, D())
    self.assertRaises(TypeError, u'\xff'.translate, {255: (sys.maxunicode + 1), })
    self.assertRaises(TypeError, u'\xff'.translate, {255: (), })
