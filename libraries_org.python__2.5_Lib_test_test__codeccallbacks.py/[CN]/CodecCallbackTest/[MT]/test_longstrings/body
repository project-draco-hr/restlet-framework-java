def test_longstrings(self):
    errors = ['strict', 'ignore', 'replace', 'xmlcharrefreplace', 'backslashreplace']
    for err in errors:
        codecs.register_error(('test.' + err), codecs.lookup_error(err))
    l = 1000
    errors += [('test.' + err) for err in errors]
    for uni in [(s * l) for s in (u'x', u'\u3042', u'a\xe4')]:
        for enc in ('ascii', 'latin-1', 'iso-8859-1', 'iso-8859-15', 'utf-8', 'utf-7', 'utf-16'):
            for err in errors:
                try:
                    uni.encode(enc, err)
                except UnicodeError:
                    pass
