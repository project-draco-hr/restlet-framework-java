def read_string1(f):
    '\n    >>> import StringIO\n    >>> read_string1(StringIO.StringIO("\\x00"))\n    \'\'\n    >>> read_string1(StringIO.StringIO("\\x03abcdef"))\n    \'abc\'\n    '
    n = read_uint1(f)
    assert (n >= 0)
    data = f.read(n)
    if (len(data) == n):
        return data
    raise ValueError(('expected %d bytes in a string1, but only %d remain' % (n, len(data))))
