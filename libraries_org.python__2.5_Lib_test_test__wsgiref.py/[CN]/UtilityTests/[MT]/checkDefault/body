def checkDefault(self, key, value, alt=None):
    env = {}
    util.setup_testing_defaults(env)
    if isinstance(value, StringIO):
        self.failUnless(isinstance(env[key], StringIO))
    else:
        self.assertEqual(env[key], value)
    env = {key: alt, }
    util.setup_testing_defaults(env)
    self.failUnless((env[key] is alt))
