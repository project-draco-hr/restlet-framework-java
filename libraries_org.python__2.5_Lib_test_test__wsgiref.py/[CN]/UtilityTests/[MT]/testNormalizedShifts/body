def testNormalizedShifts(self):
    self.checkShift('/a/b', '/../y', '..', '/a', '/y')
    self.checkShift('', '/../y', '..', '', '/y')
    self.checkShift('/a/b', '//y', 'y', '/a/b/y', '')
    self.checkShift('/a/b', '//y/', 'y', '/a/b/y', '/')
    self.checkShift('/a/b', '/./y', 'y', '/a/b/y', '')
    self.checkShift('/a/b', '/./y/', 'y', '/a/b/y', '/')
    self.checkShift('/a/b', '///./..//y/.//', '..', '/a', '/y/')
    self.checkShift('/a/b', '///', '', '/a/b/', '')
    self.checkShift('/a/b', '/.//', '', '/a/b/', '')
    self.checkShift('/a/b', '/x//', 'x', '/a/b/x', '/')
    self.checkShift('/a/b', '/.', None, '/a/b', '')
