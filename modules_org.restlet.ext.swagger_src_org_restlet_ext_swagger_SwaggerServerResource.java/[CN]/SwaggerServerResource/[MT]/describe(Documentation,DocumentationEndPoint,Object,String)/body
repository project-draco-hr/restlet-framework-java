{
  if ((path != null) && path.startsWith("/")) {
    path=path.substring(1);
  }
  info.setPath(path);
  List<Method> methodsList=new ArrayList<Method>();
  if (resource instanceof ServerResource) {
    ((ServerResource)resource).updateAllowedMethods();
    methodsList.addAll(((ServerResource)resource).getAllowedMethods());
    if (resource instanceof SwaggerServerResource) {
      if (documentation != null) {
        ((SwaggerServerResource)resource).describe(documentation);
      }
    }
  }
 else   if (resource instanceof Directory) {
    Directory directory=(Directory)resource;
    methodsList.add(Method.GET);
    if (directory.isModifiable()) {
      methodsList.add(Method.DELETE);
      methodsList.add(Method.PUT);
    }
  }
  Method.sort(methodsList);
  DocumentationOperation methodInfo;
  for (  Method method : methodsList) {
    methodInfo=new DocumentationOperation();
    info.addOperation(methodInfo);
    methodInfo.setNickname(method.getName());
    if (resource instanceof ServerResource) {
      if (resource instanceof SwaggerServerResource) {
        SwaggerServerResource wsResource=(SwaggerServerResource)resource;
        if (wsResource.canDescribe(method)) {
          wsResource.describeMethod(documentation,method,methodInfo);
        }
      }
 else {
        describeAnnotations(documentation,methodInfo,(ServerResource)resource);
      }
    }
  }
  String title=null;
  String textContent=null;
  if (resource instanceof SwaggerServerResource) {
    title=((SwaggerServerResource)resource).getName();
    textContent=((SwaggerServerResource)resource).getDescription();
  }
  if ((title != null) && !title.isEmpty()) {
    info.setDescription(title);
  }
 else {
    info.setDescription(textContent);
  }
}
