{
  final Representation entity=request.isEntityAvailable() ? request.getEntity() : null;
  if (entity != null) {
    getRequestBuilder().setRequestData(entity.getText());
  }
  for (  final Parameter header : getRequestHeaders()) {
    getRequestBuilder().setHeader(header.getName(),getRequestHeaders().getValues(header.getName()));
  }
  getRequestBuilder().setCallback(new RequestCallback(){
    public void onError(    com.google.gwt.http.client.Request gwtRequest,    Throwable exception){
      setErrorStatusCode(Status.CONNECTOR_ERROR_INTERNAL.getCode());
      setErrorReasonPhrase(exception == null ? "Unknown GWT HTTP communication error." : exception.getMessage());
      callback.handle(request,response,null);
    }
    public void onResponseReceived(    com.google.gwt.http.client.Request gwtRequest,    Response gwtResponse){
      setResponse(gwtResponse);
      callback.handle(request,response,null);
    }
  }
);
  getRequestBuilder().send();
}
