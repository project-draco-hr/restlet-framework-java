{
  if (this.representation != null) {
    this.representation.write(outputStream);
  }
 else   if (object != null) {
    if (MediaType.APPLICATION_ALL_XML.isCompatible(getMediaType()) || MediaType.TEXT_XML.isCompatible(getMediaType())) {
      Resource emfResource=createEmfResource();
      emfResource.getContents().add((EObject)this.object);
      emfResource.save(outputStream,getSaveOptions());
    }
 else     if (MediaType.TEXT_HTML.isCompatible(getMediaType())) {
      EmfHtmlWriter htmlWriter=new EmfHtmlWriter(getObject());
      htmlWriter.write(new OutputStreamWriter(outputStream,((getCharacterSet() == null) ? "UTF-8" : getCharacterSet().getName())));
    }
  }
}
