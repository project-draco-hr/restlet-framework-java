{
  if (Digest.ALGORITHM_HTTP_DIGEST.equals(algorithm)) {
    return DigestUtils.toHttpDigest(identifier,secret,getDigestAuthenticator().getRealm()).toCharArray();
  }
 else {
    return super.digest(identifier,secret,algorithm);
  }
}
