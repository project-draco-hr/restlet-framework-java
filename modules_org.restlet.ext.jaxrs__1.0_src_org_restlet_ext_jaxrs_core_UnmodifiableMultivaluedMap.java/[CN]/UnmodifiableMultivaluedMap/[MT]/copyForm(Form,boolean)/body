{
  MultivaluedMap<String,String> mmap=new MultivaluedMapImpl<String,String>();
  for (  Parameter param : form) {
    String key=caseInsensitive ? param.getName().toLowerCase() : param.getName();
    mmap.add(key,param.getValue());
  }
  for (  Map.Entry<String,List<String>> entry : mmap.entrySet()) {
    List<String> unmodifiable=Collections.unmodifiableList(entry.getValue());
    mmap.put(entry.getKey(),unmodifiable);
  }
  return mmap;
}
