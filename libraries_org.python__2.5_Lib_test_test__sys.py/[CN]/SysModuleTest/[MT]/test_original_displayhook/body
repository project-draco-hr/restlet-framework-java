def test_original_displayhook(self):
    import __builtin__
    savestdout = sys.stdout
    out = cStringIO.StringIO()
    sys.stdout = out
    dh = sys.__displayhook__
    self.assertRaises(TypeError, dh)
    if hasattr(__builtin__, '_'):
        del __builtin__._
    dh(None)
    self.assertEqual(out.getvalue(), '')
    self.assert_((not hasattr(__builtin__, '_')))
    dh(42)
    self.assertEqual(out.getvalue(), '42\n')
    self.assertEqual(__builtin__._, 42)
    if (not test.test_support.is_jython):
        del sys.stdout
        self.assertRaises(RuntimeError, dh, 42)
    sys.stdout = savestdout
