def test_original_excepthook(self):
    savestderr = sys.stderr
    err = cStringIO.StringIO()
    sys.stderr = err
    eh = sys.__excepthook__
    self.assertRaises(TypeError, eh)
    try:
        raise ValueError(42)
    except ValueError as exc:
        eh(*sys.exc_info())
    sys.stderr = savestderr
    self.assert_(err.getvalue().endswith('ValueError: 42\n'))
