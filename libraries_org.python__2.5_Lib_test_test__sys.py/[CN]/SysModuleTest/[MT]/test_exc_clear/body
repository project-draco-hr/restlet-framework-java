def test_exc_clear(self):
    self.assertRaises(TypeError, sys.exc_clear, 42)

    def clear_check(exc):
        (typ, value, traceback) = sys.exc_info()
        self.assert_((typ is not None))
        self.assert_((value is exc))
        self.assert_((traceback is not None))
        sys.exc_clear()
        (typ, value, traceback) = sys.exc_info()
        self.assert_((typ is None))
        self.assert_((value is None))
        self.assert_((traceback is None))

    def clear():
        try:
            raise ValueError, 42
        except ValueError as exc:
            clear_check(exc)
    clear()
    try:
        raise ValueError, 13
    except ValueError as exc:
        (typ1, value1, traceback1) = sys.exc_info()
        clear()
        (typ2, value2, traceback2) = sys.exc_info()
        self.assert_((typ1 is typ2))
        self.assert_((value1 is exc))
        self.assert_((value1 is value2))
        self.assert_((traceback1 is traceback2))
    clear_check(exc)
