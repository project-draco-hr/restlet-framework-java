{
  super(context,request,response);
  if (getUser() != null) {
    this.uri=(String)request.getAttributes().get("URI");
    this.bookmark=getUser().getBookmark(this.uri);
    if (this.bookmark != null) {
      if ((checkAuthorization() != 1) && this.bookmark.isRestrict()) {
        getResponse().setStatus(Status.CLIENT_ERROR_NOT_FOUND);
      }
    }
 else {
      getVariants().clear();
    }
  }
 else {
    getResponse().setStatus(Status.CLIENT_ERROR_NOT_FOUND);
  }
}
