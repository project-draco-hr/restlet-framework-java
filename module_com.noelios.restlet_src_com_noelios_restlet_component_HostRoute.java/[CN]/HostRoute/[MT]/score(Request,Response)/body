{
  float result=0F;
  String hostDomain="";
  String hostPort="";
  String hostScheme="";
  if (request.getHostRef() != null) {
    hostDomain=request.getHostRef().getHostDomain();
    if (hostDomain == null)     hostDomain="";
    Integer basePortValue=request.getHostRef().getHostPort();
    if (basePortValue == null)     basePortValue=request.getHostRef().getSchemeProtocol().getDefaultPort();
    hostPort=basePortValue.toString();
    hostScheme=request.getHostRef().getScheme();
    if (hostScheme == null)     hostScheme="";
  }
  String resourceDomain=request.getResourceRef().getHostDomain();
  if (resourceDomain == null)   resourceDomain="";
  Integer resourcePortValue=request.getResourceRef().getHostPort();
  if (resourcePortValue == null)   resourcePortValue=request.getResourceRef().getSchemeProtocol().getDefaultPort();
  String resourcePort=resourcePortValue.toString();
  String resourceScheme=request.getResourceRef().getScheme();
  if (resourceScheme == null)   resourceScheme="";
  String serverAddress=response.getServerInfo().getAddress();
  if (serverAddress == null)   serverAddress="";
  String serverPort="";
  Integer serverPortValue=response.getServerInfo().getPort();
  if (serverPortValue != null)   serverPort=serverPortValue.toString();
  if (matches(getVirtualHost().getHostDomain(),hostDomain) && matches(getVirtualHost().getHostPort(),hostPort) && matches(getVirtualHost().getHostScheme(),hostScheme)&& matches(getVirtualHost().getResourceDomain(),resourceDomain)&& matches(getVirtualHost().getResourcePort(),resourcePort)&& matches(getVirtualHost().getResourceScheme(),resourceScheme)&& matches(getVirtualHost().getServerAddress(),serverAddress)&& matches(getVirtualHost().getServerPort(),serverPort)) {
    result=1F;
  }
  if (getLogger().isLoggable(Level.FINER)) {
    getLogger().finer("Call score for the \"" + getVirtualHost().getName() + "\" host: "+ result);
  }
  return result;
}
