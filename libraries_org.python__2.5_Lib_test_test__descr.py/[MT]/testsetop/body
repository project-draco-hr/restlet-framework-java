def testsetop(a, b, res, stmt='a+=b', meth='__iadd__'):
    if verbose:
        print 'checking', stmt
    dict = {'a': deepcopy(a), 'b': b, }
    exec stmt in dict
    vereq(dict['a'], res)
    t = type(a)
    m = getattr(t, meth)
    while (meth not in t.__dict__):
        t = t.__bases__[0]
    vereq(m, t.__dict__[meth])
    dict['a'] = deepcopy(a)
    m(dict['a'], b)
    vereq(dict['a'], res)
    dict['a'] = deepcopy(a)
    bm = getattr(dict['a'], meth)
    bm(b)
    vereq(dict['a'], res)
