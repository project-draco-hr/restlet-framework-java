{
  boolean handle=true;
  if (isRedirectClient() || isWarnClient()) {
    if (!call.getResourceRef().toString(false,false).startsWith(getPreferredUri())) {
      if (isRedirectClient()) {
        call.setOutputRef(getPreferredUri() + call.getResourcePath());
        call.setStatus(getRedirectStatus());
      }
 else       if (isWarnClient()) {
        String description="Used this URI instead: " + getPreferredUri() + call.getResourcePath();
        call.setStatus(new DefaultStatus(Statuses.CLIENT_ERROR_BAD_REQUEST,description));
      }
      handle=false;
    }
  }
  if (handle) {
    if (getUsageMode() == UsageMode.FILTER) {
      if (this.frontRouter == null) {
synchronized (this) {
          if (this.frontRouter == null) {
            this.frontRouter=new DefaultRouter(getOwner());
            this.frontRouter.attach(getPattern(),this.backRouter);
          }
        }
      }
      this.frontRouter.handle(call);
    }
 else     if (getUsageMode() == UsageMode.ROUTER) {
      this.backRouter.handle(call);
    }
  }
}
