def _binsplit(splittable, charset, maxlinelen):
    i = 0
    j = len(splittable)
    while (i < j):
        m = (((i + j) + 1) >> 1)
        chunk = charset.from_splittable(splittable[:m], True)
        chunklen = charset.encoded_header_len(chunk)
        if (chunklen <= maxlinelen):
            i = m
        else:
            j = (m - 1)
    first = charset.from_splittable(splittable[:i], False)
    last = charset.from_splittable(splittable[i:], False)
    return (first, last)
