def add_label_data(self, format, counter, blankline=None):
    if (self.have_label or (not self.hard_break)):
        self.writer.send_line_break()
    if (not self.para_end):
        self.writer.send_paragraph(((blankline and 1) or 0))
    if (type(format) is StringType):
        self.writer.send_label_data(self.format_counter(format, counter))
    else:
        self.writer.send_label_data(format)
    self.nospace = self.have_label = self.hard_break = self.para_end = 1
    self.softspace = self.parskip = 0
