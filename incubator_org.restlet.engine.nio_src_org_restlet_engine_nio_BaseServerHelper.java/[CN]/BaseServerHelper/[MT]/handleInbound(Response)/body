{
  if ((response != null) && (response.getRequest() != null)) {
    getLogger().fine("Handling inbound message");
    ConnectedRequest request=(ConnectedRequest)response.getRequest();
    handle(request,response);
    if (!response.isCommitted() && response.isAutoCommitting()) {
      getOutboundMessages().add(response);
      response.setCommitted(true);
      getController().wakeup();
    }
  }
  handleNextOutbound();
}
