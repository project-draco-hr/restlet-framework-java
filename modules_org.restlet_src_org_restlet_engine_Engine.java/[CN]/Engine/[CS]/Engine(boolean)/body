{
  org.restlet.engine.Engine.setInstance(this);
  if (Edition.CURRENT == Edition.GWT) {
    this.loggerFacade=new LoggerFacade();
  }
 else {
    String loggerFacadeClass=System.getProperty("org.restlet.engine.loggerFacadeClass","org.restlet.engine.log.LoggerFacade");
    try {
      this.loggerFacade=(LoggerFacade)loadClass(loggerFacadeClass).newInstance();
    }
 catch (    Exception e) {
      this.loggerFacade=new LoggerFacade();
      this.loggerFacade.getLogger("org.restlet").log(Level.WARNING,"Unable to register the logger facade",e);
    }
  }
  this.registeredClients=new CopyOnWriteArrayList<ConnectorHelper<Client>>();
  this.registeredProtocols=new CopyOnWriteArrayList<ProtocolHelper>();
  this.registeredServers=new CopyOnWriteArrayList<ConnectorHelper<org.restlet.Server>>();
  this.registeredAuthenticators=new CopyOnWriteArrayList<org.restlet.engine.security.AuthenticatorHelper>();
  this.registeredConverters=new CopyOnWriteArrayList<org.restlet.engine.converter.ConverterHelper>();
  if (discoverHelpers) {
    try {
      discoverConnectors();
      discoverProtocols();
      discoverAuthenticators();
      discoverConverters();
    }
 catch (    IOException e) {
      Context.getCurrentLogger().log(Level.WARNING,"An error occured while discovering the engine helpers.",e);
    }
  }
}
