{
  try {
    if (Context.getCurrentLogger().isLoggable(Level.FINEST)) {
      Context.getCurrentLogger().log(Level.FINEST,"Calling thread about to block on the NIO selection registration. Timeout: " + TimeUnit.MILLISECONDS.toMillis(IoUtils.TIMEOUT_MS) + " ms. Waiting: "+ this.barrier.getNumberWaiting());
    }
    getWakeupListener().onWokeup(this);
    this.barrier.await(IoUtils.TIMEOUT_MS,TimeUnit.MILLISECONDS);
  }
 catch (  TimeoutException e) {
    Context.getCurrentLogger().log(Level.WARNING,"The thread blocked at the cyclic barrier has timed out",e);
    IOException ioe=new IOException("The thread blocked at the cyclic barrier has timed out.");
    ioe.initCause(e);
    throw ioe;
  }
catch (  Exception e) {
    Context.getCurrentLogger().log(Level.WARNING,"Unable to block the thread at the cyclic barrier",e);
    IOException ioe=new IOException("Unable to block the thread at the cyclic barrier.");
    ioe.initCause(e);
    throw ioe;
  }
}
