{
  if (this.selectionKey.isValid()) {
    if (isCanceling()) {
      Context.getCurrentLogger().log(Level.INFO,"Cancelling of the selection key requested");
      this.selectionKey.cancel();
    }
 else {
      try {
        Context.getCurrentLogger().log(Level.INFO,"Update key (old | new) : " + SelectionRegistration.getName(this.selectionKey.interestOps()) + " | "+ SelectionRegistration.getName(getInterestOperations()));
        this.selectionKey.interestOps(getInterestOperations());
      }
 catch (      CancelledKeyException cke) {
        Context.getCurrentLogger().log(Level.INFO,"Unable to update a cancelled key, registering again",cke);
        this.selectionKey=register(this.selectionKey.selector());
      }
    }
  }
 else {
    Context.getCurrentLogger().log(Level.INFO,"Invalid key detected, registering again");
    this.selectionKey=register(this.selectionKey.selector());
  }
  return this.selectionKey;
}
