def emit(self, record):
    '\n        Emit a record.\n\n        If a formatter is specified, it is used to format the record.\n        The record is then written to the stream with a trailing newline\n        [N.B. this may be removed depending on feedback]. If exception\n        information is present, it is formatted using\n        traceback.print_exception and appended to the stream.\n        '
    try:
        msg = self.format(record)
        fs = '%s\n'
        if (not hasattr(types, 'UnicodeType')):
            self.stream.write((fs % msg))
        else:
            try:
                self.stream.write((fs % msg))
            except UnicodeError:
                self.stream.write((fs % msg.encode('UTF-8')))
        self.flush()
    except (KeyboardInterrupt, SystemExit):
        raise
    except:
        self.handleError(record)
