def format(self, record):
    '\n        Format the specified record as text.\n\n        The record\'s attribute dictionary is used as the operand to a\n        string formatting operation which yields the returned string.\n        Before formatting the dictionary, a couple of preparatory steps\n        are carried out. The message attribute of the record is computed\n        using LogRecord.getMessage(). If the formatting string contains\n        "%(asctime)", formatTime() is called to format the event time.\n        If there is exception information, it is formatted using\n        formatException() and appended to the message.\n        '
    record.message = record.getMessage()
    if (string.find(self._fmt, '%(asctime)') >= 0):
        record.asctime = self.formatTime(record, self.datefmt)
    s = (self._fmt % record.__dict__)
    if record.exc_info:
        if (not record.exc_text):
            record.exc_text = self.formatException(record.exc_info)
    if record.exc_text:
        if (s[(-1):] != '\n'):
            s = (s + '\n')
        s = (s + record.exc_text)
    return s
