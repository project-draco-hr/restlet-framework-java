{
  this.latch.countDown();
  for (; ; ) {
    try {
      final SocketChannel client=this.serverSocket.accept();
      if (!this.handlerService.isShutdown()) {
        this.handlerService.submit(new ConnectionHandler(this.helper,client.socket()));
      }
    }
 catch (    final ClosedByInterruptException ex) {
      this.helper.getLogger().log(Level.FINE,"ServerSocket channel was closed by interrupt",ex);
      break;
    }
catch (    final IOException ex) {
      this.helper.getLogger().log(Level.WARNING,"Unexpected error while accepting new connection",ex);
    }
  }
}
