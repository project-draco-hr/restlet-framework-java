def dispatch(self, node, *args):
    self.node = node
    klass = node.__class__
    meth = self._cache.get(klass, None)
    if (meth is None):
        className = klass.__name__
        meth = getattr(self.visitor, ('visit' + className), self.default)
        self._cache[klass] = meth
    return meth(node, *args)
