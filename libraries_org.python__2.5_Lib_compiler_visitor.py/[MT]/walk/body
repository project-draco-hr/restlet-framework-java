def walk(tree, visitor, walker=None, verbose=None):
    if (walker is None):
        walker = _walker()
    if (verbose is not None):
        walker.VERBOSE = verbose
    walker.preorder(tree, visitor)
    return walker.visitor
