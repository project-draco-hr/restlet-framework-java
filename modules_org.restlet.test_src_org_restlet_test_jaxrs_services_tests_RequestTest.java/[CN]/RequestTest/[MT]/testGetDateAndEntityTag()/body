{
  Conditions conditions=new Conditions();
  conditions.setModifiedSince(BEFORE);
  conditions.setMatch(Util.createList(getEntityTagFromDatastore()));
  Response response=accessServer(RequestService.class,"date",Method.GET,conditions);
  assertEquals(Status.SUCCESS_OK,response.getStatus());
  response=accessServer(RequestService.class,"date",Method.PUT,conditions);
  assertEquals(Status.SUCCESS_OK,response.getStatus());
  conditions=new Conditions();
  conditions.setModifiedSince(AFTER);
  conditions.setMatch(Util.createList(getEntityTagFromDatastore()));
  response=accessServer(RequestService.class,"date",Method.GET,conditions);
  assertEquals(Status.REDIRECTION_NOT_MODIFIED,response.getStatus());
  response=accessServer(RequestService.class,"date",Method.PUT,conditions);
  assertEquals(PREC_FAILED,response.getStatus());
  assertTrue("Entity must contain \"was not modified\"",response.getEntity().getText().contains("The entity was not modified since"));
  conditions=new Conditions();
  conditions.setModifiedSince(BEFORE);
  conditions.setMatch(Util.createList(new Tag("shkhsdk")));
  response=accessServer(RequestService.class,"date",Method.GET,conditions);
  assertEquals(PREC_FAILED,response.getStatus());
  String entityText=response.getEntity().getText();
  assertTrue("Entity must contain \"was not modified\" or \"does not match Entity Tag\", but is \"" + entityText + "\"",entityText.contains("The entity was not modified since") || entityText.contains("The entity does not match Entity Tag"));
  response=accessServer(RequestService.class,"date",Method.PUT,conditions);
  assertEquals(PREC_FAILED,response.getStatus());
  assertTrue("Entity must contain \"was not modified\" or \"does not match Entity Tag\", but is \"" + entityText + "\"",entityText.contains("The entity was not modified since") || entityText.contains("The entity does not match Entity Tag"));
  conditions=new Conditions();
  conditions.setModifiedSince(AFTER);
  conditions.setMatch(Util.createList(new Tag("shkhsdk")));
  response=accessServer(RequestService.class,"date",Method.GET,conditions);
  assertEquals(PREC_FAILED,response.getStatus());
  entityText=response.getEntity().getText();
  assertTrue("Entity must contain \"was not modified\" or \"does not match Entity Tag\", but is \"" + entityText + "\"",entityText.contains("The entity was not modified since") || entityText.contains("The entity does not match Entity Tag"));
  response=accessServer(RequestService.class,"date",Method.PUT,conditions);
  assertEquals(PREC_FAILED,response.getStatus());
  assertTrue("Entity must contain \"was not modified\" or \"does not match Entity Tag\", but is \"" + entityText + "\"",entityText.contains("The entity was not modified since") || entityText.contains("The entity does not match Entity Tag"));
}
