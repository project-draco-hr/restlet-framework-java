def setNamedItem(self, node):
    if (not isinstance(node, Attr)):
        raise xml.dom.HierarchyRequestErr(('%s cannot be child of %s' % (repr(node), repr(self))))
    old = self._attrs.get(node.name)
    if old:
        old.unlink()
        old.ownerDocument = self._ownerElement.ownerDocument
    self._attrs[node.name] = node
    self._attrsNS[(node.namespaceURI, node.localName)] = node
    node.ownerElement = self._ownerElement
    _clear_id_cache(node.ownerElement)
    return old
