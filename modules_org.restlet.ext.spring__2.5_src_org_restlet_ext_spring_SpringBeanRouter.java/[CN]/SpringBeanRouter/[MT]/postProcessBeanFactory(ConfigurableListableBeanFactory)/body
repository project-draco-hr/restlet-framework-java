{
  String[] names=isFindInAncestors() ? BeanFactoryUtils.beanNamesForTypeIncludingAncestors(factory,Resource.class,true,true) : factory.getBeanNamesForType(Resource.class,true,true);
  for (  final String name : names) {
    final String uri=resolveUri(name,factory);
    if (uri != null) {
      attach(uri,createFinder(factory,name));
    }
  }
}
