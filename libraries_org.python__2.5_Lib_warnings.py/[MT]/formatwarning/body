def formatwarning(message, category, filename, lineno):
    'Function to format a warning the standard way.'
    s = ('%s:%s: %s: %s\n' % (filename, lineno, category.__name__, message))
    line = linecache.getline(filename, lineno).strip()
    if line:
        s = (((s + '  ') + line) + '\n')
    return s
