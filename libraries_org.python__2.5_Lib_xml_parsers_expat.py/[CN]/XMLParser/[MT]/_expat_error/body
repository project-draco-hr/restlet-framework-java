def _expat_error(self, sax_error):
    sax_message = sax_error.getMessage()
    pattern = 'The entity ".*" was referenced, but not declared\\.'
    if re.match(pattern, sax_message):
        expat_message = ('undefined entity: line %s, column %s' % (self.ErrorLineNumber, self.ErrorColumnNumber))
    else:
        expat_message = sax_message
    error = ExpatError(expat_message)
    error.lineno = self.ErrorLineNumber
    error.offset = self.ErrorColumnNumber
    error.code = self.ErrorCode
    return error
