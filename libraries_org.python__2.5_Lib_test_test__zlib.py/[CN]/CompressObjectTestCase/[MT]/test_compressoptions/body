def test_compressoptions(self):
    level = 2
    method = zlib.DEFLATED
    wbits = (-12)
    memlevel = 9
    strategy = zlib.Z_FILTERED
    co = zlib.compressobj(level, method, wbits, memlevel, strategy)
    x1 = co.compress(HAMLET_SCENE)
    x2 = co.flush()
    dco = zlib.decompressobj(wbits)
    y1 = dco.decompress((x1 + x2))
    y2 = dco.flush()
    self.assertEqual(HAMLET_SCENE, (y1 + y2))
