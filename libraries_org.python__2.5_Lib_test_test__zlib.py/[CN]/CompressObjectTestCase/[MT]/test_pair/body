def test_pair(self):
    data = (HAMLET_SCENE * 128)
    co = zlib.compressobj()
    x1 = co.compress(data)
    x2 = co.flush()
    self.assertRaises(zlib.error, co.flush)
    dco = zlib.decompressobj()
    y1 = dco.decompress((x1 + x2))
    y2 = dco.flush()
    self.assertEqual(data, (y1 + y2))
