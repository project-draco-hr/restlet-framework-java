{
  JSONObject result=new JSONObject();
  try {
    result.put(OAuthServerResource.ERROR,error.name());
    if (description != null && description.length() > 0) {
      result.put(OAuthServerResource.ERROR_DESC,description);
    }
    if (errorUri != null && errorUri.length() > 0) {
      result.put(OAuthServerResource.ERROR_URI,errorUri);
    }
    JsonRepresentation repr=new JsonRepresentation(result);
    getResponse().setEntity(repr);
  }
 catch (  JSONException e) {
    log.log(Level.WARNING,"Error while sending OAuth error.",e);
  }
}
