{
  final MultivaluedMapImpl<String,String> mmap=new MultivaluedMapImpl<String,String>();
  for (  final Parameter param : form) {
    final String key=caseInsensitive ? param.getName().toLowerCase() : param.getName();
    mmap.add(key,param.getValue());
  }
  for (  final Map.Entry<String,List<String>> entry : mmap.entrySet()) {
    final List<String> unmodifiable=Collections.unmodifiableList(entry.getValue());
    mmap.put(entry.getKey(),unmodifiable);
  }
  return mmap;
}
