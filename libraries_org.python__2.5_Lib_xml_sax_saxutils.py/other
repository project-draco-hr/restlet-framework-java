'\nA library of useful helper classes to the saxlib classes, for the\nconvenience of application and driver writers.\n\n$Id: saxutils.py,v 1.37 2005/04/13 14:02:08 syt Exp $\n'
import os, urlparse, urllib2, types
import handler
import xmlreader
import sys, _exceptions, saxlib
from xml.Uri import Absolutize, MakeUrllibSafe, IsAbsolute
try:
    _StringTypes = [types.StringType, types.UnicodeType]
except AttributeError:
    _StringTypes = [types.StringType]
from xmlreader import AttributesImpl
import codecs
if hasattr(codecs, 'register_error'):

    def writetext(stream, text, entities={}):
        stream.errors = 'xmlcharrefreplace'
        stream.write(escape(text, entities))
        stream.errors = 'strict'
else:

    def writetext(stream, text, entities={}):
        text = escape(text, entities)
        try:
            stream.write(text)
        except UnicodeError:
            for c in text:
                try:
                    stream.write(c)
                except UnicodeError:
                    stream.write(('&#%d;' % ord(c)))
XMLFilterImpl = XMLFilterBase
import saxlib
