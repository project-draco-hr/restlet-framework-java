def lstat(path):
    'lstat(path) -> stat result\n\n    Like stat(path), but do not follow symbolic links.\n    '
    abs_path = sys.getPath(path)
    try:
        return stat_result.from_jnastat(_posix.lstat(abs_path))
    except NotImplementedError:
        pass
    except:
        raise
    f = File(sys.getPath(path))
    abs_parent = f.getAbsoluteFile().getParentFile()
    if (not abs_parent):
        return stat(path)
    can_parent = abs_parent.getCanonicalFile()
    if (can_parent.getAbsolutePath() == abs_parent.getAbsolutePath()):
        if (f.getAbsolutePath() != f.getCanonicalPath()):
            return stat_result((_stat.S_IFLNK, 0, 0, 0, 0, 0, 0, 0, 0, 0))
    f = File(_path.join(can_parent.getAbsolutePath(), f.getName()))
    if (f.getAbsolutePath() != f.getCanonicalPath()):
        return stat_result((_stat.S_IFLNK, 0, 0, 0, 0, 0, 0, 0, 0, 0))
    if (not f.exists()):
        raise OSError(errno.ENOENT, strerror(errno.ENOENT), path)
    return stat(path)
