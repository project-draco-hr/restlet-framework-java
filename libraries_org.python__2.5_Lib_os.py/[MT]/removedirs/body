def removedirs(name):
    'removedirs(path)\n\n    Super-rmdir; remove a leaf directory and empty all intermediate\n    ones.  Works like rmdir except that, if the leaf directory is\n    successfully removed, directories corresponding to rightmost path\n    segments will be pruned away until either the whole path is\n    consumed or an error occurs.  Errors during this latter phase are\n    ignored -- they generally mean that a directory was not empty.\n\n    '
    rmdir(name)
    (head, tail) = path.split(name)
    if (not tail):
        (head, tail) = path.split(head)
    while (head and tail):
        try:
            rmdir(head)
        except error:
            break
        (head, tail) = path.split(head)
