'Regression test.\n\nThis will find all modules whose name is "test_*" in the test\ndirectory, and run them.  Various command line options provide\nadditional facilities.\n\nCommand line options:\n\n-v: verbose   -- run tests in verbose mode with output to stdout\n-q: quiet     -- don\'t print anything except if a test fails\n-g: generate  -- write the output file for a test instead of comparing it\n-a: all       -- execute tests in all test(/regrtest.py) dirs on sys.path\n  : broad     -- execute tests in all test(/regrtest.py) dirs on sys.path\n-x: exclude   -- arguments are tests to *exclude*\n[NOT SUPPORTED -s: single    -- run only a single test (see below)]\n-r: random    -- randomize test execution order\n-m: memo      -- save results to file\n-l: findleaks -- if GC is available detect tests that leak memory\n-u: use       -- specify which special resource intensive tests to run\n-h: help      -- print this text and exit\n\nIf non-option arguments are present, they are names for tests to run,\nunless -x is given, in which case they are names for tests not to run.\nIf no test names are given, all tests are run.\n\n-v is incompatible with -g and does not compare test output files.\n\n-s means to run only a single test and exit.  This is useful when\ndoing memory analysis on the Python interpreter (which tend to consume\ntoo many resources to run the full regression test non-stop).  The\nfile /tmp/pynexttest is read to find the next test to run.  If this\nfile is missing, the first test_*.py file in testdir or on the command\nline is used.  (actually tempfile.gettempdir() is used instead of\n/tmp).\n\n-u is used to specify which special resource intensive tests to run,\nsuch as those requiring large file support or network connectivity.\nThe argument is a comma-separated list of words indicating the\nresources to test.  Currently only the following are defined:\n\n    all -       Enable all special resources.\n\n    curses -    Tests that use curses and will modify the terminal\'s\n                state and output modes.\n\n    largefile - It is okay to run some test that may create huge\n                files.  These tests can take a long time and may\n                consume >2GB of disk space temporarily.\n\n    network -   It is okay to run tests that use external network\n                resource, e.g. testing SSL support for sockets.\n\nTo enable all resources except one, use \'-uall,-<resource>\'.  For\nexample, to run all the tests except for the network tests, give the\noption \'-uall,-network\'.\n'
import sys
import os
import getopt
import traceback
import random
import StringIO
import test_support
sys.modules['test.test_support'] = test_support
ALL = 0
_INDIRECTARGS = '@'
RESOURCE_NAMES = ['curses', 'largefile', 'network']
STDTESTS = ['test_grammar', 'test_opcodes', 'test_operations', 'test_builtin', 'test_exceptions', 'test_types']
NOTTESTS = ['test_support', 'test_b1', 'test_b2', 'test_future1', 'test_future2', 'test_future3']
_skips = {'win32': '\n        test_al\n        test_cd\n        test_cl\n        test_commands\n        test_crypt\n        test_curses\n        test_dbm\n        test_dl\n        test_email_codecs\n        test_fcntl\n        test_fork1\n        test_gdbm\n        test_gl\n        test_grp\n        test_imgfile\n        test_largefile\n        test_linuxaudiodev\n        test_mhlib\n        test_nis\n        test_openpty\n        test_poll\n        test_pty\n        test_pwd\n        test_signal\n        test_socket_ssl\n        test_socketserver\n        test_sunaudiodev\n        test_timing\n        ', 'linux2': '\n        test_al\n        test_cd\n        test_cl\n        test_curses\n        test_dl\n        test_email_codecs\n        test_gl\n        test_imgfile\n        test_largefile\n        test_nis\n        test_ntpath\n        test_socket_ssl\n        test_socketserver\n        test_sunaudiodev\n        test_unicode_file\n        test_winreg\n        test_winsound\n        ', 'mac': '\n        test_al\n        test_bsddb\n        test_cd\n        test_cl\n        test_commands\n        test_crypt\n        test_curses\n        test_dbm\n        test_dl\n        test_email_codecs\n        test_fcntl\n        test_fork1\n        test_gl\n        test_grp\n        test_imgfile\n        test_largefile\n        test_linuxaudiodev\n        test_locale\n        test_mmap\n        test_nis\n        test_ntpath\n        test_openpty\n        test_poll\n        test_popen2\n        test_pty\n        test_pwd\n        test_signal\n        test_socket_ssl\n        test_socketserver\n        test_sunaudiodev\n        test_sundry\n        test_timing\n        test_unicode_file\n        test_winreg\n        test_winsound\n        ', 'unixware7': '\n        test_al\n        test_bsddb\n        test_cd\n        test_cl\n        test_dl\n        test_email_codecs\n        test_gl\n        test_imgfile\n        test_largefile\n        test_linuxaudiodev\n        test_minidom\n        test_nis\n        test_ntpath\n        test_openpty\n        test_pyexpat\n        test_sax\n        test_socketserver\n        test_sunaudiodev\n        test_sundry\n        test_unicode_file\n        test_winreg\n        test_winsound\n        ', 'openunix8': '\n        test_al\n        test_bsddb\n        test_cd\n        test_cl\n        test_dl\n        test_email_codecs\n        test_gl\n        test_imgfile\n        test_largefile\n        test_linuxaudiodev\n        test_minidom\n        test_nis\n        test_ntpath\n        test_openpty\n        test_pyexpat\n        test_sax\n        test_socketserver\n        test_sunaudiodev\n        test_sundry\n        test_unicode_file\n        test_winreg\n        test_winsound\n        ', 'sco_sv3': '\n        test_al\n        test_asynchat\n        test_bsddb\n        test_cd\n        test_cl\n        test_dl\n        test_email_codecs\n        test_fork1\n        test_gettext\n        test_gl\n        test_imgfile\n        test_largefile\n        test_linuxaudiodev\n        test_locale\n        test_minidom\n        test_nis\n        test_ntpath\n        test_openpty\n        test_pyexpat\n        test_queue\n        test_sax\n        test_socketserver\n        test_sunaudiodev\n        test_sundry\n        test_thread\n        test_threaded_import\n        test_threadedtempfile\n        test_threading\n        test_unicode_file\n        test_winreg\n        test_winsound\n        ', 'riscos': '\n        test_al\n        test_asynchat\n        test_bsddb\n        test_cd\n        test_cl\n        test_commands\n        test_crypt\n        test_dbm\n        test_dl\n        test_email_codecs\n        test_fcntl\n        test_fork1\n        test_gdbm\n        test_gl\n        test_grp\n        test_imgfile\n        test_largefile\n        test_linuxaudiodev\n        test_locale\n        test_mmap\n        test_nis\n        test_ntpath\n        test_openpty\n        test_poll\n        test_popen2\n        test_pty\n        test_pwd\n        test_socket_ssl\n        test_socketserver\n        test_strop\n        test_sunaudiodev\n        test_sundry\n        test_thread\n        test_threaded_import\n        test_threadedtempfile\n        test_threading\n        test_timing\n        test_unicode_file\n        test_winreg\n        test_winsound\n        ', 'darwin': '\n        test_al\n        test_cd\n        test_cl\n        test_curses\n        test_dl\n        test_email_codecs\n        test_gdbm\n        test_gl\n        test_imgfile\n        test_largefile\n        test_locale\n        test_linuxaudiodev\n        test_minidom\n        test_nis\n        test_ntpath\n        test_poll\n        test_socket_ssl\n        test_socketserver\n        test_sunaudiodev\n        test_unicode_file\n        test_winreg\n        test_winsound\n        ', 'sunos5': '\n        test_al\n        test_bsddb\n        test_cd\n        test_cl\n        test_curses\n        test_dbm\n        test_email_codecs\n        test_gdbm\n        test_gl\n        test_gzip\n        test_imgfile\n        test_linuxaudiodev\n        test_mpz\n        test_openpty\n        test_socketserver\n        test_zipfile\n        test_zlib\n        ', 'hp-ux11': '\n        test_al\n        test_bsddb\n        test_cd\n        test_cl\n        test_curses\n        test_dl\n        test_gdbm\n        test_gl\n        test_gzip\n        test_imgfile\n        test_largefile\n        test_linuxaudiodev\n        test_locale\n        test_minidom\n        test_nis\n        test_ntpath\n        test_openpty\n        test_pyexpat\n        test_sax\n        test_socketserver\n        test_sunaudiodev\n        test_zipfile\n        test_zlib\n        ', 'freebsd4': '\n\ttest_al\n\ttest_cd\n\ttest_cl\n\ttest_curses\n\ttest_email_codecs\n\ttest_gdbm\n\ttest_gl\n\ttest_imgfile\n\ttest_linuxaudiodev\n\ttest_locale\n\ttest_minidom\n\ttest_nis\n\ttest_pyexpat\n\ttest_sax\n\ttest_socket_ssl\n\ttest_socketserver\n\ttest_sunaudiodev\n\ttest_unicode_file\n\ttest_winreg\n\ttest_winsound\n\t', 'java': '\n\ttest_al\n\ttest_asynchat\n\ttest_audioop\n\ttest_bsddb\n\ttest_capi\n\ttest_cd\n\ttest_cl\n\ttest_cmath\n\ttest_commands\n\ttest_crypt\n\ttest_curses\n\ttest_dbm\n\ttest_dl\n\ttest_email\n\ttest_email_codecs\n\ttest_fcntl\n\ttest_fork1\n\ttest_gc\n\ttest_gdbm\n\ttest_gettext\n\ttest_gl\n\ttest_grp\n\ttest_hotshot\n\ttest_imageop\n\ttest_imgfile\n\ttest_linuxaudiodev\n\ttest_locale\n\ttest_longexp\n\ttest_mmap\n\ttest_nis\n\ttest_openpty\n\ttest_parser\n\ttest_poll\n\ttest_pty\n\ttest_pwd\n\ttest_pyexpat\n\ttest_regex\n\ttest_rgbimg\n\ttest_rotor\n\ttest_select\n\ttest_signal\n\ttest_socket_ssl\n\ttest_socketserver\n\ttest_strop\n\ttest_sunaudiodev\n\ttest_sundry\n\ttest_symtable\n\ttest_timing\n\ttest_ucn\n\ttest_unicode_file\n\ttest_unicodedata\n\ttest_wave\n\ttest_winreg\n\ttest_winsound\n\t', }
if (test_support.is_jython and test_support.underlying_system.startswith('win')):
    _skips['java'] += 'test_mhlib'
_failures = {'java': '\n    test_atexit\n    test_class\n    test_cpickle\n    test_descr\n    test_descrtut\n    test_frozen\n    test_marshal\n    test_new\n    test_pickle\n    test_pkgimport\n    test_profilehooks\n    test_pyclbr\n    test_sre\n    test_threaded_import\n    test_trace\n    test_weakref\n    ', }
if (__name__ == '__main__'):
    sys.exit(main())
