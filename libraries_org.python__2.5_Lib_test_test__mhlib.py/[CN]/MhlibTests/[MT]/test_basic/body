def test_basic(self):
    writeContext('inbox')
    writeCurMessage('inbox', 2)
    mh = getMH()
    eq = self.assertEquals
    eq(mh.getprofile('Editor'), 'emacs')
    eq(mh.getprofile('not-set'), None)
    eq(mh.getpath(), os.path.abspath(_mhpath))
    eq(mh.getcontext(), 'inbox')
    mh.setcontext('wide')
    eq(mh.getcontext(), 'wide')
    eq(readFile(os.path.join(_mhpath, 'context')), 'Current-Folder: wide\n')
    mh.setcontext('inbox')
    inbox = mh.openfolder('inbox')
    eq(inbox.getfullname(), os.path.join(os.path.abspath(_mhpath), 'inbox'))
    eq(inbox.getsequencesfilename(), os.path.join(os.path.abspath(_mhpath), 'inbox', '.mh_sequences'))
    eq(inbox.getmessagefilename(1), os.path.join(os.path.abspath(_mhpath), 'inbox', '1'))
