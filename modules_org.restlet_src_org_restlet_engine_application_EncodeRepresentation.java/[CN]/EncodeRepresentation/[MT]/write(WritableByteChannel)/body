{
  if (canEncode()) {
    OutputStream os=NioUtils.getOutputStream(writableChannel);
    write(os);
    os.flush();
  }
 else {
    getWrappedRepresentation().write(writableChannel);
  }
}
