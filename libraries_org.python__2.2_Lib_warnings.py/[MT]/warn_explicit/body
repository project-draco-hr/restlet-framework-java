def warn_explicit(message, category, filename, lineno, module=None, registry=None):
    if (module is None):
        module = filename
        if (module[(-3):].lower() == '.py'):
            module = module[:(-3)]
    if (registry is None):
        registry = {}
    key = (message, category, lineno)
    if registry.get(key):
        return
    for item in filters:
        (action, msg, cat, mod, ln) = item
        if (msg.match(message) and issubclass(category, cat) and mod.match(module) and ((ln == 0) or (lineno == ln))):
            break
    else:
        action = defaultaction
    if (action == 'ignore'):
        registry[key] = 1
        return
    if (action == 'error'):
        raise category(message)
    if (action == 'once'):
        registry[key] = 1
        oncekey = (message, category)
        if onceregistry.get(oncekey):
            return
        onceregistry[oncekey] = 1
    elif (action == 'always'):
        pass
    elif (action == 'module'):
        registry[key] = 1
        altkey = (message, category, 0)
        if registry.get(altkey):
            return
        registry[altkey] = 1
    elif (action == 'default'):
        registry[key] = 1
    else:
        raise RuntimeError(('Unrecognized action (%s) in warnings.filters:\n %s' % (`action`, str(item))))
    showwarning(message, category, filename, lineno)
