{
  ResourceListing result=new ResourceListing();
  result.setApiVersion(definition.getVersion());
  result.setInfo(new ApiInfo());
  if (definition.getContact() != null) {
    result.getInfo().setContact(definition.getContact());
  }
  if (definition.getLicense() != null) {
    result.getInfo().setLicenseUrl(definition.getLicense());
  }
  if (definition.getContract() != null) {
    result.getInfo().setTitle(definition.getContract().getName());
    result.getInfo().setDescription(definition.getContract().getDescription());
  }
  result.setBasePath(definition.getEndpoint());
  if (definition.getContract() != null && definition.getContract().getResources() != null) {
    result.setApis(new ArrayList<ResourceDeclaration>());
    for (    Resource resource : definition.getContract().getResources()) {
      ResourceDeclaration rd=new ResourceDeclaration();
      rd.setDescription(resource.getDescription());
      rd.setPath(resource.getResourcePath());
      rd.setOperations(new ArrayList<ResourceOperationDeclaration>());
      if (resource.getOperations() != null) {
        for (        Operation operation : resource.getOperations()) {
          ResourceOperationDeclaration rod=new ResourceOperationDeclaration();
          rod.setConsumes(operation.getConsumes());
          rod.setMethod(operation.getMethod());
          rod.setNickname(operation.getName());
          rod.setParameters(parameters);
          rod.setProduces(operation.getProduces());
          rod.setResponseMessages(responseMessages);
          rod.setSummary(operation.getDescription());
          if (operation.getOutRepresentation() != null) {
            if (operation.getOutRepresentation().isArray()) {
              rod.setType("array");
              if (operation.getOutRepresentation().getRepresentation() != null) {
                rod.setItems(new ItemsDeclaration());
                rod.getItems().setType(operation.getOutRepresentation().getRepresentation());
                rod.getItems().setRef(operation.getOutRepresentation().getRepresentation());
              }
            }
 else {
              rod.setType(operation.getOutRepresentation().getRepresentation());
              rod.setRef(operation.getOutRepresentation().getRepresentation());
            }
          }
 else           if (operation.getResponses() != null) {
            for (            Response response : operation.getResponses()) {
              if (Status.isSuccess(response.getCode())) {
              }
            }
          }
          rd.getOperations().add(rod);
        }
      }
      result.getApis().add(rd);
    }
    definition.getContract().getRepresentations();
    definition.getContract().getResources();
  }
  return result;
}
