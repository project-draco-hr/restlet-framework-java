def ptr(self, name, argtypes, restype):
    key = (name, tuple(argtypes), restype)
    try:
        return self.cache[key]
    except KeyError:
        fn = self.lib.getFunction(name)
        fnp = FuncPtr(fn, name, argtypes, restype)
        self.cache[key] = fnp
        return fnp
