def test_indices(self):
    self.assertEqual(slice(None).indices(10), (0, 10, 1))
    self.assertEqual(slice(None, None, 2).indices(10), (0, 10, 2))
    self.assertEqual(slice(1, None, 2).indices(10), (1, 10, 2))
    self.assertEqual(slice(None, None, (-1)).indices(10), (9, (-1), (-1)))
    self.assertEqual(slice(None, None, (-2)).indices(10), (9, (-1), (-2)))
    self.assertEqual(slice(3, None, (-2)).indices(10), (3, (-1), (-2)))
    self.assertEqual(slice((-100), 100).indices(10), slice(None).indices(10))
    self.assertEqual(slice(100, (-100), (-1)).indices(10), slice(None, None, (-1)).indices(10))
    self.assertEqual(slice((-100L), 100L, 2L).indices(10), (0, 10, 2))
    self.assertEqual(range(10)[::(sys.maxint - 1)], [0])
    self.assertRaises(OverflowError, slice(None).indices, (1L << 100))
