def test_request_port(self):
    from urllib2 import Request
    from cookielib import request_port, DEFAULT_HTTP_PORT
    req = Request('http://www.acme.com:1234/', headers={'Host': 'www.acme.com:4321', })
    self.assertEquals(request_port(req), '1234')
    req = Request('http://www.acme.com/', headers={'Host': 'www.acme.com:4321', })
    self.assertEquals(request_port(req), DEFAULT_HTTP_PORT)
