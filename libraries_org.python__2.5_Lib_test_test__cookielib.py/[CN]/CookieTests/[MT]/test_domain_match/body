def test_domain_match(self):
    from cookielib import domain_match, user_domain_match
    self.assert_(domain_match('192.168.1.1', '192.168.1.1'))
    self.assert_((not domain_match('192.168.1.1', '.168.1.1')))
    self.assert_(domain_match('x.y.com', 'x.Y.com'))
    self.assert_(domain_match('x.y.com', '.Y.com'))
    self.assert_((not domain_match('x.y.com', 'Y.com')))
    self.assert_(domain_match('a.b.c.com', '.c.com'))
    self.assert_((not domain_match('.c.com', 'a.b.c.com')))
    self.assert_(domain_match('example.local', '.local'))
    self.assert_((not domain_match('blah.blah', '')))
    self.assert_((not domain_match('', '.rhubarb.rhubarb')))
    self.assert_(domain_match('', ''))
    self.assert_(user_domain_match('acme.com', 'acme.com'))
    self.assert_((not user_domain_match('acme.com', '.acme.com')))
    self.assert_(user_domain_match('rhubarb.acme.com', '.acme.com'))
    self.assert_(user_domain_match('www.rhubarb.acme.com', '.acme.com'))
    self.assert_(user_domain_match('x.y.com', 'x.Y.com'))
    self.assert_(user_domain_match('x.y.com', '.Y.com'))
    self.assert_((not user_domain_match('x.y.com', 'Y.com')))
    self.assert_(user_domain_match('y.com', 'Y.com'))
    self.assert_((not user_domain_match('.y.com', 'Y.com')))
    self.assert_(user_domain_match('.y.com', '.Y.com'))
    self.assert_(user_domain_match('x.y.com', '.com'))
    self.assert_((not user_domain_match('x.y.com', 'com')))
    self.assert_((not user_domain_match('x.y.com', 'm')))
    self.assert_((not user_domain_match('x.y.com', '.m')))
    self.assert_((not user_domain_match('x.y.com', '')))
    self.assert_((not user_domain_match('x.y.com', '.')))
    self.assert_(user_domain_match('192.168.1.1', '192.168.1.1'))
    self.assert_((not user_domain_match('192.168.1.1', '.168.1.1')))
    self.assert_((not user_domain_match('192.168.1.1', '.')))
    self.assert_((not user_domain_match('192.168.1.1', '')))
