def test_strict_domain(self):
    from cookielib import CookieJar, DefaultCookiePolicy
    cp = DefaultCookiePolicy(strict_domain=True)
    cj = CookieJar(policy=cp)
    interact_netscape(cj, 'http://example.co.uk/', 'no=problemo')
    interact_netscape(cj, 'http://example.co.uk/', 'okey=dokey; Domain=.example.co.uk')
    self.assertEquals(len(cj), 2)
    for pseudo_tld in ['.co.uk', '.org.za', '.tx.us', '.name.us']:
        interact_netscape(cj, ('http://example.%s/' % pseudo_tld), 'spam=eggs; Domain=.co.uk')
        self.assertEquals(len(cj), 2)
