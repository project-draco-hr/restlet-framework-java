{
  org.restlet.service.ConnegService connegService=null;
  MetadataService metadataService=null;
  org.restlet.Application app=org.restlet.Application.getCurrent();
  if (app == null) {
    connegService=new org.restlet.service.ConnegService();
    metadataService=new MetadataService();
  }
 else {
    connegService=app.getConnegService();
    metadataService=app.getMetadataService();
  }
  Request request=new Request();
  request.setClientInfo(this);
  return connegService.getPreferredVariant(variants,request,metadataService);
}
