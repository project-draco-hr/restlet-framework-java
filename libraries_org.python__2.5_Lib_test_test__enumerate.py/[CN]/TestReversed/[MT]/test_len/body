def test_len(self):
    from test.test_iterlen import len
    for s in ('hello', tuple('hello'), list('hello'), xrange(5)):
        self.assertEqual(len(reversed(s)), len(s))
        r = reversed(s)
        list(r)
        self.assertEqual(len(r), 0)


    class SeqWithWeirdLen:
        called = False

        def __len__(self):
            if (not self.called):
                self.called = True
                return 10
            raise ZeroDivisionError

        def __getitem__(self, index):
            return index
    r = reversed(SeqWithWeirdLen())
    self.assertRaises(ZeroDivisionError, len, r)
