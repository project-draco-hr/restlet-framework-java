def __init__(self, fp, seekable=1):
    'Initialize the class instance and read the headers.'
    if (seekable == 1):
        try:
            fp.tell()
        except (AttributeError, IOError):
            seekable = 0
        else:
            seekable = 1
    self.fp = fp
    self.seekable = seekable
    self.startofheaders = None
    self.startofbody = None
    if self.seekable:
        try:
            self.startofheaders = self.fp.tell()
        except IOError:
            self.seekable = 0
    self.readheaders()
    if self.seekable:
        try:
            self.startofbody = self.fp.tell()
        except IOError:
            self.seekable = 0
