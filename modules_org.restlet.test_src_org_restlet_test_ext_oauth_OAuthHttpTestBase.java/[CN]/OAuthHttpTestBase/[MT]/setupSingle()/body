{
  client=new OAuthClientTestApplication(getProt(),serverPort);
  component=new Component();
  if (https) {
    Context c=component.getServers().add(Protocol.HTTPS,serverPort).getContext();
    configureSslServerParameters(c);
    component.getClients().add(Protocol.HTTPS);
  }
 else {
    component.getServers().add(Protocol.HTTP,serverPort);
  }
  component.getClients().add(Protocol.HTTP);
  component.getClients().add(Protocol.RIAP);
  component.getDefaultHost().attach("/oauth",new OAuthTestApplication(tokenTimeout,getProt(),serverPort));
  component.getDefaultHost().attach("/client",client);
  component.getDefaultHost().attach("/server",new OAuthProtectedTestApplication(getProt(),serverPort));
  component.getDefaultHost().attach("/combo",new OAuthComboTestApplication(getProt(),serverPort,0));
  component.start();
}
