{
  component=new Component();
  if (https) {
    Context c=component.getServers().add(Protocol.HTTPS,serverPort).getContext();
    configureSslServerParameters(c);
    client=new OAuthClientTestApplication(getProt(),serverPort,this.getSslClientParameters());
    component.getDefaultHost().attach("/combo",new OAuthComboTestApplication(getProt(),serverPort,0,this.getSslClientParameters()));
    component.getDefaultHost().attach("/server",new OAuthProtectedTestApplication(getProt(),serverPort,this.getSslClientParameters()));
  }
 else {
    client=new OAuthClientTestApplication(getProt(),serverPort,null);
    component.getServers().add(Protocol.HTTP,serverPort);
    component.getDefaultHost().attach("/combo",new OAuthComboTestApplication(getProt(),serverPort,0,null));
    component.getDefaultHost().attach("/server",new OAuthProtectedTestApplication(getProt(),serverPort,null));
  }
  component.getClients().add(Protocol.HTTP);
  component.getClients().add(Protocol.RIAP);
  component.getDefaultHost().attach("/oauth",new OAuthTestApplication(tokenTimeout,getProt(),serverPort));
  component.getDefaultHost().attach("/client",client);
  component.start();
}
