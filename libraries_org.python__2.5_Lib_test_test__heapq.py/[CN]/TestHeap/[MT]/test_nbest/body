def test_nbest(self):
    data = [random.randrange(2000) for i in range(1000)]
    heap = data[:10]
    heapify(heap)
    for item in data[10:]:
        if (item > heap[0]):
            heapreplace(heap, item)
    self.assertEqual(list(heapiter(heap)), sorted(data)[(-10):])
    self.assertRaises(TypeError, heapreplace, None)
    self.assertRaises(TypeError, heapreplace, None, None)
    self.assertRaises(IndexError, heapreplace, [], None)
