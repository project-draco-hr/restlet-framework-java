def check_cache(self):
    t = time.time()
    if (self.soonest <= t):
        for (k, v) in self.timeout.items():
            if (v < t):
                self.cache[k].close()
                del self.cache[k]
                del self.timeout[k]
    self.soonest = min(self.timeout.values())
    if (len(self.cache) == self.max_conns):
        for (k, v) in self.timeout.items():
            if (v == self.soonest):
                del self.cache[k]
                del self.timeout[k]
                break
        self.soonest = min(self.timeout.values())
