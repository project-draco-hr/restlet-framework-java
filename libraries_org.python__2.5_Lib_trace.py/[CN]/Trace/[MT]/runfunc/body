def runfunc(self, func, *args, **kw):
    result = None
    if (not self.donothing):
        sys.settrace(self.globaltrace)
    try:
        result = func(*args, **kw)
    finally:
        if (not self.donothing):
            sys.settrace(None)
    return result
