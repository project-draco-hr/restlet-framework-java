def runctx(self, cmd, globals=None, locals=None):
    if (globals is None):
        globals = {}
    if (locals is None):
        locals = {}
    if (not self.donothing):
        sys.settrace(self.globaltrace)
        threading.settrace(self.globaltrace)
    try:
        exec cmd in globals, locals
    finally:
        if (not self.donothing):
            sys.settrace(None)
            threading.settrace(None)
