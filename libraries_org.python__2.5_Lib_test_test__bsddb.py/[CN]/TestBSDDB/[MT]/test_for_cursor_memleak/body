def test_for_cursor_memleak(self):
    if (not hasattr(self.f, 'iteritems')):
        return
    nc1 = len(self.f._cursor_refs)
    i = self.f.iteritems()
    nc2 = len(self.f._cursor_refs)
    (k, v) = i.next()
    nc3 = len(self.f._cursor_refs)
    del i
    nc4 = len(self.f._cursor_refs)
    self.assertEqual(nc1, nc2)
    self.assertEqual(nc1, nc4)
    self.assert_((nc3 == (nc1 + 1)))
