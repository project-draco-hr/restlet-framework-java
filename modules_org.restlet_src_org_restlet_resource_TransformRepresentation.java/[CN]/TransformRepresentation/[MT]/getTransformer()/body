{
  Transformer result=this.transformer;
  if (result == null) {
    Templates templates=getTemplates();
    try {
      if (templates != null) {
        result=templates.newTransformer();
      }
    }
 catch (    TransformerConfigurationException tce) {
      throw new IOException("Transformer configuration exception. " + tce.getMessage());
    }
catch (    TransformerFactoryConfigurationError tfce) {
      throw new IOException("Transformer factory configuration exception. " + tfce.getMessage());
    }
  }
  return result;
}
