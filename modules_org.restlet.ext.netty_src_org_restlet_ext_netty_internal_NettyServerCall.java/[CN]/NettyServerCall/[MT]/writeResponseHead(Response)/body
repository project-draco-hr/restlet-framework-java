{
  if (this.response != null) {
    this.response.clearHeaders();
  }
 else {
    final HttpResponseStatus status=new HttpResponseStatus(restletResponse.getStatus().getCode(),restletResponse.getStatus().getName());
    this.response=new DefaultHttpResponse(HttpVersion.HTTP_1_1,status);
  }
  if (shouldResponseBeChunked(restletResponse)) {
    getResponseHeaders().add(HeaderConstants.HEADER_TRANSFER_ENCODING,"chunked");
  }
  for (  final Parameter header : getResponseHeaders()) {
    this.response.addHeader(header.getName(),header.getValue());
  }
}
