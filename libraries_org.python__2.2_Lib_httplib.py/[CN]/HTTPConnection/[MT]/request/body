def request(self, method, url, body=None, headers={}):
    'Send a complete request to the server.'
    try:
        self._send_request(method, url, body, headers)
    except socket.error as v:
        if ((v[0] != 32) or (not self.auto_open)):
            raise
        self._send_request(method, url, body, headers)
