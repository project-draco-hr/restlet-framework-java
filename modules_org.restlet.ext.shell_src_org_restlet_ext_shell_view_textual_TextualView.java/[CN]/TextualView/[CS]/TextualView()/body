{
  try {
    consoleReader=new ConsoleReader();
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  List<String> candidateStringsList=new LinkedList<String>();
  for (  Command command : CommandsSingleton.getInstance().values()) {
    candidateStringsList.addAll(Arrays.asList(command.getAliases()));
  }
  consoleReader.addCompletor(new SimpleCompletor(candidateStringsList.toArray(new String[0])));
  try {
    history=new History(historyFile);
  }
 catch (  IOException e) {
  }
  consoleReader.setHistory(history);
  consoleReader.setUseHistory(true);
}
