{
  Authorizator exampleAuthorizator=new Authorizator(){
    /** 
 * @returns true, if the first char of the password is 'a'
 */
    public boolean checkSecret(    String identifier,    char[] secret){
      if (secret[0] == 'a')       return true;
      return false;
    }
    /** 
 * @return true, if the role name and the username starts with the
 * same char.
 */
    public boolean isUserInRole(    Principal principal,    String role){
      if (role.charAt(0) == principal.getName().charAt(0))       return true;
      return false;
    }
  }
;
  if (!setAuthroizator(exampleAuthorizator))   return;
  startServer();
  ChallengeResponse challengeResponse=new ChallengeResponse(ChallengeScheme.HTTP_BASIC,"fsdf","xyz");
  Response response=accessServer(SecurityContextService.class,null,Method.GET,null,challengeResponse);
  assertEquals(Status.CLIENT_ERROR_UNAUTHORIZED,response.getStatus());
  challengeResponse=new ChallengeResponse(ChallengeScheme.HTTP_BASIC,"fsdf","baj");
  response=accessServer(SecurityContextService.class,null,Method.GET,null,challengeResponse);
  assertEquals(Status.CLIENT_ERROR_FORBIDDEN,response.getStatus());
  challengeResponse=new ChallengeResponse(ChallengeScheme.HTTP_BASIC,"fsdf","baj");
  response=accessServer(SecurityContextService.class,null,Method.GET,null,challengeResponse);
  assertEquals(Status.CLIENT_ERROR_FORBIDDEN,response.getStatus());
}
