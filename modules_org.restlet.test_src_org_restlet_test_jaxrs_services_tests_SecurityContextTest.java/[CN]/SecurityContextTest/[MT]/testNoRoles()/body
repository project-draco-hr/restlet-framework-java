{
  Authenticator exampleAuthorizator=new Authenticator(){
    /** 
 * @returns true, if the first char of the password is 'a'
 * @see Authenticator#checkSecret(String,char[])
 */
    public boolean checkSecret(    String identifier,    char[] secret){
      if (secret[0] == 'a')       return true;
      return false;
    }
    /** 
 * @return true, if the role name and the username starts with the
 * same char.
 * @see Authenticator#isUserInRole(String)
 */
    public boolean isUserInRole(    Principal principal,    String role){
      if (principal == null)       throw new IllegalArgumentException("No principal given");
      if (role == null)       throw new IllegalArgumentException("No role given");
      if (role.charAt(0) == principal.getName().charAt(0))       return true;
      return false;
    }
  }
;
  if (!startServer(exampleAuthorizator))   return;
  ChallengeResponse cr=new ChallengeResponse(ChallengeScheme.HTTP_BASIC,"fsdf","xyz");
  Response response=get(null,cr);
  assertEquals(Status.CLIENT_ERROR_UNAUTHORIZED,response.getStatus());
  cr=new ChallengeResponse(ChallengeScheme.HTTP_BASIC,"fsdf","baj");
  response=get(null,cr);
  assertEquals(Status.CLIENT_ERROR_UNAUTHORIZED,response.getStatus());
  cr=new ChallengeResponse(ChallengeScheme.HTTP_BASIC,"fsdf","abj");
  response=get(null,cr);
  assertEquals(Status.CLIENT_ERROR_FORBIDDEN,response.getStatus());
  cr=new ChallengeResponse(ChallengeScheme.HTTP_BASIC,"bsdf","abaj");
  response=get(null,cr);
  assertEquals(Status.SUCCESS_OK,response.getStatus());
  cr=new ChallengeResponse(ChallengeScheme.HTTP_BASIC,"fsdf","axa2");
  response=post(null,new Form("abc=def").getWebRepresentation(),cr);
  sysOutEntityIfError(response);
  assertEquals(Status.SUCCESS_CREATED,response.getStatus());
  response=accessServer(Method.PUT,SEC_CONT_SERV,null,null,cr);
  assertEquals(Status.CLIENT_ERROR_METHOD_NOT_ALLOWED,response.getStatus());
}
