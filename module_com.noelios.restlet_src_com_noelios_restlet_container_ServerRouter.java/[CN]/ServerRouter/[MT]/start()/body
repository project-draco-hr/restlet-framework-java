{
  for (  VirtualHost host : getContainer().getHosts()) {
    getRoutes().add(new HostRoute(this,host));
  }
  if (getContainer().getDefaultHost() != null) {
    getRoutes().add(new HostRoute(this,getContainer().getDefaultHost()));
  }
  Restlet noHostMatched=new Restlet(getContainer().getContext()){
    public void handle(    Request request,    Response response){
      response.setStatus(Status.CLIENT_ERROR_NOT_FOUND,"No virtual host could handle the request");
    }
  }
;
  setDefaultRoute(new Route(this,"",noHostMatched));
  super.start();
}
