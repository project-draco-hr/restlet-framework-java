{
  int socketInterestOps=getSocketInterestOps();
  if ((getSocketKey() == null) && (socketInterestOps > 0)) {
    try {
      setSocketKey(getConnection().getSocketChannel().register(selector,socketInterestOps,this));
    }
 catch (    ClosedChannelException cce) {
      getLogger().log(Level.WARNING,"Unable to register NIO interest operations for this connection",cce);
      getConnection().setState(ConnectionState.CLOSING);
    }
  }
 else {
    if (socketInterestOps == 0) {
      getSocketKey().cancel();
    }
 else {
      getSocketKey().interestOps(socketInterestOps);
    }
  }
}
