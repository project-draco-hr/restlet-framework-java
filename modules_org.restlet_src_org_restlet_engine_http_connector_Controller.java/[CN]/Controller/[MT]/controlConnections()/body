{
  for (  final Connection<?> conn : getHelper().getConnections()) {
    if (conn.getState() == ConnectionState.CLOSED) {
      getHelper().getConnections().remove(conn);
    }
 else     if ((conn.getState() == ConnectionState.CLOSING) && !conn.isBusy()) {
      conn.close();
    }
 else {
      if ((isOverloaded() && !getHelper().isClientSide()) || conn.canWrite()) {
        execute(new Runnable(){
          public void run(){
            conn.writeMessages();
          }
          @Override public String toString(){
            return "Write connection messages";
          }
        }
);
      }
      if ((isOverloaded() && getHelper().isClientSide()) || conn.canRead()) {
        execute(new Runnable(){
          public void run(){
            conn.readMessages();
          }
          @Override public String toString(){
            return "Read connection messages: " + conn.canRead();
          }
        }
);
      }
    }
  }
}
