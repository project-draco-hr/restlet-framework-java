def test_difference(self):
    i = self.s.difference(self.otherword)
    for c in self.letters:
        self.assertEqual((c in i), ((c in self.d) and (c not in self.otherword)))
    self.assertEqual(self.s, self.thetype(self.word))
    self.assertEqual(type(i), self.thetype)
    self.assertRaises(PassThru, self.s.difference, check_pass_thru())
    self.assertRaises(TypeError, self.s.difference, [[]])
    for C in (set, frozenset, dict.fromkeys, str, unicode, list, tuple):
        self.assertEqual(self.thetype('abcba').difference(C('cdc')), set('ab'))
        self.assertEqual(self.thetype('abcba').difference(C('efgfe')), set('abc'))
        self.assertEqual(self.thetype('abcba').difference(C('ccb')), set('a'))
        self.assertEqual(self.thetype('abcba').difference(C('ef')), set('abc'))
