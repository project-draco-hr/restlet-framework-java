def test_subclass_with_custom_hash(self):


    class H(self.thetype):

        def __hash__(self):
            return int((id(self) & 2147483647))
    s = H()
    f = set()
    f.add(s)
    self.assert_((s in f))
    f.remove(s)
    f.add(s)
    f.discard(s)
