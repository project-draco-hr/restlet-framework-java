def check_popitem(self, klass, key1, value1, key2, value2):
    weakdict = klass()
    weakdict[key1] = value1
    weakdict[key2] = value2
    self.assert_((len(weakdict) == 2))
    (k, v) = weakdict.popitem()
    self.assert_((len(weakdict) == 1))
    if (k is key1):
        self.assert_((v is value1))
    else:
        self.assert_((v is value2))
    (k, v) = weakdict.popitem()
    self.assert_((len(weakdict) == 0))
    if (k is key1):
        self.assert_((v is value1))
    else:
        self.assert_((v is value2))
