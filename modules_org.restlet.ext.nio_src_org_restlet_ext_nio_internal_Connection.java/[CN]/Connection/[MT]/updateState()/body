{
  boolean result=true;
  if (getState() != ConnectionState.CLOSED) {
    String oldState=null;
    if (getHelper().getLogger().isLoggable(Level.FINEST)) {
      oldState=getRegistration().toString();
    }
    getInboundWay().updateState();
    getOutboundWay().updateState();
    result=getRegistration().setInterestOperations(getInboundWay().getRegistration().getInterestOperations() | getOutboundWay().getRegistration().getInterestOperations());
    if (getHelper().getLogger().isLoggable(Level.FINEST)) {
      String newState=getRegistration().toString();
      if (!oldState.equals(newState)) {
        getHelper().getLogger().log(Level.FINEST,"Old connection NIO interest: " + oldState);
        getHelper().getLogger().log(Level.FINEST,"New connection NIO interest: " + newState);
      }
    }
  }
  return result;
}
