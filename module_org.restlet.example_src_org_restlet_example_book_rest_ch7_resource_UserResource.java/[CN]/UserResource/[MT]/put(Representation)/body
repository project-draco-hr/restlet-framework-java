{
  if (entity.getMediaType().equals(MediaType.APPLICATION_WWW_FORM)) {
    boolean canSet=true;
    if (this.user == null) {
      this.user=new User();
      this.user.setName(this.userName);
      getResponse().setStatus(Status.SUCCESS_CREATED);
    }
 else {
switch (checkAuthorization()) {
case 1:
        getResponse().setStatus(Status.SUCCESS_NO_CONTENT);
case 0:
      setChallengeResponse();
    canSet=false;
case -1:
  getResponse().setStatus(Status.CLIENT_ERROR_UNAUTHORIZED);
canSet=false;
}
}
if (canSet) {
Form form=new Form(entity);
this.user.setEmail(form.getFirstValue("user[email]"));
this.user.setFullName(form.getFirstValue("user[full_name]"));
this.user.setPassword(form.getFirstValue("user[password]"));
getContainer().set(this.user);
getContainer().commit();
}
}
}
