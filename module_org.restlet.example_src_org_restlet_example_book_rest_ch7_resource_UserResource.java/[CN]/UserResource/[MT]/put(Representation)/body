{
  Response result=null;
  if (entity.getMediaType().equals(MediaType.APPLICATION_WWW_FORM)) {
    boolean canSet=true;
    if (this.user == null) {
      this.user=new User();
      this.user.setName(this.userName);
      result=new Response(Status.SUCCESS_CREATED);
    }
 else {
switch (checkAuthorization()) {
case 1:
        result=new Response(Status.SUCCESS_NO_CONTENT);
case 0:
      result=getChallengeResponse();
    canSet=false;
case -1:
  result=new Response(Status.CLIENT_ERROR_UNAUTHORIZED);
canSet=false;
}
}
if (canSet) {
Form form=new Form(entity);
this.user.setEmail(form.getFirstValue("user[email]"));
this.user.setFullName(form.getFirstValue("user[full_name]"));
this.user.setPassword(form.getFirstValue("user[password]"));
getContainer().set(this.user);
getContainer().commit();
}
}
return result;
}
