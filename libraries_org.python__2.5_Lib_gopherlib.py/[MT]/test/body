def test():
    'Trivial test program.'
    import sys
    import getopt
    (opts, args) = getopt.getopt(sys.argv[1:], '')
    selector = DEF_SELECTOR
    type = selector[0]
    host = DEF_HOST
    if args:
        host = args[0]
        args = args[1:]
    if args:
        type = args[0]
        args = args[1:]
        if (len(type) > 1):
            (type, selector) = (type[0], type)
        else:
            selector = ''
            if args:
                selector = args[0]
                args = args[1:]
        query = ''
        if args:
            query = args[0]
            args = args[1:]
    if (type == A_INDEX):
        f = send_query(selector, query, host)
    else:
        f = send_selector(selector, host)
    if (type == A_TEXT):
        lines = get_textfile(f)
        for item in lines:
            print item
    elif (type in (A_MENU, A_INDEX)):
        entries = get_directory(f)
        for item in entries:
            print item
    else:
        data = get_binary(f)
        print 'binary data:', len(data), 'bytes:', repr(data[:100])[:40]
