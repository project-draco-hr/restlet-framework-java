{
  if (getMetadata() == null) {
    return;
  }
  Entry entry=new Entry();
  entry.setContent(toContent(entity));
  ClientResource resource=new ClientResource(new Reference(serviceRef.toString() + getMetadata().getSubpath(entity)));
  resource.setChallengeResponse(getCredentials());
  resource.put(entry);
  this.latestRequest=resource.getRequest();
  this.latestResponse=resource.getResponse();
  if (!resource.getStatus().isSuccess()) {
    throw new ResourceException(resource.getStatus(),"Can't update this entity " + resource.getReference());
  }
}
