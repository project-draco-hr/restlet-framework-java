def _ensure_tested_string(self, option, tester, what, error_fmt, default=None):
    val = self._ensure_stringlike(option, what, default)
    if ((val is not None) and (not tester(val))):
        raise DistutilsOptionError, (("error in '%s' option: " + error_fmt) % (option, val))
