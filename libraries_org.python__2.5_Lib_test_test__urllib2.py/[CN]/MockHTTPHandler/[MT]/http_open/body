def http_open(self, req):
    import mimetools, httplib, copy
    from StringIO import StringIO
    self.requests.append(copy.deepcopy(req))
    if (self._count == 0):
        self._count = (self._count + 1)
        name = httplib.responses[self.code]
        msg = mimetools.Message(StringIO(self.headers))
        return self.parent.error('http', req, MockFile(), self.code, name, msg)
    else:
        self.req = req
        msg = mimetools.Message(StringIO('\r\n\r\n'))
        return MockResponse(200, 'OK', msg, '', req.get_full_url())
