def test_raise(self):
    o = OpenerDirector()
    meth_spec = [[('http_open', 'raise')], [('http_open', 'return self')]]
    handlers = add_ordered_mock_handlers(o, meth_spec)
    req = Request('http://example.com/')
    self.assertRaises(urllib2.URLError, o.open, req)
    self.assertEqual(o.calls, [(handlers[0], 'http_open', (req,), {})])
