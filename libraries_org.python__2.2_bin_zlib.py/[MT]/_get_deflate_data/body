def _get_deflate_data(deflater):
    buf = jarray.zeros(1024, 'b')
    sb = StringBuffer()
    while (not deflater.finished()):
        l = deflater.deflate(buf)
        if (l == 0):
            break
        sb.append(String(buf, 0, 0, l))
    return sb.toString()
