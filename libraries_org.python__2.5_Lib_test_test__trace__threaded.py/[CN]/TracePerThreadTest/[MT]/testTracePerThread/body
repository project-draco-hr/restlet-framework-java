def testTracePerThread(self):
    called = []

    def ontrace(co_name):
        called.append(str(co_name))
    untraced = UntracedThread()
    traced = TracedThread(ontrace)
    untraced.start()
    traced.start()
    untraced.join()
    traced.join()
    self.assertEquals(10, called.count('tracedcall'), ('10 tracedcall should be in %s' % called))
    self.assert_(('untracedcall' not in called), ("untracedcall shouldn't be in %s" % called))
