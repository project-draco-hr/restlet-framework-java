def __init__(self, input_charset=DEFAULT_CHARSET):
    input_charset = input_charset.lower()
    self.input_charset = ALIASES.get(input_charset, input_charset)
    (henc, benc, conv) = CHARSETS.get(self.input_charset, (SHORTEST, BASE64, None))
    self.header_encoding = henc
    self.body_encoding = benc
    self.output_charset = ALIASES.get(conv, conv)
    self.input_codec = CODEC_MAP.get(self.input_charset, self.input_charset)
    self.output_codec = CODEC_MAP.get(self.output_charset, self.input_codec)
