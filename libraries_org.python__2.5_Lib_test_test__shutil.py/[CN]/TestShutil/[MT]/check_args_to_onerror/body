def check_args_to_onerror(self, func, arg, exc):
    if (self.errorState == 0):
        self.assertEqual(func, os.remove)
        self.assertEqual(arg, self.childpath)
        self.failUnless(issubclass(exc[0], OSError))
        self.errorState = 1
    else:
        self.assertEqual(func, os.rmdir)
        self.assertEqual(arg, TESTFN)
        self.failUnless(issubclass(exc[0], OSError))
        self.errorState = 2
