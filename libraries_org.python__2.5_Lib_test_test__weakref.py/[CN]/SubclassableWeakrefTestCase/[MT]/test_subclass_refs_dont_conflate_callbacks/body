def test_subclass_refs_dont_conflate_callbacks(self):


    class MyRef(weakref.ref):
        pass
    o = Object(42)
    r1 = MyRef(o, id)
    r2 = MyRef(o, str)
    self.assert_((r1 is not r2))
    refs = weakref.getweakrefs(o)
    self.assert_((r1 in refs))
    self.assert_((r2 in refs))
