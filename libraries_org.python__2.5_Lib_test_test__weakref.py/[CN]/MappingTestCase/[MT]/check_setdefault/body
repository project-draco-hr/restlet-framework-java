def check_setdefault(self, klass, key, value1, value2):
    self.assert_((value1 is not value2), 'invalid test -- value parameters must be distinct objects')
    weakdict = klass()
    o = weakdict.setdefault(key, value1)
    self.assert_((o is value1))
    self.assert_(weakdict.has_key(key))
    self.assert_((weakdict.get(key) is value1))
    self.assert_((weakdict[key] is value1))
    o = weakdict.setdefault(key, value2)
    self.assert_((o is value1))
    self.assert_(weakdict.has_key(key))
    self.assert_((weakdict.get(key) is value1))
    self.assert_((weakdict[key] is value1))
