def testBadModeArgument(self):
    bad_mode = 'qwerty'
    try:
        f = open(TESTFN, bad_mode)
    except ValueError as msg:
        if (msg[0] != 0):
            s = str(msg)
            if ((s.find(TESTFN) != (-1)) or (s.find(bad_mode) == (-1))):
                self.fail(('bad error message for invalid mode: %s' % s))
    else:
        f.close()
        self.fail(('no error for invalid mode: %s' % bad_mode))
