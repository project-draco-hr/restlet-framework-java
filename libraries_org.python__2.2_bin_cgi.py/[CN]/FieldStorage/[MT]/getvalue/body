def getvalue(self, key, default=None):
    "Dictionary style get() method, including 'value' lookup."
    if self.has_key(key):
        value = self[key]
        if (type(value) is type([])):
            return map((lambda v: v.value), value)
        else:
            return value.value
    else:
        return default
