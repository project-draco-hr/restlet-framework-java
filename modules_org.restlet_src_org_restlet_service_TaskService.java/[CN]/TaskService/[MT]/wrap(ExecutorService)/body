{
  return new AbstractExecutorService(){
    public boolean awaitTermination(    long timeout,    TimeUnit unit) throws InterruptedException {
      return executorService.awaitTermination(timeout,unit);
    }
    public void execute(    final Runnable runnable){
      final Application currentApplication=Application.getCurrent();
      final Context currentContext=Context.getCurrent();
      final Integer currentVirtualHost=VirtualHost.getCurrent();
      final Response currentResponse=Response.getCurrent();
      executorService.execute(new Runnable(){
        public void run(){
          Response.setCurrent(currentResponse);
          Context.setCurrent(currentContext);
          VirtualHost.setCurrent(currentVirtualHost);
          Application.setCurrent(currentApplication);
          try {
            runnable.run();
          }
  finally {
            Engine.clearThreadLocalVariables();
          }
        }
      }
);
    }
    public boolean isShutdown(){
      return executorService.isShutdown();
    }
    public boolean isTerminated(){
      return executorService.isTerminated();
    }
    public void shutdown(){
      executorService.shutdown();
    }
    public List<Runnable> shutdownNow(){
      return executorService.shutdownNow();
    }
  }
;
}
