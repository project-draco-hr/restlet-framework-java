def test_dircmp(self):
    d = filecmp.dircmp(self.dir, self.dir_same)
    if self.caseinsensitive:
        self.assertEqual([d.left_list, d.right_list], [['file'], ['FiLe']])
    else:
        self.assertEqual([d.left_list, d.right_list], [['file'], ['file']])
    self.failUnless((d.common == ['file']))
    self.failUnless((d.left_only == d.right_only == []))
    self.failUnless((d.same_files == ['file']))
    self.failUnless((d.diff_files == []))
    d = filecmp.dircmp(self.dir, self.dir_diff)
    self.failUnless((d.left_list == ['file']))
    self.failUnless((d.right_list == ['file', 'file2']))
    self.failUnless((d.common == ['file']))
    self.failUnless((d.left_only == []))
    self.failUnless((d.right_only == ['file2']))
    self.failUnless((d.same_files == ['file']))
    self.failUnless((d.diff_files == []))
    output = open(os.path.join(self.dir, 'file2'), 'w')
    output.write('Different contents.\n')
    output.close()
    d = filecmp.dircmp(self.dir, self.dir_diff)
    self.failUnless((d.same_files == ['file']))
    self.failUnless((d.diff_files == ['file2']))
