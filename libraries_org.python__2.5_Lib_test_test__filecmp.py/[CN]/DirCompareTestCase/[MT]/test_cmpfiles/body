def test_cmpfiles(self):
    self.failUnless((filecmp.cmpfiles(self.dir, self.dir, ['file']) == (['file'], [], [])), 'Comparing directory to itself fails')
    self.failUnless((filecmp.cmpfiles(self.dir, self.dir_same, ['file']) == (['file'], [], [])), 'Comparing directory to same fails')
    self.failUnless((filecmp.cmpfiles(self.dir, self.dir, ['file'], shallow=False) == (['file'], [], [])), 'Comparing directory to itself fails')
    self.failUnless(filecmp.cmpfiles(self.dir, self.dir_same, ['file'], shallow=False), 'Comparing directory to same fails')
    output = open(os.path.join(self.dir, 'file2'), 'w')
    output.write('Different contents.\n')
    output.close()
    self.failIf((filecmp.cmpfiles(self.dir, self.dir_same, ['file', 'file2']) == (['file'], ['file2'], [])), 'Comparing mismatched directories fails')
