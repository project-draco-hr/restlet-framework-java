def _log(self, level, level_str, msg, exc):
    if (level >= self.log_level):
        msg = (self.format_str % {'lvl': level_str, 'msg': msg, })
        if exc:
            self.log_ctx.log(msg, exc)
        else:
            self.log_ctx.log(msg)
