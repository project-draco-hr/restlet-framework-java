def connect(self, host='', port=0):
    'Connect to host.  Arguments are:\n        - host: hostname to connect to (string, default previous host)\n        - port: port to connect to (integer, default previous port)'
    if host:
        self.host = host
    if port:
        self.port = port
    msg = 'getaddrinfo returns an empty list'
    for res in socket.getaddrinfo(self.host, self.port, 0, socket.SOCK_STREAM):
        (af, socktype, proto, canonname, sa) = res
        try:
            self.sock = socket.socket(af, socktype, proto)
            self.sock.connect(sa)
        except socket.error as msg:
            if self.sock:
                self.sock.close()
            self.sock = None
            continue
        break
    if (not self.sock):
        raise socket.error, msg
    self.af = af
    self.file = self.sock.makefile('rb')
    self.welcome = self.getresp()
    return self.welcome
