def close(self):
    'Close the connection without assuming anything about it.'
    if self.file:
        self.file.close()
        self.sock.close()
        self.file = self.sock = None
