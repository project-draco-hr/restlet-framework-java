def pop(self, key, *args):
    if (len(args) > 1):
        raise TypeError, ('pop expected at most 2 arguments, got ' + repr((1 + len(args))))
    try:
        value = self[key]
    except KeyError:
        if args:
            return args[0]
        raise
    del self[key]
    return value
