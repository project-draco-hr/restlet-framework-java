import os
import sys
import time
import stat
import socket
import email
import email.Message
import rfc822
import re
import StringIO
from test import test_support
import unittest
import mailbox
import glob
try:
    import fcntl
except ImportError:
    pass
FROM_ = 'From some.body@dummy.domain  Sat Jul 24 13:43:35 2004\n'
DUMMY_MESSAGE = 'From: some.body@dummy.domain\nTo: me@my.domain\nSubject: Simple Test\n\nThis is a dummy message.\n'
_sample_message = 'Return-Path: <gkj@gregorykjohnson.com>\nX-Original-To: gkj+person@localhost\nDelivered-To: gkj+person@localhost\nReceived: from localhost (localhost [127.0.0.1])\n        by andy.gregorykjohnson.com (Postfix) with ESMTP id 356ED9DD17\n        for <gkj+person@localhost>; Wed, 13 Jul 2005 17:23:16 -0400 (EDT)\nDelivered-To: gkj@sundance.gregorykjohnson.com\nReceived: from localhost [127.0.0.1]\n        by localhost with POP3 (fetchmail-6.2.5)\n        for gkj+person@localhost (single-drop); Wed, 13 Jul 2005 17:23:16 -0400 (EDT)\nReceived: from andy.gregorykjohnson.com (andy.gregorykjohnson.com [64.32.235.228])\n        by sundance.gregorykjohnson.com (Postfix) with ESMTP id 5B056316746\n        for <gkj@gregorykjohnson.com>; Wed, 13 Jul 2005 17:23:11 -0400 (EDT)\nReceived: by andy.gregorykjohnson.com (Postfix, from userid 1000)\n        id 490CD9DD17; Wed, 13 Jul 2005 17:23:11 -0400 (EDT)\nDate: Wed, 13 Jul 2005 17:23:11 -0400\nFrom: "Gregory K. Johnson" <gkj@gregorykjohnson.com>\nTo: gkj@gregorykjohnson.com\nSubject: Sample message\nMessage-ID: <20050713212311.GC4701@andy.gregorykjohnson.com>\nMime-Version: 1.0\nContent-Type: multipart/mixed; boundary="NMuMz9nt05w80d4+"\nContent-Disposition: inline\nUser-Agent: Mutt/1.5.9i\n\n\n--NMuMz9nt05w80d4+\nContent-Type: text/plain; charset=us-ascii\nContent-Disposition: inline\n\nThis is a sample message.\n\n--\nGregory K. Johnson\n\n--NMuMz9nt05w80d4+\nContent-Type: application/octet-stream\nContent-Disposition: attachment; filename="text.gz"\nContent-Transfer-Encoding: base64\n\nH4sICM2D1UIAA3RleHQAC8nILFYAokSFktSKEoW0zJxUPa7wzJIMhZLyfIWczLzUYj0uAHTs\n3FYlAAAA\n\n--NMuMz9nt05w80d4+--\n'
_sample_headers = {'Return-Path': '<gkj@gregorykjohnson.com>', 'X-Original-To': 'gkj+person@localhost', 'Delivered-To': 'gkj+person@localhost', 'Received': 'from localhost (localhost [127.0.0.1])\n        by andy.gregorykjohnson.com (Postfix) with ESMTP id 356ED9DD17\n        for <gkj+person@localhost>; Wed, 13 Jul 2005 17:23:16 -0400 (EDT)', 'Delivered-To': 'gkj@sundance.gregorykjohnson.com', 'Received': 'from localhost [127.0.0.1]\n        by localhost with POP3 (fetchmail-6.2.5)\n        for gkj+person@localhost (single-drop); Wed, 13 Jul 2005 17:23:16 -0400 (EDT)', 'Received': 'from andy.gregorykjohnson.com (andy.gregorykjohnson.com [64.32.235.228])\n        by sundance.gregorykjohnson.com (Postfix) with ESMTP id 5B056316746\n        for <gkj@gregorykjohnson.com>; Wed, 13 Jul 2005 17:23:11 -0400 (EDT)', 'Received': 'by andy.gregorykjohnson.com (Postfix, from userid 1000)\n        id 490CD9DD17; Wed, 13 Jul 2005 17:23:11 -0400 (EDT)', 'Date': 'Wed, 13 Jul 2005 17:23:11 -0400', 'From': '"Gregory K. Johnson" <gkj@gregorykjohnson.com>', 'To': 'gkj@gregorykjohnson.com', 'Subject': 'Sample message', 'Mime-Version': '1.0', 'Content-Type': 'multipart/mixed; boundary="NMuMz9nt05w80d4+"', 'Content-Disposition': 'inline', 'User-Agent': 'Mutt/1.5.9i', }
_sample_payloads = ('This is a sample message.\n\n--\nGregory K. Johnson\n', 'H4sICM2D1UIAA3RleHQAC8nILFYAokSFktSKEoW0zJxUPa7wzJIMhZLyfIWczLzUYj0uAHTs\n3FYlAAAA\n')
if (__name__ == '__main__'):
    test_main()
