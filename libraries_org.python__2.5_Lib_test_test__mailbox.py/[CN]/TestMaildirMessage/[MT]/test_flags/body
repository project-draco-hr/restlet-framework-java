def test_flags(self):
    msg = mailbox.MaildirMessage(_sample_message)
    self.assert_((msg.get_flags() == ''))
    self.assert_((msg.get_subdir() == 'new'))
    msg.set_flags('F')
    self.assert_((msg.get_subdir() == 'new'))
    self.assert_((msg.get_flags() == 'F'))
    msg.set_flags('SDTP')
    self.assert_((msg.get_flags() == 'DPST'))
    msg.add_flag('FT')
    self.assert_((msg.get_flags() == 'DFPST'))
    msg.remove_flag('TDRP')
    self.assert_((msg.get_flags() == 'FS'))
    self.assert_((msg.get_subdir() == 'new'))
    self._check_sample(msg)
