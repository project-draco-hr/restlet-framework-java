def test_babyl_to_babyl(self):
    msg = mailbox.BabylMessage(_sample_message)
    msg.update_visible()
    for label in ('unseen', 'deleted', 'filed', 'answered', 'forwarded', 'edited', 'resent'):
        msg.add_label(label)
    msg2 = mailbox.BabylMessage(msg)
    self.assert_((msg2.get_labels() == ['unseen', 'deleted', 'filed', 'answered', 'forwarded', 'edited', 'resent']))
    self.assert_((msg.get_visible().keys() == msg2.get_visible().keys()))
    for key in msg.get_visible().keys():
        self.assert_((msg.get_visible()[key] == msg2.get_visible()[key]))
