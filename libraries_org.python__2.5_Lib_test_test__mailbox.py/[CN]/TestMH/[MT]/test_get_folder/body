def test_get_folder(self):

    def dummy_factory(s):
        return None
    self._box = self._factory(self._path, dummy_factory)
    new_folder = self._box.add_folder('foo.bar')
    folder0 = self._box.get_folder('foo.bar')
    folder0.add((self._template % 'bar'))
    self.assert_(os.path.isdir(os.path.join(self._path, 'foo.bar')))
    folder1 = self._box.get_folder('foo.bar')
    self.assert_((folder1.get_string(folder1.keys()[0]) == (self._template % 'bar')))
    self.assert_((new_folder._factory is self._box._factory))
    self.assert_((folder0._factory is self._box._factory))
