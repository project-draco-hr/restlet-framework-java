def test_get(self):
    key0 = self._box.add((self._template % 0))
    msg = self._box.get(key0)
    self.assert_((msg['from'] == 'foo'))
    self.assert_((msg.get_payload() == '0'))
    self.assert_((self._box.get('foo') is None))
    self.assert_((self._box.get('foo', False) is False))
    self._box.close()
    self._box = self._factory(self._path, factory=rfc822.Message)
    key1 = self._box.add((self._template % 1))
    msg = self._box.get(key1)
    self.assert_((msg['from'] == 'foo'))
    self.assert_((msg.fp.read() == '1'))
