def test_sequences(self):
    msg = mailbox.MHMessage(_sample_message)
    self.assert_((msg.get_sequences() == []))
    msg.set_sequences(['foobar'])
    self.assert_((msg.get_sequences() == ['foobar']))
    msg.set_sequences([])
    self.assert_((msg.get_sequences() == []))
    msg.add_sequence('unseen')
    self.assert_((msg.get_sequences() == ['unseen']))
    msg.add_sequence('flagged')
    self.assert_((msg.get_sequences() == ['unseen', 'flagged']))
    msg.add_sequence('flagged')
    self.assert_((msg.get_sequences() == ['unseen', 'flagged']))
    msg.remove_sequence('unseen')
    self.assert_((msg.get_sequences() == ['flagged']))
    msg.add_sequence('foobar')
    self.assert_((msg.get_sequences() == ['flagged', 'foobar']))
    msg.remove_sequence('replied')
    self.assert_((msg.get_sequences() == ['flagged', 'foobar']))
    msg.set_sequences(['foobar', 'replied'])
    self.assert_((msg.get_sequences() == ['foobar', 'replied']))
