def test_lookup(self):
    self.assertRaises(KeyError, (lambda : self._box._lookup('foo')))
    key0 = self._box.add((self._template % 0))
    self.assert_((self._box._lookup(key0) == os.path.join('new', key0)))
    os.remove(os.path.join(self._path, 'new', key0))
    self.assert_((self._box._toc == {key0: os.path.join('new', key0), }))
    self.assertRaises(KeyError, (lambda : self._box._lookup(key0)))
    self.assert_((self._box._toc == {}))
