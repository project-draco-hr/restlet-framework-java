def _check_basics(self, factory=None):
    self.assertEqual(self._box._path, os.path.abspath(self._path))
    self.assertEqual(self._box._factory, factory)
    for subdir in ('', 'tmp', 'new', 'cur'):
        path = os.path.join(self._path, subdir)
        mode = os.stat(path)[stat.ST_MODE]
        self.assert_(stat.S_ISDIR(mode), ("Not a directory: '%s'" % path))
