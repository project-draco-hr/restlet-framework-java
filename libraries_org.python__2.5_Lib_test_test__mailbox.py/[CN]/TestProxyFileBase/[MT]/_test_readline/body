def _test_readline(self, proxy):
    proxy.seek(0)
    self.assert_((proxy.readline() == ('foo' + os.linesep)))
    self.assert_((proxy.readline() == ('bar' + os.linesep)))
    self.assert_((proxy.readline() == ('fred' + os.linesep)))
    self.assert_((proxy.readline() == 'bob'))
    proxy.seek(2)
    self.assert_((proxy.readline() == ('o' + os.linesep)))
    proxy.seek((6 + (2 * len(os.linesep))))
    self.assert_((proxy.readline() == ('fred' + os.linesep)))
    proxy.seek((6 + (2 * len(os.linesep))))
    self.assert_((proxy.readline(2) == 'fr'))
    self.assert_((proxy.readline((-10)) == ('ed' + os.linesep)))
