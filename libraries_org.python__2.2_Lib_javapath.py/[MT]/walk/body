def walk(top, func, arg):
    'Walk a directory tree.\n\n    walk(top,func,args) calls func(arg, d, files) for each directory\n    "d" in the tree rooted at "top" (including "top" itself).  "files"\n    is a list of all the files and subdirs in directory "d".\n\n    '
    try:
        names = os.listdir(top)
    except os.error:
        return
    func(arg, top, names)
    for name in names:
        name = join(top, name)
        if (isdir(name) and (not islink(name))):
            walk(name, func, arg)
