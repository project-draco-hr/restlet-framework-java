{
  super(context,request,response);
  if (getCurrentUser() != null) {
    setModifiable(true);
    String mailboxId=(String)request.getAttributes().get("mailboxId");
    mailbox=getObjectsFacade().getMailboxById(mailboxId);
    if (mailbox != null) {
      String contactId=(String)request.getAttributes().get("contactId");
      contact=getObjectsFacade().getContactById(contactId);
      if (contact != null) {
        hostedMailboxes=getObjectsFacade().getMailboxes();
        getVariants().add(new Variant(MediaType.TEXT_HTML));
      }
    }
  }
 else {
    setModifiable(false);
  }
}
