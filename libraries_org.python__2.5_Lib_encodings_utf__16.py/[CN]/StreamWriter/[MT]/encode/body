def encode(self, input, errors='strict'):
    self.bom_written = True
    result = codecs.utf_16_encode(input, errors)
    if (sys.byteorder == 'little'):
        self.encode = codecs.utf_16_le_encode
    else:
        self.encode = codecs.utf_16_be_encode
    return result
