{
  if (publish) {
    if (logger.isLoggable(Level.FINE)) {
      logger.log(Level.FINE,"publishing");
    }
    DiscoveryService discovery=group.getDiscoveryService();
    try {
      discovery.publish(pipe);
    }
 catch (    IOException ioe) {
      if (logger.isLoggable(Level.WARNING)) {
        logger.log(Level.WARNING,"unable to publish");
      }
      throw new NetworkException("can't publish locally",ioe);
    }
    discovery.remotePublish(pipe,DiscoveryService.ADV);
    if (logger.isLoggable(Level.FINE)) {
      logger.log(Level.FINE,"published");
    }
  }
}
