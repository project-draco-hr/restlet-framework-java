{
  int result=-1;
  if (this.availableSize > 0) {
synchronized (this.remainingBuffer) {
      if ((this.remainingBuffer != null) && (this.remainingBuffer.hasRemaining())) {
        result=Math.min((int)this.availableSize,Math.min(this.remainingBuffer.remaining(),dst.remaining()));
        byte[] src=new byte[result];
        this.remainingBuffer.get(src);
        dst.put(src);
      }
 else {
        if (this.availableSize < dst.remaining()) {
          dst.limit((int)(this.availableSize + dst.position()));
        }
        result=getWrappedChannel().read(dst);
      }
    }
    if (result > 0) {
      this.availableSize-=result;
    }
  }
  if (result == -1) {
    getInboundWay().onCompleted();
  }
  return result;
}
