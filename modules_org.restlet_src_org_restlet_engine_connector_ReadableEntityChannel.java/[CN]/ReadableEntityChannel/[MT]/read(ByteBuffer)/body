{
  int result=-1;
  if (this.availableSize > 0) {
    if (this.remainingBuffer != null) {
synchronized (this.remainingBuffer) {
        if (this.remainingBuffer.hasRemaining()) {
          result=Math.min((int)this.availableSize,Math.min(this.remainingBuffer.remaining(),dst.remaining()));
          byte[] src=new byte[result];
          this.remainingBuffer.get(src);
          dst.put(src);
        }
 else {
          result=doRead(dst);
        }
      }
    }
 else {
      result=doRead(dst);
    }
    if (result > 0) {
      this.availableSize-=result;
    }
  }
  if (result == -1) {
    getInboundWay().onCompleted();
  }
  return result;
}
