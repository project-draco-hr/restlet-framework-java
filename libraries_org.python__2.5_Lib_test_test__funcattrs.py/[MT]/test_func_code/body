def test_func_code():
    a = b = 24

    def f():
        pass

    def g():
        print 12

    def f1():
        print a

    def g1():
        print b

    def f2():
        print a, b
    verify((type(f.func_code) is types.CodeType))
    f.func_code = g.func_code
    cantset(f, 'func_code', None)
    cantset(f, 'func_code', f1.func_code, exception=ValueError)
    cantset(f1, 'func_code', f.func_code, exception=ValueError)
    cantset(f1, 'func_code', f2.func_code, exception=ValueError)
    f1.func_code = g1.func_code
