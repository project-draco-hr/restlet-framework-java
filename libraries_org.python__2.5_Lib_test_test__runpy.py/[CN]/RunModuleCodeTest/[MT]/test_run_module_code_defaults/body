def test_run_module_code_defaults(self):
    saved_argv0 = sys.argv[0]
    d = _run_module_code(self.test_source)
    self.failUnless((d['result'] == self.expected_result))
    self.failUnless((d['__name__'] is None))
    self.failUnless((d['__file__'] is None))
    self.failUnless((d['__loader__'] is None))
    self.failUnless((d['run_argv0'] is saved_argv0))
    self.failUnless(('run_name' not in d))
    self.failUnless((sys.argv[0] is saved_argv0))
