def test_iterator(self):
    eq = self.assertEqual
    unless = self.failUnless
    eq(iter(self._fp), self._fp)
    unless(hasattr(self._fp, '__iter__'))
    unless(hasattr(self._fp, 'next'))
    i = 0
    for line in self._fp:
        eq(line, (self._line + '\n'))
        i += 1
    eq(i, 5)
    self._fp.close()
    self.assertRaises(ValueError, self._fp.next)
