{
  if (name == null)   throw new IllegalArgumentException("You must give a name of the header");
  if (name.equals(HttpHeaders.SET_COOKIE)) {
    if (value instanceof NewCookie)     this.cookie((NewCookie)value);
 else     if (value instanceof Cookie)     this.cookie(new NewCookie((Cookie)value));
 else     if (value instanceof CharSequence)     this.cookie(NewCookie.valueOf(value.toString()));
 else     throw new IllegalArgumentException("A Cookie must be of type NewCookie or String");
  }
 else {
    if (value == null)     getMetadata().remove(name);
 else     getMetadata().add(name,value);
  }
  return this;
}
