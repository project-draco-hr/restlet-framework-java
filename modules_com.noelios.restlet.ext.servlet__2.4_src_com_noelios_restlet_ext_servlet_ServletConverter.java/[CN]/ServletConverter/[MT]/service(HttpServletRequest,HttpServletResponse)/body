{
  if (getTarget() != null) {
    ServletCall servletCall=new ServletCall(getLogger(),request.getLocalAddr(),request.getLocalPort(),request,response);
    HttpRequest httpRequest=toRequest(servletCall);
    HttpResponse httpResponse=new HttpResponse(servletCall,httpRequest);
    if (this.baseRef == null) {
      String basePath=request.getContextPath() + request.getServletPath();
      String baseUri=request.getRequestURL().toString();
      int baseIndex=baseUri.indexOf(basePath);
      if (baseIndex != -1) {
        this.baseRef=new Reference(baseUri.substring(0,baseIndex + basePath.length()));
      }
    }
    httpRequest.getResourceRef().setBaseRef(this.baseRef);
    getTarget().handle(httpRequest,httpResponse);
    commit(httpResponse);
  }
 else {
    getLogger().warning("Unable to find the Restlet target");
  }
}
