def remove_tree(directory, verbose=0, dry_run=0):
    "Recursively remove an entire directory tree.  Any errors are ignored\n    (apart from being reported to stdout if 'verbose' is true).\n    "
    from distutils.util import grok_environment_error
    global _path_created
    log.info("removing '%s' (and everything under it)", directory)
    if dry_run:
        return
    cmdtuples = []
    _build_cmdtuple(directory, cmdtuples)
    for cmd in cmdtuples:
        try:
            apply(cmd[0], (cmd[1],))
            abspath = os.path.abspath(cmd[1])
            if _path_created.has_key(abspath):
                del _path_created[abspath]
        except (IOError, OSError) as exc:
            log.warn(grok_environment_error(exc, ('error removing %s: ' % directory)))
