def create_tree(base_dir, files, mode=511, verbose=0, dry_run=0):
    "Create all the empty directories under 'base_dir' needed to\n       put 'files' there.  'base_dir' is just the a name of a directory\n       which doesn't necessarily exist yet; 'files' is a list of filenames\n       to be interpreted relative to 'base_dir'.  'base_dir' + the\n       directory portion of every file in 'files' will be created if it\n       doesn't already exist.  'mode', 'verbose' and 'dry_run' flags are as\n       for 'mkpath()'."
    need_dir = {}
    for file in files:
        need_dir[os.path.join(base_dir, os.path.dirname(file))] = 1
    need_dirs = need_dir.keys()
    need_dirs.sort()
    for dir in need_dirs:
        mkpath(dir, mode, dry_run=dry_run)
