{
  Reference feedRef=new Reference("https://graph.facebook.com/me/feed");
  User u=getRequest().getClientInfo().getUser();
  String token=OAuthUtils.getToken(u);
  getLogger().info("Publishing with token  = " + token);
  feedRef.addQueryParameter("access_token",token);
  ClientResource feedResource=new ClientResource(getContext(),feedRef);
  feedResource.setClientInfo(getClientInfo());
  Form form=new Form();
  form.add("message","Doing a demo for friends!");
  JsonRepresentation feedRepr=feedResource.post(form.getWebRepresentation(),JsonRepresentation.class);
  if (feedResource.getResponse().getStatus().isSuccess()) {
    JSONObject feed;
    try {
      feed=feedRepr.getJsonObject();
      String id=feed.get("id").toString();
      getLogger().info("Feed ID = " + id);
      return new JsonRepresentation(feed);
    }
 catch (    JSONException e) {
      getLogger().log(Level.WARNING,"Failed in parsing the me object.",e);
    }
  }
  return null;
}
