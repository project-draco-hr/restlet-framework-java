{
  Reference meRef=new Reference("https://graph.facebook.com/me");
  User u=getRequest().getClientInfo().getUser();
  String token=OAuthUtils.getToken(u);
  getLogger().info("Getting with token  = " + token);
  ClientResource meResource=new ClientResource(getContext(),meRef);
  meResource.setClientInfo(getClientInfo());
  ChallengeResponse challengeResponse=new ChallengeResponse(ChallengeScheme.HTTP_OAUTH);
  challengeResponse.setRawValue(token);
  meResource.setChallengeResponse(challengeResponse);
  JsonRepresentation meRepr=meResource.get(JsonRepresentation.class);
  if (meResource.getResponse().getStatus().isSuccess()) {
    JSONObject me;
    try {
      me=meRepr.getJsonObject();
      String id=me.get("id").toString();
      getLogger().info("Your ID = " + id);
      return new JsonRepresentation(me);
    }
 catch (    JSONException e) {
      getLogger().log(Level.WARNING,"Failed in parsing the me object.",e);
    }
  }
  meRepr.release();
  meResource.release();
  return null;
}
