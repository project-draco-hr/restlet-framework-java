{
  ApiSparkConfig apiSparkConfig=new ApiSparkConfig();
  apiSparkConfig.setAgentCellId(agentCellId);
  apiSparkConfig.setAgentCellVersion(agentCellVersion);
  apiSparkConfig.setAgentServiceUrl(agentServiceUrl);
  apiSparkConfig.setAgentLogin(agentLogin);
  apiSparkConfig.setAgentPassword(agentPassword);
  apiSparkConfig.setReverseProxyEnabled(reverseProxyEnabled);
  apiSparkConfig.setReverseProxyTargetUrl(reverseProxyTargetUrl);
  return new ApiSparkFilter(context,apiSparkConfig,agentEnabled,firewallEnabled,firewallRules,firewallConfig);
}
