{
  RepresentationInfo result=new RepresentationInfo(mediaType);
  result.setCollection(ReflectUtils.isListType(clazz));
  Class<?> c=ReflectUtils.getSimpleClass(type);
  result.setType((c == null) ? clazz : c);
  boolean generic=c != null && !c.getCanonicalName().equals(clazz.getCanonicalName());
  if (generic) {
    result.setIdentifier(clazz.getName() + c.getName());
    result.setName(clazz.getSimpleName() + c.getSimpleName());
  }
 else {
    result.setIdentifier(result.getType().getName());
    result.setName(result.getType().getSimpleName());
  }
  if (org.restlet.representation.Representation.class.isAssignableFrom(clazz) || ReflectUtils.isJdkClass(c)) {
    result.setRaw(true);
  }
 else {
    for (    Field field : ReflectUtils.getAllDeclaredFields(clazz)) {
      if (!"serialVersionUID".equals(field.getName())) {
        PropertyInfo property=new PropertyInfo();
        property.setName(field.getName());
        property.setType(ReflectUtils.getSimpleClass(field));
        property.setMinOccurs(0);
        if (ReflectUtils.isListType(field.getType())) {
          property.setMaxOccurs(-1);
        }
 else {
          property.setMaxOccurs(1);
        }
        result.getProperties().add(property);
      }
    }
  }
  return result;
}
