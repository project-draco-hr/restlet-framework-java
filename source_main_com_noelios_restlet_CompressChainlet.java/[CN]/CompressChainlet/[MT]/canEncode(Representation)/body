{
  boolean result=((representation != null) && (representation.getMetadata().getEncoding() == null)) || ((representation != null) && representation.getMetadata().getEncoding().equals(Encodings.IDENTITY));
  if (result) {
    result=(getMinimumSize() == ALWAYS_ENCODE) || (representation.getSize() == Representation.UNKNOWN_SIZE) || (representation.getSize() >= getMinimumSize());
  }
  if (result) {
    MediaType mediaType=representation.getMetadata().getMediaType();
    boolean accepted=false;
    for (Iterator<MediaType> iter=getAcceptedMediaTypes().iterator(); !accepted && iter.hasNext(); ) {
      accepted=iter.next().includes(mediaType);
    }
    result=accepted;
  }
  if (result) {
    MediaType mediaType=representation.getMetadata().getMediaType();
    boolean rejected=false;
    for (Iterator<MediaType> iter=getIgnoredMediaTypes().iterator(); !rejected && iter.hasNext(); ) {
      rejected=iter.next().includes(mediaType);
    }
    result=!rejected;
  }
  return result;
}
