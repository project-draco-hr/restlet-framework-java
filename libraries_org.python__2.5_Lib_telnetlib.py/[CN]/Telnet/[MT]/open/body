def open(self, host, port=0):
    "Connect to a host.\n\n        The optional second argument is the port number, which\n        defaults to the standard telnet port (23).\n\n        Don't try to reopen an already connected instance.\n\n        "
    self.eof = 0
    if (not port):
        port = TELNET_PORT
    self.host = host
    self.port = port
    msg = 'getaddrinfo returns an empty list'
    for res in socket.getaddrinfo(host, port, 0, socket.SOCK_STREAM):
        (af, socktype, proto, canonname, sa) = res
        try:
            self.sock = socket.socket(af, socktype, proto)
            self.sock.connect(sa)
        except socket.error as msg:
            if self.sock:
                self.sock.close()
            self.sock = None
            continue
        break
    if (not self.sock):
        raise socket.error, msg
