def server_bind(self):
    (host, default_port) = self.server_address
    import sys
    for port in [default_port, 3434, 8798, 23833]:
        try:
            self.server_address = (host, port)
            TCPServer.server_bind(self)
            break
        except socket.error as (err, msg):
            if (err != errno.EADDRINUSE):
                raise
            print  >> sys.__stderr__, ('  WARNING: failed to listen on port %d, trying another' % port)
