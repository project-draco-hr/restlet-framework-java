def __getitem__(self, i):
    try:
        line = self._buffer[self._bufindex]
    except IndexError:
        pass
    else:
        self._bufindex += 1
        self._lineno += 1
        self._filelineno += 1
        return line
    if (i != self._lineno):
        raise RuntimeError, 'accessing lines out of order'
    line = self.readline()
    if (not line):
        raise IndexError, 'end of input reached'
    return line
