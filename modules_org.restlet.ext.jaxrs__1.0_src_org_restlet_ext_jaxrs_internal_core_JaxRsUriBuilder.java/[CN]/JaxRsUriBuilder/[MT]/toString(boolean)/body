{
  try {
    final StringBuilder stb=new StringBuilder();
    if (this.scheme != null) {
      Util.append(stb,this.scheme,convertBraces);
      stb.append("://");
    }
    if (this.userInfo != null) {
      Util.append(stb,this.userInfo,convertBraces);
      stb.append('@');
    }
    if (this.host != null) {
      Util.append(stb,this.host,convertBraces);
    }
    if (this.port != null) {
      stb.append(':');
      stb.append(this.port);
    }
    if (this.path != null) {
      if ((stb.length() > 0) && (this.path.length() > 0) && (this.path.charAt(0) != '/')) {
        stb.append('/');
      }
      Util.append(stb,this.path,convertBraces);
    }
    if (this.query != null) {
      stb.append('?');
      Util.append(stb,this.query,convertBraces);
    }
    if (this.fragment != null) {
      stb.append('#');
      Util.append(stb,this.fragment,convertBraces);
    }
    return stb.toString();
  }
 catch (  IOException e) {
    throw new RuntimeException("Could not write the UriBuilder to a String; but this Exception could not occur normally",e);
  }
}
