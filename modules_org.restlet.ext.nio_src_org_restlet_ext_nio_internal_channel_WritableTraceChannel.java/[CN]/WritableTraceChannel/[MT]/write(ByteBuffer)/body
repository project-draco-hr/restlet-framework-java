{
  int oldPos=src.position();
  int off=src.arrayOffset() + oldPos;
  int result=getWrappedChannel().write(src);
  int newPos=src.position();
  if ((result > 0) && (newPos > oldPos)) {
    System.out.write(src.array(),off,newPos - oldPos);
  }
  return result;
}
