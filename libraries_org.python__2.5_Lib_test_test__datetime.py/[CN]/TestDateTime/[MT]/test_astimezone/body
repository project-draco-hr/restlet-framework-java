def test_astimezone(self):
    dt = self.theclass.now()
    f = FixedOffset(44, '')
    self.assertRaises(TypeError, dt.astimezone)
    self.assertRaises(TypeError, dt.astimezone, f, f)
    self.assertRaises(TypeError, dt.astimezone, dt)
    self.assertRaises(ValueError, dt.astimezone, f)
    self.assertRaises(ValueError, dt.astimezone, tz=f)


    class Bogus(tzinfo):

        def utcoffset(self, dt):
            return None

        def dst(self, dt):
            return timedelta(0)
    bog = Bogus()
    self.assertRaises(ValueError, dt.astimezone, bog)


    class AlsoBogus(tzinfo):

        def utcoffset(self, dt):
            return timedelta(0)

        def dst(self, dt):
            return None
    alsobog = AlsoBogus()
    self.assertRaises(ValueError, dt.astimezone, alsobog)
