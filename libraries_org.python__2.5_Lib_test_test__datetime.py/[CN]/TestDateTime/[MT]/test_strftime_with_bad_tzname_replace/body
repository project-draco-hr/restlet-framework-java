def test_strftime_with_bad_tzname_replace(self):


    class MyTzInfo(FixedOffset):

        def tzname(self, dt):


            class MyStr(str):

                def replace(self, *args):
                    return None
            return MyStr('name')
    t = self.theclass(2005, 3, 2, 0, 0, 0, 0, MyTzInfo(3, 'name'))
    self.assertRaises(TypeError, t.strftime, '%Z')
