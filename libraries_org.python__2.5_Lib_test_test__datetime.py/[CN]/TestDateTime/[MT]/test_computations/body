def test_computations(self):
    a = self.theclass(2002, 1, 31)
    b = self.theclass(1956, 1, 31)
    diff = (a - b)
    self.assertEqual(diff.days, ((46 * 365) + len(range(1956, 2002, 4))))
    self.assertEqual(diff.seconds, 0)
    self.assertEqual(diff.microseconds, 0)
    a = self.theclass(2002, 3, 2, 17, 6)
    millisec = timedelta(0, 0, 1000)
    hour = timedelta(0, 3600)
    day = timedelta(1)
    week = timedelta(7)
    self.assertEqual((a + hour), self.theclass(2002, 3, 2, 18, 6))
    self.assertEqual((hour + a), self.theclass(2002, 3, 2, 18, 6))
    self.assertEqual((a + (10 * hour)), self.theclass(2002, 3, 3, 3, 6))
    self.assertEqual((a - hour), self.theclass(2002, 3, 2, 16, 6))
    self.assertEqual(((- hour) + a), self.theclass(2002, 3, 2, 16, 6))
    self.assertEqual((a - hour), (a + (- hour)))
    self.assertEqual((a - (20 * hour)), self.theclass(2002, 3, 1, 21, 6))
    self.assertEqual((a + day), self.theclass(2002, 3, 3, 17, 6))
    self.assertEqual((a - day), self.theclass(2002, 3, 1, 17, 6))
    self.assertEqual((a + week), self.theclass(2002, 3, 9, 17, 6))
    self.assertEqual((a - week), self.theclass(2002, 2, 23, 17, 6))
    self.assertEqual((a + (52 * week)), self.theclass(2003, 3, 1, 17, 6))
    self.assertEqual((a - (52 * week)), self.theclass(2001, 3, 3, 17, 6))
    self.assertEqual(((a + week) - a), week)
    self.assertEqual(((a + day) - a), day)
    self.assertEqual(((a + hour) - a), hour)
    self.assertEqual(((a + millisec) - a), millisec)
    self.assertEqual(((a - week) - a), (- week))
    self.assertEqual(((a - day) - a), (- day))
    self.assertEqual(((a - hour) - a), (- hour))
    self.assertEqual(((a - millisec) - a), (- millisec))
    self.assertEqual((a - (a + week)), (- week))
    self.assertEqual((a - (a + day)), (- day))
    self.assertEqual((a - (a + hour)), (- hour))
    self.assertEqual((a - (a + millisec)), (- millisec))
    self.assertEqual((a - (a - week)), week)
    self.assertEqual((a - (a - day)), day)
    self.assertEqual((a - (a - hour)), hour)
    self.assertEqual((a - (a - millisec)), millisec)
    self.assertEqual((a + (((week + day) + hour) + millisec)), self.theclass(2002, 3, 10, 18, 6, 0, 1000))
    self.assertEqual((a + (((week + day) + hour) + millisec)), ((((a + week) + day) + hour) + millisec))
    self.assertEqual((a - (((week + day) + hour) + millisec)), self.theclass(2002, 2, 22, 16, 5, 59, 999000))
    self.assertEqual((a - (((week + day) + hour) + millisec)), ((((a - week) - day) - hour) - millisec))
    for i in (1, 1L, 1.0):
        self.assertRaises(TypeError, (lambda : (a + i)))
        self.assertRaises(TypeError, (lambda : (a - i)))
        self.assertRaises(TypeError, (lambda : (i + a)))
        self.assertRaises(TypeError, (lambda : (i - a)))
    self.assertRaises(TypeError, (lambda : (day - a)))
    self.assertRaises(TypeError, (lambda : (day * a)))
    self.assertRaises(TypeError, (lambda : (a * day)))
    self.assertRaises(TypeError, (lambda : (day // a)))
    self.assertRaises(TypeError, (lambda : (a // day)))
    self.assertRaises(TypeError, (lambda : (a * a)))
    self.assertRaises(TypeError, (lambda : (a // a)))
    self.assertRaises(TypeError, (lambda : (a + a)))
