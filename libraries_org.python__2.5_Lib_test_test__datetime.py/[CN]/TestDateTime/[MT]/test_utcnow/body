def test_utcnow(self):
    import time
    tolerance = timedelta(seconds=1)
    for dummy in range(3):
        from_now = self.theclass.utcnow()
        from_timestamp = self.theclass.utcfromtimestamp(time.time())
        if (abs((from_timestamp - from_now)) <= tolerance):
            break
    self.failUnless((abs((from_timestamp - from_now)) <= tolerance))
