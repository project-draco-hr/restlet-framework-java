def test_more_astimezone(self):
    fnone = FixedOffset(None, 'None')
    f44m = FixedOffset(44, '44')
    fm5h = FixedOffset((- timedelta(hours=5)), 'm300')
    dt = self.theclass.now(tz=f44m)
    self.failUnless((dt.tzinfo is f44m))
    self.assertRaises(ValueError, dt.astimezone, fnone)
    self.assertRaises(TypeError, dt.astimezone, None)
    x = dt.astimezone(dt.tzinfo)
    self.failUnless((x.tzinfo is f44m))
    self.assertEqual(x.date(), dt.date())
    self.assertEqual(x.time(), dt.time())
    got = dt.astimezone(fm5h)
    self.failUnless((got.tzinfo is fm5h))
    self.assertEqual(got.utcoffset(), timedelta(hours=(-5)))
    expected = (dt - dt.utcoffset())
    expected += fm5h.utcoffset(dt)
    expected = expected.replace(tzinfo=fm5h)
    self.assertEqual(got.date(), expected.date())
    self.assertEqual(got.time(), expected.time())
    self.assertEqual(got.timetz(), expected.timetz())
    self.failUnless((got.tzinfo is expected.tzinfo))
    self.assertEqual(got, expected)
