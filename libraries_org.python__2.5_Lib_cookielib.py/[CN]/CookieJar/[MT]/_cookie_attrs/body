def _cookie_attrs(self, cookies):
    'Return a list of cookie-attributes to be returned to server.\n\n        like [\'foo="bar"; $Path="/"\', ...]\n\n        The $Version attribute is also added when appropriate (currently only\n        once per request).\n\n        '

    def decreasing_size(a, b):
        return cmp(len(b.path), len(a.path))
    cookies.sort(decreasing_size)
    version_set = False
    attrs = []
    for cookie in cookies:
        version = cookie.version
        if (not version_set):
            version_set = True
            if (version > 0):
                attrs.append(('$Version=%s' % version))
        if ((cookie.value is not None) and self.non_word_re.search(cookie.value) and (version > 0)):
            value = self.quote_re.sub('\\\\\\1', cookie.value)
        else:
            value = cookie.value
        if (cookie.value is None):
            attrs.append(cookie.name)
        else:
            attrs.append(('%s=%s' % (cookie.name, value)))
        if (version > 0):
            if cookie.path_specified:
                attrs.append(('$Path="%s"' % cookie.path))
            if cookie.domain.startswith('.'):
                domain = cookie.domain
                if ((not cookie.domain_initial_dot) and domain.startswith('.')):
                    domain = domain[1:]
                attrs.append(('$Domain="%s"' % domain))
            if (cookie.port is not None):
                p = '$Port'
                if cookie.port_specified:
                    p = (p + ('="%s"' % cookie.port))
                attrs.append(p)
    return attrs
