def test_getitem(self):
    n = 200
    d = deque(xrange(n))
    l = range(n)
    for i in xrange(n):
        d.popleft()
        l.pop(0)
        if (random.random() < 0.5):
            d.append(i)
            l.append(i)
        for j in xrange((1 - len(l)), len(l)):
            assert (d[j] == l[j])
    d = deque('superman')
    self.assertEqual(d[0], 's')
    self.assertEqual(d[(-1)], 'n')
    d = deque()
    self.assertRaises(IndexError, d.__getitem__, 0)
    self.assertRaises(IndexError, d.__getitem__, (-1))
