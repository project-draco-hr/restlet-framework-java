{
  UriBuilder uriBuilder=UriBuilder.fromPath("path");
  if (uriBuilder instanceof JaxRsUriBuilder) {
    assertEqualUriBuilder((JaxRsUriBuilder)uriBuilder,null,null,null,-1,null,new JaxRsPathSegment("path",false,null));
  }
  assertEqualsURI("path",uriBuilder);
  uriBuilder=UriBuilder.fromPath("path1/path2/abc.html");
  if (uriBuilder instanceof JaxRsUriBuilder) {
    assertEqualUriBuilder(uriBuilder,null,null,null,-1,null,new JaxRsPathSegment("path1",false,null),new JaxRsPathSegment("path2",false,null),new JaxRsPathSegment("abc.html",false,null));
  }
  assertEqualsURI("path1/path2/abc.html",uriBuilder);
  uriBuilder=UriBuilder.fromPath("path1/path2;mp1=mv?1;mp2=mv2/abc.html",true);
  if (uriBuilder instanceof JaxRsUriBuilder) {
    MultivaluedMapImpl<String,String> map2=new MultivaluedMapImpl<String,String>();
    map2.add("mp1","mv%3F1");
    map2.add("mp2","mv2");
    assertEqualUriBuilder(uriBuilder,null,null,null,-1,null,new JaxRsPathSegment("path1",false,null),new JaxRsPathSegment("path2",false,map2),new JaxRsPathSegment("abc.html",false,null));
  }
  assertEquals("path1/path2;mp1=mv%3F1;mp2=mv2/abc.html",uriBuilder.build().toString());
  String path="path1/path2;mp1=mv1" + Reference.encode("?") + ";mp2=mv2/abc.html";
  uriBuilder=UriBuilder.fromPath(path,false);
  if (uriBuilder instanceof JaxRsUriBuilder) {
    MultivaluedMapImpl<String,String> map2=new MultivaluedMapImpl<String,String>();
    map2.add("mp1","mv1%3F");
    map2.add("mp2","mv2");
    assertEqualUriBuilder(uriBuilder,null,null,null,-1,null,new JaxRsPathSegment("path1",false,null),new JaxRsPathSegment("path2",false,map2),new JaxRsPathSegment("abc.html",false,null));
  }
  assertEqualsURI(path,uriBuilder);
}
