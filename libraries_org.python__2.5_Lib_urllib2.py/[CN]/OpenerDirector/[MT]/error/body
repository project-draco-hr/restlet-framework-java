def error(self, proto, *args):
    if (proto in ('http', 'https')):
        dict = self.handle_error['http']
        proto = args[2]
        meth_name = ('http_error_%s' % proto)
        http_err = 1
        orig_args = args
    else:
        dict = self.handle_error
        meth_name = (proto + '_error')
        http_err = 0
    args = ((dict, proto, meth_name) + args)
    result = self._call_chain(*args)
    if result:
        return result
    if http_err:
        args = ((dict, 'default', 'http_error_default') + orig_args)
        return self._call_chain(*args)
