def readerAssertEqual(self, input, expected_result):
    (fd, name) = tempfile.mkstemp()
    fileobj = os.fdopen(fd, 'w+b')
    try:
        fileobj.write(input)
        fileobj.seek(0)
        reader = csv.reader(fileobj, dialect=self.dialect)
        fields = list(reader)
        self.assertEqual(fields, expected_result)
    finally:
        fileobj.close()
        os.unlink(name)
