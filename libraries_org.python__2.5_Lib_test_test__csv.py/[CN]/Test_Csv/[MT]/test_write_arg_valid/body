def test_write_arg_valid(self):
    self.assertRaises(csv.Error, self._write_test, None, '')
    self._write_test((), '')
    self._write_test([None], '""')
    self.assertRaises(csv.Error, self._write_test, [None], None, quoting=csv.QUOTE_NONE)


    class BadList:

        def __len__(self):
            return 10

        def __getitem__(self, i):
            if (i > 2):
                raise IOError
    self.assertRaises(IOError, self._write_test, BadList(), '')


    class BadItem:

        def __str__(self):
            raise IOError
    self.assertRaises(IOError, self._write_test, [BadItem()], '')
