{
  try {
    RestletContainer myContainer=new RestletContainer("My container");
    myContainer.addServer(new DefaultServer(Protocols.HTTP,"My connector",myContainer,9876));
    HostMaplet rootMaplet=new HostMaplet(myContainer,9876);
    myContainer.attach(rootMaplet);
    Restlet testRestlet=new AbstractRestlet(myContainer){
      public void handle(      Call call){
        System.out.println("Handling the call...");
        if (!call.getMethod().equals(Methods.PUT)) {
          System.out.println("Not a PUT!");
          call.setStatus(Statuses.CLIENT_ERROR_METHOD_NOT_ALLOWED);
          call.setOutput(new StringRepresentation("Sorry, only PUT is supported.",MediaTypes.TEXT_PLAIN));
          return;
        }
        System.out.println("Trying to get the input as a form...");
        Form form=call.getInputAsForm();
        System.out.println("Trying to getParameters...");
        List<Parameter> params=form.getParameters();
        StringBuffer sb=new StringBuffer("foo");
        for (        Parameter p : params) {
          System.out.println(p);
          sb.append("field name = ");
          sb.append(p.getName());
          sb.append("value = ");
          sb.append(p.getValue());
          sb.append("\n");
          System.out.println(sb.toString());
        }
        call.setOutput(new StringRepresentation(sb.toString(),MediaTypes.TEXT_PLAIN));
      }
    }
;
    rootMaplet.attach("/test",testRestlet);
    myContainer.start();
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
