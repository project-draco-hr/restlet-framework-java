def encode(self, input, final=False):
    if final:
        c = self.compressobj.compress(input)
        return (c + self.compressobj.flush())
    else:
        return self.compressobj.compress(input)
