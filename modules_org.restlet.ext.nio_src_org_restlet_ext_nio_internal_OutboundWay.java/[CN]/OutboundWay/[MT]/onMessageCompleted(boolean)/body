{
  if (getActualMessage() != null) {
    Representation messageEntity=getActualMessage().getEntity();
    if (getEntityChannel() != null) {
      getEntityChannel().close();
    }
    if (messageEntity != null) {
      messageEntity.release();
    }
    ConnectorService connectorService=ConnectorHelper.getConnectorService();
    if (connectorService != null) {
      connectorService.afterSend(messageEntity);
    }
  }
  super.onMessageCompleted(endReached);
  setHeaderIndex(0);
  if (getLogger().isLoggable(Level.FINER)) {
    getLogger().finer("Outbound message completed");
  }
}
