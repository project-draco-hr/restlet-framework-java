{
  Status result=null;
  if (getMatch() != null && getMatch().size() != 0) {
    boolean matched=false;
    boolean failed=false;
    if (variant != null) {
      if (variant.getTag() != null) {
        Tag tag;
        for (Iterator<Tag> iter=getMatch().iterator(); !matched && iter.hasNext(); ) {
          tag=iter.next();
          matched=tag.equals(variant.getTag(),false);
        }
      }
    }
 else {
      failed=getMatch().get(0).equals(Tag.ALL);
    }
    failed=failed || !matched;
    if (failed) {
      result=Status.CLIENT_ERROR_PRECONDITION_FAILED;
    }
  }
  if (result == null && getNoneMatch() != null && getNoneMatch().size() != 0) {
    boolean matched=false;
    if (variant != null) {
      if (variant.getTag() != null) {
        Tag tag;
        for (Iterator<Tag> iter=getNoneMatch().iterator(); !matched && iter.hasNext(); ) {
          tag=iter.next();
          matched=tag.equals(variant.getTag(),(Method.GET.equals(method) || Method.HEAD.equals(method)));
        }
        if (!matched) {
          Date modifiedSince=getModifiedSince();
          matched=((modifiedSince == null) || (variant.getModificationDate() == null) || DateUtils.after(modifiedSince,variant.getModificationDate()));
        }
      }
    }
 else {
      matched=getNoneMatch().get(0).equals(Tag.ALL);
    }
    if (matched) {
      if (Method.GET.equals(method) || Method.HEAD.equals(method)) {
        result=Status.REDIRECTION_NOT_MODIFIED;
      }
 else {
        result=Status.CLIENT_ERROR_PRECONDITION_FAILED;
      }
    }
  }
  if (result == null && getModifiedSince() != null) {
    if (variant != null) {
      Date modifiedSince=getModifiedSince();
      boolean isModifiedSince=((modifiedSince == null) || (variant.getModificationDate() == null) || DateUtils.after(modifiedSince,variant.getModificationDate()));
      if (!isModifiedSince) {
        result=Status.REDIRECTION_NOT_MODIFIED;
      }
    }
  }
  if (result == null && getUnmodifiedSince() != null) {
    if (variant != null) {
      Date unModifiedSince=getUnmodifiedSince();
      boolean isUnModifiedSince=((unModifiedSince == null) || (variant.getModificationDate() == null) || DateUtils.after(variant.getModificationDate(),unModifiedSince));
      if (!isUnModifiedSince) {
        result=Status.CLIENT_ERROR_PRECONDITION_FAILED;
      }
    }
  }
  return result;
}
