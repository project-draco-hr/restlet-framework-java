def test_short_addition(self):
    import _rawffi
    lib = _rawffi.CDLL(self.lib_name)
    short_add = lib.ptr('add_shorts', ['h', 'h'], 'H')
    A = _rawffi.Array('h')
    arg1 = A(1, autofree=True)
    arg2 = A(1, autofree=True)
    arg1[0] = 1
    arg2[0] = 2
    res = short_add(arg1, arg2)
    assert (res[0] == 3)
