{
  PipeAdvertisement pa=(PipeAdvertisement)AdvertisementFactory.newAdvertisement(PipeAdvertisement.getAdvertisementType());
  pa.setPipeID(createPipeID(group,pipeId));
  String pn=name;
  if (type.equals(PipeService.UnicastType)) {
    pn=Constants.Pipe.P2PP_NAME.getPipe() + "/" + name;
  }
 else   if (type.equals(PipeService.PropagateType)) {
    pn=Constants.Pipe.P2MP_NAME.getPipe() + "/" + name;
  }
  pa.setName(pn);
  pa.setType(type);
  return pa;
}
