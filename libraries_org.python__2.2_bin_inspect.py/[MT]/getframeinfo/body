def getframeinfo(frame, context=1):
    'Get information about a frame or traceback object.\n\n    A tuple of five things is returned: the filename, the line number of\n    the current line, the function name, a list of lines of context from\n    the source code, and the index of the current line within that list.\n    The optional second argument specifies the number of lines of context\n    to return, which are centered around the current line.'
    if istraceback(frame):
        frame = frame.tb_frame
    if (not isframe(frame)):
        raise TypeError, 'arg is not a frame or traceback object'
    filename = getsourcefile(frame)
    lineno = getlineno(frame)
    if (context > 0):
        start = ((lineno - 1) - (context // 2))
        try:
            (lines, lnum) = findsource(frame)
        except IOError:
            lines = index = None
        else:
            start = max(start, 1)
            start = min(start, (len(lines) - context))
            lines = lines[start:(start + context)]
            index = ((lineno - 1) - start)
    else:
        lines = index = None
    return (filename, lineno, frame.f_code.co_name, lines, index)
