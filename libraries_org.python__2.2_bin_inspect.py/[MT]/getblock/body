def getblock(lines):
    'Extract the block of code at the top of the given list of lines.'
    try:
        tokenize.tokenize(ListReader(lines).readline, BlockFinder().tokeneater)
    except EndOfBlock as eob:
        return lines[:eob.args[0]]
    return lines[:1]
