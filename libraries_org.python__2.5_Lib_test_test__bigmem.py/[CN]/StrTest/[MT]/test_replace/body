@bigmemtest(minsize=(_2G + 10), memuse=2)
def test_replace(self, size):
    replacement = 'a'
    s = (' ' * size)
    s = s.replace(' ', replacement)
    self.assertEquals(len(s), size)
    self.assertEquals(s.count(replacement), size)
    s = s.replace(replacement, ' ', (size - 4))
    self.assertEquals(len(s), size)
    self.assertEquals(s.count(replacement), 4)
    self.assertEquals(s[(-10):], '      aaaa')
