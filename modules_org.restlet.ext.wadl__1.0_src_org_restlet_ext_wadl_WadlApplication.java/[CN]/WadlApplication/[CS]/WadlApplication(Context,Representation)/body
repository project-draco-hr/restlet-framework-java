{
  super(parentContext);
  try {
    DomRepresentation dom=null;
    if (wadl instanceof DomRepresentation) {
      dom=(DomRepresentation)wadl;
    }
 else {
      dom=new DomRepresentation(wadl);
    }
    Router root=new Router(getContext());
    this.router=root;
    setRoot(root);
    NodeSet resources=dom.getNodes("/application/resources/resource");
    for (    Node resource : resources) {
      attachResource(dom,resource,null,root);
    }
    Node baseNode=dom.getNode("/application/resources/@base");
    setBaseRef(new Reference(baseNode.getNodeValue()));
  }
 catch (  Exception e) {
    getLogger().log(Level.WARNING,"Error during the attachment of the WADL application",e);
  }
}
