def body_line_iterator(msg, decode=False):
    'Iterate over the parts, returning string payloads line-by-line.\n\n    Optional decode (default False) is passed through to .get_payload().\n    '
    lines = []
    for subpart in msg.walk():
        payload = subpart.get_payload(decode=decode)
        if _isstring(payload):
            for line in StringIO(payload).readlines():
                lines.append(line)
    return lines
