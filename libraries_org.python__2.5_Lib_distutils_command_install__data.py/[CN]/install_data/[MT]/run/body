def run(self):
    self.mkpath(self.install_dir)
    for f in self.data_files:
        if (type(f) is StringType):
            f = convert_path(f)
            if self.warn_dir:
                self.warn(("setup script did not provide a directory for '%s' -- installing right in '%s'" % (f, self.install_dir)))
            (out, _) = self.copy_file(f, self.install_dir)
            self.outfiles.append(out)
        else:
            dir = convert_path(f[0])
            if (not os.path.isabs(dir)):
                dir = os.path.join(self.install_dir, dir)
            elif self.root:
                dir = change_root(self.root, dir)
            self.mkpath(dir)
            if (f[1] == []):
                self.outfiles.append(dir)
            else:
                for data in f[1]:
                    data = convert_path(data)
                    (out, _) = self.copy_file(data, dir)
                    self.outfiles.append(out)
