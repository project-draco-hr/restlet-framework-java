{
  if (!message.getCacheDirectives().isEmpty()) {
    headers.add(HeaderConstants.HEADER_CACHE_CONTROL,CacheDirectiveWriter.append(message.getCacheDirectives()));
  }
  if (message.getDate() == null) {
    message.setDate(new Date());
  }
  headers.add(HeaderConstants.HEADER_DATE,DateUtils.format(message.getDate()));
  if (!message.getWarnings().isEmpty()) {
    for (    Warning warning : message.getWarnings()) {
      headers.add(HeaderConstants.HEADER_WARNING,WarningWriter.format(warning));
    }
  }
}
