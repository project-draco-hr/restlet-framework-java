def test_message(self):
    msg = mimetools.Message(StringIO.StringIO(msgtext1))
    self.assertEqual(msg.gettype(), 'text/plain')
    self.assertEqual(msg.getmaintype(), 'text')
    self.assertEqual(msg.getsubtype(), 'plain')
    self.assertEqual(msg.getplist(), ['charset=iso-8859-1', 'format=flowed'])
    self.assertEqual(msg.getparamnames(), ['charset', 'format'])
    self.assertEqual(msg.getparam('charset'), 'iso-8859-1')
    self.assertEqual(msg.getparam('format'), 'flowed')
    self.assertEqual(msg.getparam('spam'), None)
    self.assertEqual(msg.getencoding(), '8bit')
