def __setslice__(self, start, end, sub):
    start = max(start, 0)
    end = max(end, 0)
    if isinstance(sub, UserString):
        self.data = ((self.data[:start] + sub.data) + self.data[end:])
    elif (isinstance(sub, StringType) or isinstance(sub, UnicodeType)):
        self.data = ((self.data[:start] + sub) + self.data[end:])
    else:
        self.data = ((self.data[:start] + str(sub)) + self.data[end:])
