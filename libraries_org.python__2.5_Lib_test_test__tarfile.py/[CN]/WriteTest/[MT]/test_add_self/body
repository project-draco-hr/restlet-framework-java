def test_add_self(self):
    dstname = os.path.abspath(self.dstname)
    self.assertEqual(self.dst.name, dstname, 'archive name must be absolute')
    self.dst.add(dstname)
    self.assertEqual(self.dst.getnames(), [], 'added the archive to itself')
    cwd = os.getcwd()
    os.chdir(dirname())
    self.dst.add(dstname)
    os.chdir(cwd)
    self.assertEqual(self.dst.getnames(), [], 'added the archive to itself')
