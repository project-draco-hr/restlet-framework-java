def test_ioctl_signed_unsigned_code_param(self):
    if (not pty):
        raise TestSkipped('pty module required')
    (mfd, sfd) = pty.openpty()
    try:
        if (termios.TIOCSWINSZ < 0):
            set_winsz_opcode_maybe_neg = termios.TIOCSWINSZ
            set_winsz_opcode_pos = (termios.TIOCSWINSZ & 4294967295L)
        else:
            set_winsz_opcode_pos = termios.TIOCSWINSZ
            (set_winsz_opcode_maybe_neg,) = struct.unpack('i', struct.pack('I', termios.TIOCSWINSZ))
        saved_winsz = fcntl.ioctl(mfd, termios.TIOCGWINSZ, ('\x00' * 8))
        our_winsz = struct.pack('HHHH', 80, 25, 0, 0)
        new_winsz = fcntl.ioctl(mfd, set_winsz_opcode_pos, our_winsz)
        new_winsz = fcntl.ioctl(mfd, set_winsz_opcode_maybe_neg, our_winsz)
        fcntl.ioctl(mfd, set_winsz_opcode_maybe_neg, saved_winsz)
    finally:
        os.close(mfd)
        os.close(sfd)
