{
  this.persistent=helper.isPersistingConnections();
  this.pipelining=helper.isPipeliningConnections();
  this.state=ConnectionState.OPENING;
  this.socketChannel=socketChannel;
  this.socketAddress=socketAddress;
  if ((controller != null) && (socketChannel != null) && (socketAddress != null)) {
    this.registration=(controller == null) ? null : controller.register(socketChannel,0,this);
    this.readableSelectionChannel=createReadableSelectionChannel();
    this.writableSelectionChannel=createWritableSelectionChannel();
    if (getHelper().isTracing()) {
      this.readableSelectionChannel=new ReadableTraceChannel(this.readableSelectionChannel);
      this.writableSelectionChannel=new WritableTraceChannel(this.writableSelectionChannel);
    }
  }
  this.lastActivity=System.currentTimeMillis();
}
