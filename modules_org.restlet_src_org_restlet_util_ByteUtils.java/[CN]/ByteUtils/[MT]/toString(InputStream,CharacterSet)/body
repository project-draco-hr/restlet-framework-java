{
  String result=null;
  if (inputStream != null) {
    try {
      StringBuilder sb=new StringBuilder();
      InputStreamReader isr=null;
      if (characterSet != null) {
        isr=new InputStreamReader(inputStream,characterSet.getName());
      }
 else {
        isr=new InputStreamReader(inputStream);
      }
      BufferedReader br=new BufferedReader(isr);
      int nextByte=br.read();
      while (nextByte != -1) {
        sb.append((char)nextByte);
        nextByte=br.read();
      }
      br.close();
      result=sb.toString();
    }
 catch (    Exception e) {
    }
  }
  return result;
}
