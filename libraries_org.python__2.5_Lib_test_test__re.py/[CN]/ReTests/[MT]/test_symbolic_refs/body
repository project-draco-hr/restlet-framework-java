def test_symbolic_refs(self):
    self.assertRaises(re.error, re.sub, '(?P<a>x)', '\\g<a', 'xx')
    self.assertRaises(re.error, re.sub, '(?P<a>x)', '\\g<', 'xx')
    self.assertRaises(re.error, re.sub, '(?P<a>x)', '\\g', 'xx')
    self.assertRaises(re.error, re.sub, '(?P<a>x)', '\\g<a a>', 'xx')
    self.assertRaises(re.error, re.sub, '(?P<a>x)', '\\g<1a1>', 'xx')
    self.assertRaises(IndexError, re.sub, '(?P<a>x)', '\\g<ab>', 'xx')
    self.assertRaises(re.error, re.sub, '(?P<a>x)|(?P<b>y)', '\\g<b>', 'xx')
    self.assertRaises(re.error, re.sub, '(?P<a>x)|(?P<b>y)', '\\2', 'xx')
    self.assertRaises(re.error, re.sub, '(?P<a>x)', '\\g<-1>', 'xx')
