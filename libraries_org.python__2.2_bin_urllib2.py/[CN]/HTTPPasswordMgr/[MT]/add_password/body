def add_password(self, realm, uri, user, passwd):
    if isinstance(uri, (types.StringType, types.UnicodeType)):
        uri = [uri]
    uri = tuple(map(self.reduce_uri, uri))
    if (not self.passwd.has_key(realm)):
        self.passwd[realm] = {}
    self.passwd[realm][uri] = (user, passwd)
