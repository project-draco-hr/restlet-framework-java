def build_opener(self):
    opener = OpenerDirector()
    for ph in self.proxy_handlers:
        if inspect.isclass(ph):
            ph = ph()
        opener.add_handler(ph)
