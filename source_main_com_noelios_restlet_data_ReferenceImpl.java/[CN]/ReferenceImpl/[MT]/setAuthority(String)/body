{
  String ssp=getSchemeSpecificPart();
  String newAuthority=(authority == null) ? "" : "//" + authority;
  if (ssp.startsWith("//")) {
    int index=ssp.indexOf('/',2);
    if (index != -1) {
      setSchemeSpecificPart(newAuthority + ssp.substring(index));
    }
 else {
      index=ssp.indexOf('?');
      if (index != -1) {
        setSchemeSpecificPart(newAuthority + ssp.substring(index));
      }
 else {
        setSchemeSpecificPart(newAuthority);
      }
    }
  }
 else {
    setSchemeSpecificPart(newAuthority + ssp);
  }
}
