{
  String scheme=call.getResourceRef().getScheme();
  if (scheme.equalsIgnoreCase("file")) {
    handleFile(call);
  }
 else   if (scheme.equalsIgnoreCase("context")) {
    ClassLoader cl=null;
    ContextReference cr=new ContextReference(call.getResourceRef());
    if (cr.getAuthorityType() == AuthorityType.CLASS) {
      cl=getClass().getClassLoader();
    }
 else     if (cr.getAuthorityType() == AuthorityType.SYSTEM) {
      cl=ClassLoader.getSystemClassLoader();
    }
 else     if (cr.getAuthorityType() == AuthorityType.THREAD) {
      cl=Thread.currentThread().getContextClassLoader();
    }
 else     if (cr.getAuthorityType() == AuthorityType.WEB_APPLICATION) {
      cl=null;
    }
    handleClassLoader(call,cl);
  }
 else {
    throw new IllegalArgumentException("Protocol not supported by the connector. Only FILE and CONTEXT are supported.");
  }
}
