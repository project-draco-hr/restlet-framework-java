{
  ApplicationInfo applicationInfo=new ApplicationInfo();
  for (  Class<?> clazz : application.getClasses()) {
    scan(clazz,applicationInfo,baseRef);
  }
  for (  Object singleton : application.getSingletons()) {
    if (singleton != null) {
      scan(singleton.getClass(),applicationInfo,baseRef);
    }
  }
  applicationInfo.getResources().setBaseRef(baseRef);
  return applicationInfo;
}
