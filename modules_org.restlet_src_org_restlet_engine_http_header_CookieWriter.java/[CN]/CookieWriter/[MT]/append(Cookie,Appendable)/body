{
  String name=cookie.getName();
  String value=cookie.getValue();
  int version=cookie.getVersion();
  if ((name == null) || (name.length() == 0)) {
    throw new IllegalArgumentException("Can't write cookie. Invalid name detected");
  }
  appendValue(name,0,destination).append('=');
  if ((value != null) && (value.length() > 0)) {
    appendValue(value,version,destination);
  }
  if (version > 0) {
    final String path=cookie.getPath();
    if ((path != null) && (path.length() > 0)) {
      destination.append("; $Path=");
      HeaderWriter.appendQuotedString(path,destination);
    }
    final String domain=cookie.getDomain();
    if ((domain != null) && (domain.length() > 0)) {
      destination.append("; $Domain=");
      HeaderWriter.appendQuotedString(domain,destination);
    }
  }
}
