def testConnectTimeout(self):
    _timeout = 0.001
    self.sock.settimeout(_timeout)
    if ((socket.getfqdn().split('.')[(-2):] == ['python', 'org']) or (socket.getfqdn().split('.')[(-2):(-1)] == ['xs4all'])):
        self.addr_remote = ('tut.fi', 80)
    _t1 = time.time()
    self.failUnlessRaises(socket.error, self.sock.connect, self.addr_remote)
    _t2 = time.time()
    _delta = abs((_t1 - _t2))
    self.assert_((_delta < (_timeout + self.fuzz)), ('timeout (%g) is more than %g seconds more than expected (%g)' % (_delta, self.fuzz, _timeout)))
