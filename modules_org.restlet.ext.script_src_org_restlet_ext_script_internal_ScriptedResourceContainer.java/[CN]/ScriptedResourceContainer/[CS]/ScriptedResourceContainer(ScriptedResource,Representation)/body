{
  this.resource=resource;
  this.variant=entity;
  this.entity=entity;
  this.mediaType=this.variant.getMediaType();
  this.characterSet=this.variant.getCharacterSet();
  if (this.characterSet == null) {
    this.characterSet=resource.getDefaultCharacterSet();
  }
  this.scriptContextController=new ScriptedResourceScriptContextController(resource,this);
}
