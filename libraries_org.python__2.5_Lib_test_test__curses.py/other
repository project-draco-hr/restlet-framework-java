import curses, sys, tempfile, os
import curses.panel
from test.test_support import requires, TestSkipped
requires('curses')
term = os.environ.get('TERM')
if ((not term) or (term == 'unknown')):
    raise TestSkipped, ('$TERM=%r, calling initscr() may cause exit' % term)
if (sys.platform == 'cygwin'):
    raise TestSkipped("cygwin's curses mostly just hangs")
if (__name__ == '__main__'):
    curses.wrapper(main)
    unit_tests()
else:
    try:
        curses.setupterm(fd=sys.__stdout__.fileno())
        stdscr = curses.initscr()
        main(stdscr)
    finally:
        curses.endwin()
    unit_tests()
