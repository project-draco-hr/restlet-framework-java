{
  Collection<Preference<MediaType>> preferences=new ArrayList<Preference<MediaType>>();
  preferences.add(new Preference<MediaType>(MediaType.TEXT_HTML,0.5f));
  List<Collection<MediaType>> sorted=(List)Util.sortMetadataList((Collection)preferences);
  assertEquals(1,sorted.size());
  assertEquals(1,sorted.get(0).size());
  assertEquals(MediaType.TEXT_HTML,sorted.get(0).iterator().next());
  preferences.add(new Preference<MediaType>(MediaType.TEXT_PLAIN,0.7f));
  preferences.add(new Preference<MediaType>(MediaType.TEXT_CSS,0.5f));
  sorted=(List)Util.sortMetadataList((Collection)preferences);
  assertEquals(2,sorted.size());
  assertEquals(1,sorted.get(0).size());
  assertEquals(MediaType.TEXT_PLAIN,sorted.get(0).iterator().next());
  assertEquals(2,sorted.get(1).size());
  assertTrue(sorted.get(1).contains(MediaType.TEXT_HTML));
  assertTrue(sorted.get(1).contains(MediaType.TEXT_CSS));
}
