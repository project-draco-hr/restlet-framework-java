def setnchannels(self, nchannels):
    if self._nframeswritten:
        raise Error, 'cannot change parameters after starting to write'
    if (nchannels < 1):
        raise Error, 'bad # of channels'
    self._nchannels = nchannels
