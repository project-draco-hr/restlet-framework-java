def open(f, mode=None):
    if (mode is None):
        if hasattr(f, 'mode'):
            mode = f.mode
        else:
            mode = 'rb'
    if (mode in ('r', 'rb')):
        return Aifc_read(f)
    elif (mode in ('w', 'wb')):
        return Aifc_write(f)
    else:
        raise Error, "mode must be 'r', 'rb', 'w', or 'wb'"
