def test():
    'Small test program'
    import sys, getopt
    try:
        (opts, args) = getopt.getopt(sys.argv[1:], 'deut')
    except getopt.error as msg:
        sys.stdout = sys.stderr
        print msg
        print ("usage: %s [-d|-e|-u|-t] [file|-]\n        -d, -u: decode\n        -e: encode (default)\n        -t: encode and decode string 'Aladdin:open sesame'" % sys.argv[0])
        sys.exit(2)
    func = encode
    for (o, a) in opts:
        if (o == '-e'):
            func = encode
        if (o == '-d'):
            func = decode
        if (o == '-u'):
            func = decode
        if (o == '-t'):
            test1()
            return
    if (args and (args[0] != '-')):
        func(open(args[0], 'rb'), sys.stdout)
    else:
        func(sys.stdin, sys.stdout)
