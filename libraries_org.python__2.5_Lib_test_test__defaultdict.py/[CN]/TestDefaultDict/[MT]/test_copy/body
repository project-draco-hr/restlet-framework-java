def test_copy(self):
    d1 = defaultdict()
    d2 = d1.copy()
    self.assertEqual(type(d2), defaultdict)
    self.assertEqual(d2.default_factory, None)
    self.assertEqual(d2, {})
    d1.default_factory = list
    d3 = d1.copy()
    self.assertEqual(type(d3), defaultdict)
    self.assertEqual(d3.default_factory, list)
    self.assertEqual(d3, {})
    d1[42]
    d4 = d1.copy()
    self.assertEqual(type(d4), defaultdict)
    self.assertEqual(d4.default_factory, list)
    self.assertEqual(d4, {42: [], })
    d4[12]
    self.assertEqual(d4, {42: [], 12: [], })
