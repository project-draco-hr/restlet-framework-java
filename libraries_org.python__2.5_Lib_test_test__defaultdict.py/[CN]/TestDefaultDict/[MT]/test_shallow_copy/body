def test_shallow_copy(self):
    d1 = defaultdict(foobar, {1: 1, })
    d2 = copy.copy(d1)
    self.assertEqual(d2.default_factory, foobar)
    self.assertEqual(d2, d1)
    d1.default_factory = list
    d2 = copy.copy(d1)
    self.assertEqual(d2.default_factory, list)
    self.assertEqual(d2, d1)
