{
  String uriPattern=thisResource.getAttributes().getNamedItem("path").getNodeValue();
  Node idNode=thisResource.getAttributes().getNamedItem("id");
  if (idNode != null) {
    if (parentResource != null) {
      String parentUriPattern=parentResource.getAttributes().getNamedItem("path").getNodeValue();
      if (parentUriPattern.endsWith("/") == false && uriPattern.startsWith("/") == false) {
        parentUriPattern+="/";
      }
      uriPattern=parentUriPattern + uriPattern;
      ((Element)thisResource).setAttribute("path",uriPattern);
    }
    String targetClassName=idNode.getNodeValue();
    Class targetClass=Class.forName(targetClassName);
    router.attach(uriPattern,targetClass);
    NodeSet childResources=wadl.getNodes("//resource[@id='" + targetClassName + "']/resource");
    for (    Node childResource : childResources) {
      attachResourceAndChildren(wadl,childResource,thisResource,router);
    }
  }
 else {
    getLogger().warning("Unable to find the 'id' attribute of the resource element with this path attribute \"" + uriPattern + "\"");
  }
}
