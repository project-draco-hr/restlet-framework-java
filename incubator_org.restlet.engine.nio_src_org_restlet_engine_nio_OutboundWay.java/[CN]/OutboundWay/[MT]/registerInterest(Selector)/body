{
  super.registerInterest(selector);
  SelectableChannel entitySelectableChannel=getEntitySelectableChannel();
  if (entitySelectableChannel != null) {
    int entityInterestOps=getEntityInterestOps();
    if ((getEntityKey() == null) && (entityInterestOps > 0)) {
      try {
        setEntityKey(entitySelectableChannel.register(selector,entityInterestOps,new Selectable(){
          public void onSelected(          SelectionKey key){
          }
        }
));
      }
 catch (      ClosedChannelException cce) {
        getLogger().log(Level.WARNING,"Unable to register NIO interest operations for this entity",cce);
        getConnection().onError();
      }
    }
 else {
      getEntityKey().interestOps(entityInterestOps);
    }
  }
}
