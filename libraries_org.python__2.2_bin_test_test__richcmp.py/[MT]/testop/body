def testop(a, b, op):
    try:
        ax = a.x
    except AttributeError:
        ax = a
    try:
        bx = b.x
    except AttributeError:
        bx = b
    opfunc = opmap[op]
    realoutcome = opfunc(ax, bx)
    testoutcome = opfunc(a, b)
    if (realoutcome != testoutcome):
        print 'Error for', a, op, b, ': expected', realoutcome,
        print 'but got', testoutcome
