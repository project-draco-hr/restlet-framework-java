{
  try {
    BufferedReader reader=null;
    try {
      reader=new BufferedReader(new InputStreamReader(configUrl.openStream(),"utf-8"));
      String line=reader.readLine();
      while (line != null) {
        final String provider=getProviderClassName(line);
        if ((provider != null) && (!provider.equals(""))) {
          try {
            final Class providerClass=classLoader.loadClass(provider);
            if (constructorClass == null) {
              helpers.add(providerClass.newInstance());
            }
 else {
              helpers.add(providerClass.getConstructor(constructorClass).newInstance(constructorClass.cast(null)));
            }
          }
 catch (          final Exception e) {
            Context.getCurrentLogger().log(Level.SEVERE,"Unable to register the helper " + provider,e);
          }
        }
        line=reader.readLine();
      }
    }
 catch (    final IOException e) {
      Context.getCurrentLogger().log(Level.SEVERE,"Unable to read the provider descriptor: " + configUrl.toString());
    }
 finally {
      if (reader != null) {
        reader.close();
      }
    }
  }
 catch (  final IOException ioe) {
    Context.getCurrentLogger().log(Level.SEVERE,"Exception while detecting the helpers.",ioe);
  }
}
