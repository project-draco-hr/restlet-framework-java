{
  boolean result=false;
  int next;
  while (!result && getByteBuffer().hasRemaining()) {
    next=(int)getByteBuffer().get();
    if (HeaderUtils.isCarriageReturn(next)) {
      next=(int)getByteBuffer().get();
      if (HeaderUtils.isLineFeed(next)) {
        result=true;
      }
 else {
        throw new IOException("Missing carriage return character at the end of HTTP line");
      }
    }
 else     if (next == -1) {
      setMessageState(MessageState.END);
    }
 else {
      getLineBuilder().append((char)next);
    }
  }
  return result;
}
