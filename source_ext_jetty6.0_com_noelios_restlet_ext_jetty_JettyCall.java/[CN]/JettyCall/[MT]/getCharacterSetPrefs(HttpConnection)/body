{
  List<Preference> result=null;
  String acceptCharset=connection.getRequest().getHeader(HttpHeaders.ACCEPT_CHARSET);
  if (acceptCharset != null) {
    if (acceptCharset.length() == 0) {
      result=new ArrayList<Preference>();
      result.add(new PreferenceImpl(CharacterSets.ISO_8859_1));
    }
 else {
      PreferenceReaderImpl pr=new PreferenceReaderImpl(PreferenceReaderImpl.TYPE_CHARACTER_SET,acceptCharset);
      result=pr.readPreferences();
    }
  }
 else {
    result=new ArrayList<Preference>();
    result.add(new PreferenceImpl(CharacterSets.ALL));
  }
  return result;
}
