def get_content_type(self):
    "Return the message's content type.\n\n        The returned string is coerced to lower case of the form\n        `maintype/subtype'.  If there was no Content-Type header in the\n        message, the default type as given by get_default_type() will be\n        returned.  Since according to RFC 2045, messages always have a default\n        type this will always return a value.\n\n        RFC 2045 defines a message's default type to be text/plain unless it\n        appears inside a multipart/digest container, in which case it would be\n        message/rfc822.\n        "
    missing = object()
    value = self.get('content-type', missing)
    if (value is missing):
        return self.get_default_type()
    ctype = paramre.split(value)[0].lower().strip()
    if (ctype.count('/') != 1):
        return 'text/plain'
    return ctype
