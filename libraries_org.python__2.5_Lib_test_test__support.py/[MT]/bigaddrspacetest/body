def bigaddrspacetest(f):
    'Decorator for tests that fill the address space.'

    def wrapper(self):
        if (max_memuse < MAX_Py_ssize_t):
            if verbose:
                sys.stderr.write(('Skipping %s because of memory constraint\n' % (f.__name__,)))
        else:
            return f(self)
    return wrapper
