{
  if (!getQueryExtracts().isEmpty()) {
    final Form form=request.getResourceRef().getQueryAsForm();
    if (form != null) {
      for (      final ExtractInfo ei : getQueryExtracts()) {
        if (ei.first) {
          String value=form.getFirstValue(ei.parameter);
          if (value != null) {
            request.getAttributes().put(ei.attribute,value);
          }
        }
 else {
          request.getAttributes().put(ei.attribute,form.subList(ei.parameter));
        }
      }
    }
  }
  if (!getEntityExtracts().isEmpty()) {
    Representation entity=request.getEntity();
    if (entity != null) {
      final Form form=new Form(entity);
      for (      final ExtractInfo ei : getEntityExtracts()) {
        if (ei.first) {
          String value=form.getFirstValue(ei.parameter);
          if (value != null) {
            request.getAttributes().put(ei.attribute,value);
          }
        }
 else {
          request.getAttributes().put(ei.attribute,form.subList(ei.parameter));
        }
      }
    }
  }
  if (!getCookieExtracts().isEmpty()) {
    final Series<Cookie> cookies=request.getCookies();
    if (cookies != null) {
      for (      final ExtractInfo ei : getCookieExtracts()) {
        if (ei.first) {
          String value=cookies.getFirstValue(ei.parameter);
          if (value != null) {
            request.getAttributes().put(ei.attribute,value);
          }
        }
 else {
          request.getAttributes().put(ei.attribute,cookies.subList(ei.parameter));
        }
      }
    }
  }
  return CONTINUE;
}
