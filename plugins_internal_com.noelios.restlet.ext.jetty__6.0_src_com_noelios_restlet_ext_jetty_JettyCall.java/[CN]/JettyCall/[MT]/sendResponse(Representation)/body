{
  Parameter header;
  for (Iterator<Parameter> iter=getResponseHeaders().iterator(); iter.hasNext(); ) {
    header=iter.next();
    getConnection().getResponse().addHeader(header.getName(),header.getValue());
  }
  if (Status.isError(getResponseStatusCode())) {
    try {
      getConnection().getResponse().sendError(getResponseStatusCode(),getResponseReasonPhrase());
    }
 catch (    IOException ioe) {
      logger.log(Level.WARNING,"Unable to set the response error status",ioe);
    }
  }
 else {
    getConnection().getResponse().setStatus(getResponseStatusCode());
  }
  super.sendResponse(output);
  this.connection.completeResponse();
  this.connection.commitResponse(true);
}
