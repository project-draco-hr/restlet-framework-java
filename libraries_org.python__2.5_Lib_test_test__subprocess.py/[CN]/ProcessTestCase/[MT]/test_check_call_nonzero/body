def test_check_call_nonzero(self):
    try:
        subprocess.check_call([sys.executable, '-c', 'import sys; sys.exit(47)'])
    except subprocess.CalledProcessError as e:
        self.assertEqual(e.returncode, 47)
    else:
        self.fail('Expected CalledProcessError')
