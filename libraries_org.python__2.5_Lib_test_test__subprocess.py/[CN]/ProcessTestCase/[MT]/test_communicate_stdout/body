def test_communicate_stdout(self):
    p = subprocess.Popen([sys.executable, '-c', 'import sys; sys.stdout.write("pineapple")'], stdout=subprocess.PIPE)
    (stdout, stderr) = p.communicate()
    self.assertEqual(stdout, 'pineapple')
    self.assertEqual(stderr, None)
