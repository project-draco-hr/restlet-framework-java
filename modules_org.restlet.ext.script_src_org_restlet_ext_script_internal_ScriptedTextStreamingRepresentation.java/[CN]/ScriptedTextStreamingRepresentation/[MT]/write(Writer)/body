{
  this.container.isStreaming=true;
  this.resource.setWriter(writer);
  try {
    this.script.run(writer,this.resource.getErrorWriter(),this.flushLines,this.scriptEngines,this.scriptContextController,false);
  }
 catch (  ScriptException e) {
    IOException ioe=new IOException("Script exception");
    ioe.initCause(e);
    throw ioe;
  }
 finally {
    this.script.setCacheDuration(0);
  }
}
