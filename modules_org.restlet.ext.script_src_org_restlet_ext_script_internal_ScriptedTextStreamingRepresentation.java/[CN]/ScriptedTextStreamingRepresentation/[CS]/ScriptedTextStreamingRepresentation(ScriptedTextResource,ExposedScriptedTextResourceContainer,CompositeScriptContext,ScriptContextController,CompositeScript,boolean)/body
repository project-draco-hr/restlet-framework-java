{
  super(container.getMediaType());
  this.resource=resource;
  this.container=container;
  this.compositeScriptContext=compositeScriptContext;
  this.scriptContextController=scriptContextController;
  this.flushLines=flushLines;
  setCharacterSet(container.getCharacterSet());
  if (container.getLanguage() != null) {
    setLanguages(Arrays.asList(new Language[]{container.getLanguage()}));
  }
  this.script=script;
}
