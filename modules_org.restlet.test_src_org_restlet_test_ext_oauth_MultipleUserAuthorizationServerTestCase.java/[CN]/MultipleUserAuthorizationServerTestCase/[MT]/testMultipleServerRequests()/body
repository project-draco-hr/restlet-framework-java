{
  int numThreads=5;
  int numCalls=50;
  int totRequests=(numThreads * numCalls) + numThreads;
  Thread[] clients=new Thread[numThreads];
  Client client=null;
  long l=System.currentTimeMillis();
  for (int i=0; i < numThreads; i++) {
    if (i % 25 == 0)     client=this.createClient();
    clients[i]=new ClientCall(numCalls,client);
    clients[i].start();
  }
  Awaitility.setDefaultTimeout(Duration.FOREVER);
  Awaitility.await().until(numCalls(),Matchers.equalTo(totRequests));
  long tot=System.currentTimeMillis() - l;
  Engine.getAnonymousLogger().warning("executed in " + tot + " milliseconds"+ " "+ (tot / (numThreads * numCalls)));
  int errors=SingletonStore.I().getErrors();
  SingletonStore.I().clear();
  Assert.assertEquals(0,errors);
}
