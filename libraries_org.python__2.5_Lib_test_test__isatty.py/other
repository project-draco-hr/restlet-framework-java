import test.test_support, unittest
import os, popen2, subprocess, sys
if (__name__ == '__main__'):
    if (len(sys.argv) != 4):
        test.test_support.run_unittest(IsattyTest)
        sys.exit(0)
    (stdin_isatty, stdout_isatty, stderr_isatty) = map((lambda x: (x == 'True')), sys.argv[1:])
    test_isatty('stdin', sys.stdin)
    test_isatty('stdout', sys.stdout)
    test_isatty('stderr', sys.stderr)
    test_int_isatty(0, stdin_isatty)
    test_int_isatty(1, stdout_isatty)
    test_int_isatty(2, stderr_isatty)
    test_file_isatty('/dev/stdin')
    test_file_isatty('/dev/stdout')
    test_file_isatty('/dev/stderr')
    try:
        from java.lang import System
        test_isatty('System.in', file(getattr(System, 'in')))
        test_isatty('System.out', file(System.out, 'w'))
        test_isatty('System.err', file(System.err, 'w'))
        from java.io import FileDescriptor, FileInputStream, FileOutputStream
        fd_in = getattr(FileDescriptor, 'in')
        fd_out = FileDescriptor.out
        fd_err = FileDescriptor.err
        test_isatty('FIS(FD.in)', file(FileInputStream(fd_in)))
        test_isatty('FOS(FD.out)', file(FileOutputStream(fd_out)))
        test_isatty('FOS(FD.err)', file(FileOutputStream(fd_err)))
    except ImportError:
        pass
    test_file_isatty('/dev/null')
    sys.exit(0)
