def getvalue(self, key, default=None):
    "Dictionary style get() method, including 'value' lookup."
    if (key in self):
        value = self[key]
        if (type(value) is type([])):
            return map(attrgetter('value'), value)
        else:
            return value.value
    else:
        return default
