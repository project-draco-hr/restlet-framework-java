{
  int result=-1;
  if (this.availableSize > 0) {
    if ((this.remainingBuffer != null) && (this.remainingBuffer.hasRemaining())) {
      result=Math.min(this.remainingBuffer.remaining(),dst.remaining());
      byte[] src=new byte[result];
      this.remainingBuffer.get(src);
      dst.put(src);
    }
 else {
      result=((ReadableByteChannel)getSource()).read(dst);
    }
    if (result > 0) {
      this.availableSize-=result;
    }
  }
  return result;
}
