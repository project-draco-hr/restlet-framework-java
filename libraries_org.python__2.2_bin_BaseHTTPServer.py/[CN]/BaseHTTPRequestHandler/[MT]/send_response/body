def send_response(self, code, message=None):
    'Send the response header and log the response code.\n\n        Also send two standard headers with the server software\n        version and the current date.\n\n        '
    self.log_request(code)
    if (message is None):
        if self.responses.has_key(code):
            message = self.responses[code][0]
        else:
            message = ''
    if (self.request_version != 'HTTP/0.9'):
        self.wfile.write(('%s %s %s\r\n' % (self.protocol_version, str(code), message)))
    self.send_header('Server', self.version_string())
    self.send_header('Date', self.date_time_string())
