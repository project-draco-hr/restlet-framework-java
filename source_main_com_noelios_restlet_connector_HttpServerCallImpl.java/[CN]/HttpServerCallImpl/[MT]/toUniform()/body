{
  setClientAddress(getRequestAddress());
  setServerAddress(getResponseAddress());
  setServerName(Engine.VERSION_HEADER);
  setStatus(Statuses.SUCCESS_OK);
  String method=getRequestMethod();
  if (method != null) {
    if (method.equals(Methods.GET.getName()))     setMethod(Methods.GET);
 else     if (method.equals(Methods.POST.getName()))     setMethod(Methods.POST);
 else     if (method.equals(Methods.HEAD.getName()))     setMethod(Methods.HEAD);
 else     if (method.equals(Methods.OPTIONS.getName()))     setMethod(Methods.OPTIONS);
 else     if (method.equals(Methods.PUT.getName()))     setMethod(Methods.PUT);
 else     if (method.equals(Methods.DELETE.getName()))     setMethod(Methods.DELETE);
 else     if (method.equals(Methods.CONNECT.getName()))     setMethod(Methods.CONNECT);
 else     if (method.equals(Methods.COPY.getName()))     setMethod(Methods.COPY);
 else     if (method.equals(Methods.LOCK.getName()))     setMethod(Methods.LOCK);
 else     if (method.equals(Methods.MKCOL.getName()))     setMethod(Methods.MKCOL);
 else     if (method.equals(Methods.MOVE.getName()))     setMethod(Methods.MOVE);
 else     if (method.equals(Methods.PROPFIND.getName()))     setMethod(Methods.PROPFIND);
 else     if (method.equals(Methods.PROPPATCH.getName()))     setMethod(Methods.PROPPATCH);
 else     if (method.equals(Methods.TRACE.getName()))     setMethod(Methods.TRACE);
 else     if (method.equals(Methods.UNLOCK.getName()))     setMethod(Methods.UNLOCK);
 else     setMethod(new MethodImpl(method));
  }
  String resource=getRequestUri();
  if (resource != null) {
    setResourceRef(new ReferenceImpl(resource));
    getResourcePaths().add(0,getResourceRef().toString(false,false));
  }
  return this;
}
