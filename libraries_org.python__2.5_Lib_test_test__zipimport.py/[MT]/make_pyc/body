def make_pyc(co, mtime):
    data = marshal.dumps(co)
    if (type(mtime) is type(0.0)):
        if (mtime < 2147483647):
            mtime = int(mtime)
        else:
            mtime = int(((-4294967296L) + long(mtime)))
    pyc = ((imp.get_magic() + struct.pack('<i', int(mtime))) + data)
    return pyc
