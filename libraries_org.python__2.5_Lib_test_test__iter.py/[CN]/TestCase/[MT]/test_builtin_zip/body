def test_builtin_zip(self):
    self.assertEqual(zip(), [])
    self.assertEqual(zip(*[]), [])
    self.assertEqual(zip(*[(1, 2), 'ab']), [(1, 'a'), (2, 'b')])
    self.assertRaises(TypeError, zip, None)
    self.assertRaises(TypeError, zip, range(10), 42)
    self.assertRaises(TypeError, zip, range(10), zip)
    self.assertEqual(zip(IteratingSequenceClass(3)), [(0,), (1,), (2,)])
    self.assertEqual(zip(SequenceClass(3)), [(0,), (1,), (2,)])
    d = {'one': 1, 'two': 2, 'three': 3, }
    self.assertEqual(d.items(), zip(d, d.itervalues()))


    class IntsFrom:

        def __init__(self, start):
            self.i = start

        def __iter__(self):
            return self

        def next(self):
            i = self.i
            self.i = (i + 1)
            return i
    f = open(TESTFN, 'w')
    try:
        f.write('a\nbbb\ncc\n')
    finally:
        f.close()
    f = open(TESTFN, 'r')
    try:
        self.assertEqual(zip(IntsFrom(0), f, IntsFrom((-100))), [(0, 'a\n', (-100)), (1, 'bbb\n', (-99)), (2, 'cc\n', (-98))])
    finally:
        f.close()
        try:
            unlink(TESTFN)
        except OSError:
            pass
    self.assertEqual(zip(xrange(5)), [(i,) for i in range(5)])


    class NoGuessLen5:

        def __getitem__(self, i):
            if (i >= 5):
                raise IndexError
            return i


    class Guess3Len5(NoGuessLen5):

        def __len__(self):
            return 3


    class Guess30Len5(NoGuessLen5):

        def __len__(self):
            return 30
    self.assertEqual(len(Guess3Len5()), 3)
    self.assertEqual(len(Guess30Len5()), 30)
    self.assertEqual(zip(NoGuessLen5()), zip(range(5)))
    self.assertEqual(zip(Guess3Len5()), zip(range(5)))
    self.assertEqual(zip(Guess30Len5()), zip(range(5)))
    expected = [(i, i) for i in range(5)]
    for x in (NoGuessLen5(), Guess3Len5(), Guess30Len5()):
        for y in (NoGuessLen5(), Guess3Len5(), Guess30Len5()):
            self.assertEqual(zip(x, y), expected)
