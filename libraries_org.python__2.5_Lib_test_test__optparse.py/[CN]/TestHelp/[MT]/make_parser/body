def make_parser(self, columns):
    options = [make_option('-a', type='string', dest='a', metavar='APPLE', help='throw APPLEs at basket'), make_option('-b', '--boo', type='int', dest='boo', metavar='NUM', help='shout "boo!" NUM times (in order to frighten away all the evil spirits that cause trouble and mayhem)'), make_option('--foo', action='append', type='string', dest='foo', help='store FOO in the foo list for later fooing')]
    orig_columns = os.environ.get('COLUMNS')
    os.environ['COLUMNS'] = str(columns)
    try:
        return InterceptingOptionParser(option_list=options)
    finally:
        if (orig_columns is None):
            del os.environ['COLUMNS']
        else:
            os.environ['COLUMNS'] = orig_columns
