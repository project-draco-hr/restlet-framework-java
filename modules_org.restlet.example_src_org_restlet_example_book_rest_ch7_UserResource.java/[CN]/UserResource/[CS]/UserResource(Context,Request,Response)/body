{
  super(context,request,response);
  this.userName=(String)request.getAttributes().get("username");
  final ChallengeResponse cr=request.getChallengeResponse();
  this.login=(cr != null) ? cr.getIdentifier() : null;
  this.password=(cr != null) ? new String(cr.getSecret()) : null;
  this.user=findUser();
  if (this.user != null) {
    getVariants().add(new Variant(MediaType.TEXT_PLAIN));
  }
  setModifiable(true);
}
