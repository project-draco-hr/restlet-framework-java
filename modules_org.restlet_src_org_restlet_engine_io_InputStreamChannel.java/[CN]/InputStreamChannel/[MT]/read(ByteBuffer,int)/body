{
  int result=0;
  if (this.buffer.length < IoUtils.BUFFER_SIZE) {
    this.buffer=new byte[IoUtils.BUFFER_SIZE];
  }
  result=getInputStream().read(this.buffer,0,Math.min(bytesToRead,IoUtils.BUFFER_SIZE));
  if (result > 0) {
    target.put(buffer,0,result);
  }
  return result;
}
