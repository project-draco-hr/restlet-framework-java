def listmailcapfiles():
    'Return a list of all mailcap files found on the system.'
    if os.environ.has_key('MAILCAPS'):
        str = os.environ['MAILCAPS']
        mailcaps = str.split(':')
    else:
        if os.environ.has_key('HOME'):
            home = os.environ['HOME']
        else:
            home = '.'
        mailcaps = [(home + '/.mailcap'), '/etc/mailcap', '/usr/etc/mailcap', '/usr/local/etc/mailcap']
    return mailcaps
