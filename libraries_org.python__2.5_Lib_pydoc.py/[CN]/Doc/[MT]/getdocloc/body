def getdocloc(self, object):
    'Return the location of module docs or None'
    try:
        file = inspect.getabsfile(object)
    except TypeError:
        file = '(built-in)'
    docloc = os.environ.get('PYTHONDOCS', 'http://www.python.org/doc/current/lib')
    basedir = os.path.join(sys.exec_prefix, 'lib', ('python' + sys.version[0:3]))
    if (isinstance(object, type(os)) and ((object.__name__ in ('errno', 'exceptions', 'gc', 'imp', 'marshal', 'posix', 'signal', 'sys', 'thread', 'zipimport')) or (file.startswith(basedir) and (not file.startswith(os.path.join(basedir, 'site-packages')))))):
        htmlfile = ('module-%s.html' % object.__name__)
        if docloc.startswith('http://'):
            docloc = ('%s/%s' % (docloc.rstrip('/'), htmlfile))
        else:
            docloc = os.path.join(docloc, htmlfile)
    else:
        docloc = None
    return docloc
