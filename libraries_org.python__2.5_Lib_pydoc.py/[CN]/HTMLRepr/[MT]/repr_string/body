def repr_string(self, x, level):
    test = cram(x, self.maxstring)
    testrepr = repr(test)
    if (('\\' in test) and ('\\' not in replace(testrepr, '\\\\', ''))):
        return ((('r' + testrepr[0]) + self.escape(test)) + testrepr[0])
    return re.sub('((\\\\[\\\\abfnrtv\\\'"]|\\\\[0-9]..|\\\\x..|\\\\u....)+)', '<font color="#c040c0">\\1</font>', self.escape(testrepr))
