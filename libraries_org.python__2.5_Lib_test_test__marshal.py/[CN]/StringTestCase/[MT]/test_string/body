def test_string(self):
    for s in ['', 'Andr\xe8 Previn', 'abc', (' ' * 10000)]:
        new = marshal.loads(marshal.dumps(s))
        self.assertEqual(s, new)
        self.assertEqual(type(s), type(new))
        new = roundtrip(s)
        self.assertEqual(s, new)
        self.assertEqual(type(s), type(new))
    os.unlink(test_support.TESTFN)
