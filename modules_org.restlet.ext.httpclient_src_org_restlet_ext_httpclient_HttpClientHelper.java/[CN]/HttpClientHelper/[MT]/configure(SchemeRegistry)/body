{
  schemeRegistry.register(new Scheme("http",PlainSocketFactory.getSocketFactory(),80));
  SSLSocketFactory sslSocketFactory=null;
  SslContextFactory sslContextFactory=SslUtils.getSslContextFactory(this);
  if (sslContextFactory != null) {
    try {
      SSLContext sslContext=sslContextFactory.createSslContext();
      sslSocketFactory=new SSLSocketFactory(sslContext);
    }
 catch (    Exception e) {
      throw new RuntimeException("Unable to create SSLContext.",e);
    }
  }
 else {
    sslSocketFactory=SSLSocketFactory.getSocketFactory();
  }
  schemeRegistry.register(new Scheme("https",sslSocketFactory,443));
}
