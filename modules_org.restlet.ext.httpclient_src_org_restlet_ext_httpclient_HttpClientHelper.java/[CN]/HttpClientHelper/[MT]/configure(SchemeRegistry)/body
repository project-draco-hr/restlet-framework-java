{
  schemeRegistry.register(new Scheme("http",PlainSocketFactory.getSocketFactory(),80));
  SSLSocketFactory sslSocketFactory=null;
  SslContextFactory sslContextFactory=SslUtils.getSslContextFactory(this);
  if (sslContextFactory != null) {
    try {
      SSLContext sslContext=sslContextFactory.createSslContext();
      sslSocketFactory=new SSLSocketFactory(sslContext);
    }
 catch (    Exception e) {
      throw new RuntimeException("Unable to create SSLContext.",e);
    }
  }
 else {
    sslSocketFactory=SSLSocketFactory.getSocketFactory();
  }
  if (getHostnameVerifier() != null) {
    try {
      X509HostnameVerifier hostnameVerifier=(X509HostnameVerifier)Engine.loadClass(getHostnameVerifier()).newInstance();
      sslSocketFactory.setHostnameVerifier(hostnameVerifier);
    }
 catch (    Exception e) {
      getLogger().log(Level.WARNING,"An error occurred during the instantiation of the hostname verifier.",e);
    }
  }
  schemeRegistry.register(new Scheme("https",443,sslSocketFactory));
}
