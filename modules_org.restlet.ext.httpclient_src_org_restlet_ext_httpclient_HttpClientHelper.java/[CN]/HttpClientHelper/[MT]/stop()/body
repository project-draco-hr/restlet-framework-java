{
  if (this.idleConnectionReaper != null) {
    this.idleConnectionReaper.stop();
  }
  if (getHttpClient() != null) {
    getHttpClient().getConnectionManager().closeExpiredConnections();
    getHttpClient().getConnectionManager().closeIdleConnections(getStopIdleTimeout(),TimeUnit.MILLISECONDS);
    getHttpClient().getConnectionManager().shutdown();
    getLogger().info("Stopping the HTTP client");
  }
}
