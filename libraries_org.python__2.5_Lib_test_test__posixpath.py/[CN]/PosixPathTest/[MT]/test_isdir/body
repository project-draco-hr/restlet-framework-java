def test_isdir(self):
    self.assertIs(posixpath.isdir(test_support.TESTFN), False)
    f = open(test_support.TESTFN, 'wb')
    try:
        f.write('foo')
        f.close()
        self.assertIs(posixpath.isdir(test_support.TESTFN), False)
        os.remove(test_support.TESTFN)
        os.mkdir(test_support.TESTFN)
        self.assertIs(posixpath.isdir(test_support.TESTFN), True)
        os.rmdir(test_support.TESTFN)
    finally:
        if (not f.close()):
            f.close()
        try:
            os.remove(test_support.TESTFN)
        except os.error:
            pass
        try:
            os.rmdir(test_support.TESTFN)
        except os.error:
            pass
    self.assertRaises(TypeError, posixpath.isdir)
