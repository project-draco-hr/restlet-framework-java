def test_islink(self):
    self.assertIs(posixpath.islink((test_support.TESTFN + '1')), False)
    f = open((test_support.TESTFN + '1'), 'wb')
    try:
        f.write('foo')
        f.close()
        self.assertIs(posixpath.islink((test_support.TESTFN + '1')), False)
        if hasattr(os, 'symlink'):
            os.symlink((test_support.TESTFN + '1'), (test_support.TESTFN + '2'))
            self.assertIs(posixpath.islink((test_support.TESTFN + '2')), True)
            os.remove((test_support.TESTFN + '1'))
            self.assertIs(posixpath.islink((test_support.TESTFN + '2')), True)
            self.assertIs(posixpath.exists((test_support.TESTFN + '2')), False)
            self.assertIs(posixpath.lexists((test_support.TESTFN + '2')), True)
    finally:
        if (not f.close()):
            f.close()
        try:
            os.remove((test_support.TESTFN + '1'))
        except os.error:
            pass
        try:
            os.remove((test_support.TESTFN + '2'))
        except os.error:
            pass
    self.assertRaises(TypeError, posixpath.islink)
