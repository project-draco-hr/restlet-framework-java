def _instantiate(self, klass, k):
    args = tuple(self.stack[(k + 1):])
    del self.stack[k:]
    instantiated = 0
    if ((not args) and (type(klass) is ClassType) and (not hasattr(klass, '__getinitargs__'))):
        try:
            value = _EmptyClass()
            value.__class__ = klass
            instantiated = 1
        except RuntimeError:
            pass
    if (not instantiated):
        try:
            value = klass(*args)
        except TypeError as err:
            raise TypeError, ('in constructor for %s: %s' % (klass.__name__, str(err))), sys.exc_info()[2]
    self.append(value)
