def __init__(self, name, took, type=None, exc_info=None):
    self.name = name
    self.took = took
    self.type = type
    if exc_info:
        self.exc_name = exc_name(exc_info)
        self.message = exc_message(exc_info)
        self.traceback = safe_str(''.join(traceback.format_exception(*exc_info)))
    else:
        self.exc_name = self.message = self.traceback = ''
