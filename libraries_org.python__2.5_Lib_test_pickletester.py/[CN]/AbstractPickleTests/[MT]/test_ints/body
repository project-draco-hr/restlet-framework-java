def test_ints(self):
    import sys
    for proto in protocols:
        n = sys.maxint
        while n:
            for expected in ((- n), n):
                s = self.dumps(expected, proto)
                n2 = self.loads(s)
                self.assertEqual(expected, n2)
            n = (n >> 1)
