def filemode(mode):
    "Convert a file's mode to a string of the form\n       -rwxrwxrwx.\n       Used by TarFile.list()\n    "
    perm = []
    for table in filemode_table:
        for (bit, char) in table:
            if ((mode & bit) == bit):
                perm.append(char)
                break
        else:
            perm.append('-')
    return ''.join(perm)
