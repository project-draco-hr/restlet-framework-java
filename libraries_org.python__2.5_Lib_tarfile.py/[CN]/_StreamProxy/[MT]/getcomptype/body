def getcomptype(self):
    if self.buf.startswith('\x1f\x8b\x08'):
        return 'gz'
    if self.buf.startswith('BZh91'):
        return 'bz2'
    return 'tar'
