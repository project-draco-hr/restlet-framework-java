def __getattr__(self, attr):
    if (attr not in self.methodmap):
        raise AttributeError, attr
    self.methodmap[attr](self)
    return getattr(self, attr)
