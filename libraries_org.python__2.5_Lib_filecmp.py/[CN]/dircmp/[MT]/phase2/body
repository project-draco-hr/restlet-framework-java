def phase2(self):
    self.common_dirs = []
    self.common_files = []
    self.common_funny = []
    for x in self.common:
        a_path = os.path.join(self.left, x)
        b_path = os.path.join(self.right, x)
        ok = 1
        try:
            a_stat = os.stat(a_path)
        except os.error as why:
            ok = 0
        try:
            b_stat = os.stat(b_path)
        except os.error as why:
            ok = 0
        if ok:
            a_type = stat.S_IFMT(a_stat.st_mode)
            b_type = stat.S_IFMT(b_stat.st_mode)
            if (a_type != b_type):
                self.common_funny.append(x)
            elif stat.S_ISDIR(a_type):
                self.common_dirs.append(x)
            elif stat.S_ISREG(a_type):
                self.common_files.append(x)
            else:
                self.common_funny.append(x)
        else:
            self.common_funny.append(x)
