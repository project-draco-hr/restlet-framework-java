def _cmp(a, b, sh, abs=abs, cmp=cmp):
    try:
        return (not abs(cmp(a, b, sh)))
    except os.error:
        return 2
