def emit(self, record):
    '\n        Emit a record.\n\n        Send the record to the Web server as an URL-encoded dictionary\n        '
    try:
        import httplib, urllib
        host = self.host
        h = httplib.HTTP(host)
        url = self.url
        data = urllib.urlencode(self.mapLogRecord(record))
        if (self.method == 'GET'):
            if (string.find(url, '?') >= 0):
                sep = '&'
            else:
                sep = '?'
            url = (url + ('%c%s' % (sep, data)))
        h.putrequest(self.method, url)
        i = string.find(host, ':')
        if (i >= 0):
            host = host[:i]
        h.putheader('Host', host)
        if (self.method == 'POST'):
            h.putheader('Content-type', 'application/x-www-form-urlencoded')
            h.putheader('Content-length', str(len(data)))
        h.endheaders()
        if (self.method == 'POST'):
            h.send(data)
        h.getreply()
    except (KeyboardInterrupt, SystemExit):
        raise
    except:
        self.handleError(record)
