def send(self, s):
    '\n        Send a pickled string to the socket.\n\n        This function allows for partial sends which can happen when the\n        network is busy.\n        '
    if (self.sock is None):
        self.createSocket()
    if self.sock:
        try:
            if hasattr(self.sock, 'sendall'):
                self.sock.sendall(s)
            else:
                sentsofar = 0
                left = len(s)
                while (left > 0):
                    sent = self.sock.send(s[sentsofar:])
                    sentsofar = (sentsofar + sent)
                    left = (left - sent)
        except socket.error:
            self.sock.close()
            self.sock = None
