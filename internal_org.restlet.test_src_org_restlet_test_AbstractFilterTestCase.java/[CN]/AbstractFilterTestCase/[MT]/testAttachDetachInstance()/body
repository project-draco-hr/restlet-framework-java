{
  Filter filter=getFilter();
  assertFalse(filter.hasNext());
  filter.setNext(getRestlet());
  filter.start();
  assertTrue(filter.isStarted());
  assertFalse(filter.isStopped());
  Request request=getRequest();
  Response response=getResponse(request);
  filter.handle(request,response);
  assertTrue(filter.hasNext());
  filter.setNext(null);
  assertFalse(filter.hasNext());
}
