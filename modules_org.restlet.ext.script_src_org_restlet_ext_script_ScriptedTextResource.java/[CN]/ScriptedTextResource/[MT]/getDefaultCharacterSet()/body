{
  if (this.defaultCharacterSet == null) {
    ConcurrentMap<String,Object> attributes=getContext().getAttributes();
    this.defaultCharacterSet=(CharacterSet)attributes.get("org.restlet.ext.script.ScriptedTextResource.defaultCharacterSet");
    if (this.defaultCharacterSet == null) {
      this.defaultCharacterSet=CharacterSet.UTF_8;
    }
  }
  return this.defaultCharacterSet;
}
