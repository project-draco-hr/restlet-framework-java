def wait_impl(self, cpid):
    for i in range(10):
        (spid, status) = os.waitpid(cpid, os.WNOHANG)
        if (spid == cpid):
            break
        time.sleep((2 * SHORTSLEEP))
    self.assertEquals(spid, cpid)
    self.assertEquals(status, 0, ('cause = %d, exit = %d' % ((status & 255), (status >> 8))))
