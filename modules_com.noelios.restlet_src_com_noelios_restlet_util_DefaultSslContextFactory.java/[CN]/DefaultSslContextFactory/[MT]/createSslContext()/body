{
  KeyManagerFactory kmf=null;
  if ((this.keyStorePath != null) || (this.keyStoreProvider != null) || (this.keyStoreType != null)) {
    KeyStore keyStore=(this.keyStoreProvider != null) ? KeyStore.getInstance(this.keyStoreType,this.keyStoreProvider) : KeyStore.getInstance(this.keyStoreType);
    FileInputStream keyStoreInputStream=null;
    try {
      keyStoreInputStream=((this.keyStorePath != null) && (!"NONE".equals(this.keyStorePath))) ? new FileInputStream(this.keyStorePath) : null;
      keyStore.load(keyStoreInputStream,this.keyStorePassword);
    }
  finally {
      if (keyStoreInputStream != null) {
        keyStoreInputStream.close();
      }
    }
    kmf=KeyManagerFactory.getInstance(this.keyManagerAlgorithm);
    kmf.init(keyStore,this.keyStoreKeyPassword);
  }
  TrustManagerFactory tmf=null;
  if ((this.trustStorePath != null) || (this.trustStoreProvider != null) || (this.trustStoreType != null)) {
    KeyStore trustStore=(this.trustStoreProvider != null) ? KeyStore.getInstance(this.trustStoreType,this.trustStoreProvider) : KeyStore.getInstance(this.trustStoreType);
    FileInputStream trustStoreInputStream=null;
    try {
      trustStoreInputStream=((this.trustStorePath != null) && (!"NONE".equals(this.trustStorePath))) ? new FileInputStream(this.trustStorePath) : null;
      trustStore.load(trustStoreInputStream,this.trustStorePassword);
    }
  finally {
      if (trustStoreInputStream != null) {
        trustStoreInputStream.close();
      }
    }
    tmf=TrustManagerFactory.getInstance(this.trustManagerAlgorithm);
    tmf.init(trustStore);
  }
  SSLContext sslContext=SSLContext.getInstance(this.secureSocketProtocol);
  SecureRandom sr=null;
  if (this.secureRandomAlgorithm != null) {
    sr=SecureRandom.getInstance(this.secureRandomAlgorithm);
  }
  sslContext.init(kmf != null ? kmf.getKeyManagers() : null,tmf != null ? tmf.getTrustManagers() : null,sr);
  return sslContext;
}
