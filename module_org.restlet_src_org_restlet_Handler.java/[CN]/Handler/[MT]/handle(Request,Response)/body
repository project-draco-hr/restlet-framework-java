{
  init(request,response);
  if (isStarted()) {
    Resource target=findTarget(request,response);
    if ((target == null) && response.getStatus().isSuccess()) {
      response.setStatus(Status.CLIENT_ERROR_NOT_FOUND);
    }
 else {
      Method method=request.getMethod();
      if (method == null) {
        response.setStatus(Status.CLIENT_ERROR_BAD_REQUEST,"No method specified");
      }
 else {
        if (!allowMethod(method,target)) {
          response.setStatus(Status.CLIENT_ERROR_METHOD_NOT_ALLOWED);
          updateAllowedMethods(response,target);
        }
 else {
          if (method.equals(Method.GET)) {
            handleGet(target,request,response);
          }
 else           if (method.equals(Method.HEAD)) {
            handleHead(target,request,response);
          }
 else           if (method.equals(Method.POST)) {
            handlePost(target,request,response);
          }
 else           if (method.equals(Method.PUT)) {
            handlePut(target,request,response);
          }
 else           if (method.equals(Method.DELETE)) {
            handleDelete(target,request,response);
          }
 else           if (method.equals(Method.OPTIONS)) {
            handleOptions(target,request,response);
          }
 else {
            java.lang.reflect.Method handleMethod=getHandleMethod(method);
            if (handleMethod != null) {
              invoke(this,handleMethod,request,response);
            }
 else {
              response.setStatus(Status.CLIENT_ERROR_METHOD_NOT_ALLOWED);
            }
          }
        }
      }
    }
  }
}
