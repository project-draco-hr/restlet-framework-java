{
  DeflaterOutputStream encoderOutputStream=null;
  if (getEncoding().equals(Encodings.GZIP)) {
    encoderOutputStream=new GZIPOutputStream(outputStream);
  }
 else   if (getEncoding().equals(Encodings.DEFLATE)) {
    encoderOutputStream=new DeflaterOutputStream(outputStream);
  }
 else   if (getEncoding().equals(Encodings.ZIP)) {
    encoderOutputStream=new ZipOutputStream(outputStream);
  }
 else   if (getEncoding().equals(Encodings.IDENTITY)) {
    throw new IOException("Encoder unecessary for identity encoding");
  }
 else {
    throw new IOException("Unsupported encoding");
  }
  this.wrappedRepresentation.write(encoderOutputStream);
  encoderOutputStream.finish();
}
