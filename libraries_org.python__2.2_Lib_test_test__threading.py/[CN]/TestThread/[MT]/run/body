def run(self):
    global running
    delay = (random.random() * 2)
    if verbose:
        print 'task', self.getName(), 'will run for', delay, 'sec'
    sema.acquire()
    mutex.acquire()
    running = (running + 1)
    if verbose:
        print running, 'tasks are running'
    mutex.release()
    time.sleep(delay)
    if verbose:
        print 'task', self.getName(), 'done'
    mutex.acquire()
    running = (running - 1)
    if verbose:
        print self.getName(), 'is finished.', running, 'tasks are running'
    mutex.release()
    sema.release()
