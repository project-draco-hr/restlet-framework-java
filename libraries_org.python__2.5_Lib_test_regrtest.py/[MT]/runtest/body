def runtest(test, generate, verbose, quiet, testdir=None, huntrleaks=False, junit_xml=None):
    "Run a single test.\n\n    test -- the name of the test\n    generate -- if true, generate output, instead of running the test\n                and comparing it to a previously created output file\n    verbose -- if true, print more messages\n    quiet -- if true, don't print 'skipped' messages (probably redundant)\n    testdir -- test directory\n    huntrleaks -- run multiple times to test for leaks; requires a debug\n                  build; a triple corresponding to -R's three arguments\n    Return:\n        -2  test skipped because resource denied\n        -1  test skipped for some other reason\n         0  test failed\n         1  test passed\n    "
    try:
        return runtest_inner(test, generate, verbose, quiet, testdir, huntrleaks, junit_xml)
    finally:
        cleanup_test_droppings(test, verbose)
