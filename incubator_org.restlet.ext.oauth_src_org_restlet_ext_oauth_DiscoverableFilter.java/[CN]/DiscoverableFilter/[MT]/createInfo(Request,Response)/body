{
  JSONObject rep=new JSONObject();
  try {
    rep.put("auth_server",serverInfo.toJson());
    DiscoverableEndpointInfo ei=findEndpointInfo(request,response);
    if (ei != null) {
      rep.put("endpoint",ei.toJson());
    }
  }
 catch (  JSONException e) {
    log.warning("Failed to produce JSON OAuth info");
  }
  JsonRepresentation repr=new JsonRepresentation(rep);
  repr.setMediaType(MEDIA_TYPE);
  response.setEntity(repr);
}
