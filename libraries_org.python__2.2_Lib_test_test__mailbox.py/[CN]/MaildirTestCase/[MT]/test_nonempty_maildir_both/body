def test_nonempty_maildir_both(self):
    self.createMessage('cur')
    self.createMessage('new')
    self.mbox = mailbox.Maildir(test_support.TESTFN)
    self.assert_((len(self.mbox.boxes) == 2))
    self.assert_msg_exists()
    self.assert_msg_exists()
    self.assert_((self.mbox.next() is None))
    self.assert_((self.mbox.next() is None))
