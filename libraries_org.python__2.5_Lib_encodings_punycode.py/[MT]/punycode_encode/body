def punycode_encode(text):
    (base, extended) = segregate(text)
    base = base.encode('ascii')
    deltas = insertion_unsort(text, extended)
    extended = generate_integers(len(base), deltas)
    if base:
        return ((base + '-') + extended)
    return extended
