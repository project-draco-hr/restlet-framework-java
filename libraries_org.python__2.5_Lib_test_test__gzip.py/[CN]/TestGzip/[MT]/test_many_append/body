def test_many_append(self):
    f = gzip.open(self.filename, 'wb', 9)
    f.write('a')
    f.close()
    for i in range(0, 200):
        f = gzip.open(self.filename, 'ab', 9)
        f.write('a')
        f.close()
    zgfile = gzip.open(self.filename, 'rb')
    contents = ''
    while 1:
        ztxt = zgfile.read(8192)
        contents += ztxt
        if (not ztxt):
            break
    zgfile.close()
    self.assertEquals(contents, ('a' * 201))
