{
  Map<ResourceMethod,List<MediaType>> returnMethods=new HashMap<ResourceMethod,List<MediaType>>();
  for (  ResourceMethod resourceMethod : resourceMethods) {
    List<MediaType> mimes=getConsOrProdMimes(resourceMethod,inOut);
    for (    MediaType resMethMediaType : mimes) {
      for (      Collection<MediaType> mediaTypes : mediaTypess)       for (      MediaType mediaType : mediaTypes) {
        String resMethMainType=resMethMediaType.getMainType();
        String wishedMainType=mediaType.getMainType();
        if (resMethMainType.equals(wishedMainType))         returnMethods.put(resourceMethod,mimes);
      }
    }
  }
  return returnMethods;
}
