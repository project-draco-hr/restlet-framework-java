{
  if (exception instanceof InvocationTargetException)   exception=exception.getCause();
  if (exception instanceof WebApplicationException) {
    WebApplicationException webAppExc=(WebApplicationException)exception;
    throw handleWebAppExc(webAppExc,callContext,resourceMethod);
  }
  callContext.getResponse().setStatus(Status.SERVER_ERROR_INTERNAL);
  getLogger().log(Level.WARNING,logMessage,exception.getCause());
  exception.printStackTrace();
  throw new RequestHandledException();
}
