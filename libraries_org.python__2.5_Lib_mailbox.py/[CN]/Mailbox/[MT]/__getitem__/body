def __getitem__(self, key):
    "Return the keyed message; raise KeyError if it doesn't exist."
    if (not self._factory):
        return self.get_message(key)
    else:
        return self._factory(self.get_file(key))
