def popitem(self):
    'Delete an arbitrary (key, message) pair and return it.'
    for key in self.iterkeys():
        return (key, self.pop(key))
    else:
        raise KeyError('No messages in mailbox')
