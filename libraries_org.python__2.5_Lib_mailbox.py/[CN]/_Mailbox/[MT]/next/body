def next(self):
    while 1:
        self.fp.seek(self.seekp)
        try:
            self._search_start()
        except EOFError:
            self.seekp = self.fp.tell()
            return None
        start = self.fp.tell()
        self._search_end()
        self.seekp = stop = self.fp.tell()
        if (start != stop):
            break
    return self.factory(_PartialFile(self.fp, start, stop))
