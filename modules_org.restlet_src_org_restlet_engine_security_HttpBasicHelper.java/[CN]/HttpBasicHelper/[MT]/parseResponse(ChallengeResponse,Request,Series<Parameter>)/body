{
  try {
    byte[] credentialsEncoded=Base64.decode(challenge.getCredentials());
    if (credentialsEncoded == null) {
      getLogger().warning("Cannot decode credentials: " + challenge.getCredentials());
    }
    String credentials=new String(credentialsEncoded,"US-ASCII");
    int separator=credentials.indexOf(':');
    if (separator == -1) {
      getLogger().warning("Invalid credentials given by client with IP: " + ((request != null) ? request.getClientInfo().getAddress() : "?"));
    }
 else {
      challenge.setIdentifier(credentials.substring(0,separator));
      challenge.setSecret(credentials.substring(separator + 1));
    }
  }
 catch (  UnsupportedEncodingException e) {
    getLogger().log(Level.WARNING,"Unsupported encoding error",e);
  }
}
