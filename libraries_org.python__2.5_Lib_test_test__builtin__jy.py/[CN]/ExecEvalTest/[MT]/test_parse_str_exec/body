def test_parse_str_exec(self):
    foo = 'f\xc3\xb6\xc3\xb6'
    for (code, expected) in ((("bar = '%s'" % foo.decode('utf-8')), foo), (("# coding: utf-8\nbar = '%s'" % foo), foo), (("%sbar = '%s'" % (BOM_UTF8, foo)), foo), ("bar = '\rfoo\r'", '\rfoo\r')):
        ns = {}
        exec code in ns
        self.assertEqual(ns['bar'], expected)
