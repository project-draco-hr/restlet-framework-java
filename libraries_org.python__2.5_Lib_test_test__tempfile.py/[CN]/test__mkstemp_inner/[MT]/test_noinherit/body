def test_noinherit(self):
    if (not has_spawnl):
        return
    if test_support.verbose:
        v = 'v'
    else:
        v = 'q'
    file = self.do_create()
    fd = ('%d' % file.fd)
    try:
        me = __file__
    except NameError:
        me = sys.argv[0]
    tester = os.path.join(os.path.dirname(os.path.abspath(me)), 'tf_inherit_check.py')
    if (sys.platform in ('win32',)):
        decorated = ('"%s"' % sys.executable)
        tester = ('"%s"' % tester)
    else:
        decorated = sys.executable
    retval = os.spawnl(os.P_WAIT, sys.executable, decorated, tester, v, fd)
    self.failIf((retval < 0), ('child process caught fatal signal %d' % (- retval)))
    self.failIf((retval > 0), ('child process reports failure %d' % retval))
