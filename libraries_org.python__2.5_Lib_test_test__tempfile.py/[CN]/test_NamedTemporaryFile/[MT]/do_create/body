def do_create(self, dir=None, pre='', suf=''):
    if (dir is None):
        dir = tempfile.gettempdir()
    try:
        file = tempfile.NamedTemporaryFile(dir=dir, prefix=pre, suffix=suf)
    except:
        self.failOnException('NamedTemporaryFile')
    self.nameCheck(file.name, dir, pre, suf)
    return file
