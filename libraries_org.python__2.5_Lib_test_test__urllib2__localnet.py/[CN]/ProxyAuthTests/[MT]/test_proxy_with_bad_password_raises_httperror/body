def test_proxy_with_bad_password_raises_httperror(self):
    self._digest_auth_handler.add_password(self.REALM, self.URL, self.USER, (self.PASSWD + 'bad'))
    FakeProxyHandler.digest_auth_handler.set_qop('auth')
    self.assertRaises(urllib2.HTTPError, self.opener.open, self.URL)
