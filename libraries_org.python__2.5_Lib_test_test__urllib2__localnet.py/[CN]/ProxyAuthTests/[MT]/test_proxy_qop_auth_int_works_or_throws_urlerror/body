def test_proxy_qop_auth_int_works_or_throws_urlerror(self):
    self._digest_auth_handler.add_password(self.REALM, self.URL, self.USER, self.PASSWD)
    FakeProxyHandler.digest_auth_handler.set_qop('auth-int')
    try:
        result = self.opener.open(self.URL)
    except urllib2.URLError:
        result = None
    if result:
        while result.read():
            pass
        result.close()
