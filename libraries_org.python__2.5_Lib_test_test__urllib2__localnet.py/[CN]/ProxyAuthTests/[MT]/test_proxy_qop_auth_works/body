def test_proxy_qop_auth_works(self):
    self._digest_auth_handler.add_password(self.REALM, self.URL, self.USER, self.PASSWD)
    FakeProxyHandler.digest_auth_handler.set_qop('auth')
    result = self.opener.open(self.URL)
    while result.read():
        pass
    result.close()
