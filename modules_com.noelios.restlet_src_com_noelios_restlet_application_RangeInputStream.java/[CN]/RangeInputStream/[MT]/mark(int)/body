{
  if (range.getIndex() == Range.INDEX_LAST) {
    super.mark(readlimit + (int)(totalSize - range.getLength()));
  }
 else {
    super.mark(readlimit + (int)range.getIndex());
  }
}
