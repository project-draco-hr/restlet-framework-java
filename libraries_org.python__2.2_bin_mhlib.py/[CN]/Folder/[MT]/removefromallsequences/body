def removefromallsequences(self, list):
    "Remove one or more messages from all sequences (including last)\n        -- but not from 'cur'!!!"
    if (hasattr(self, 'last') and (self.last in list)):
        del self.last
    sequences = self.getsequences()
    changed = 0
    for (name, seq) in sequences.items():
        if (name == 'cur'):
            continue
        for n in list:
            if (n in seq):
                seq.remove(n)
                changed = 1
                if (not seq):
                    del sequences[name]
    if changed:
        self.putsequences(sequences)
