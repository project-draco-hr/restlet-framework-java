def test_html_diff(self):
    f1a = ((patch914575_from1 + ('123\n' * 10)) * 3)
    t1a = ((patch914575_to1 + ('123\n' * 10)) * 3)
    f1b = (('456\n' * 10) + f1a)
    t1b = (('456\n' * 10) + t1a)
    f1a = f1a.splitlines()
    t1a = t1a.splitlines()
    f1b = f1b.splitlines()
    t1b = t1b.splitlines()
    f2 = patch914575_from2.splitlines()
    t2 = patch914575_to2.splitlines()
    f3 = patch914575_from3
    t3 = patch914575_to3
    i = difflib.HtmlDiff()
    j = difflib.HtmlDiff(tabsize=2)
    k = difflib.HtmlDiff(wrapcolumn=14)
    full = i.make_file(f1a, t1a, 'from', 'to', context=False, numlines=5)
    tables = '\n'.join(['<h2>Context (first diff within numlines=5(default))</h2>', i.make_table(f1a, t1a, 'from', 'to', context=True), '<h2>Context (first diff after numlines=5(default))</h2>', i.make_table(f1b, t1b, 'from', 'to', context=True), '<h2>Context (numlines=6)</h2>', i.make_table(f1a, t1a, 'from', 'to', context=True, numlines=6), '<h2>Context (numlines=0)</h2>', i.make_table(f1a, t1a, 'from', 'to', context=True, numlines=0), '<h2>Same Context</h2>', i.make_table(f1a, f1a, 'from', 'to', context=True), '<h2>Same Full</h2>', i.make_table(f1a, f1a, 'from', 'to', context=False), '<h2>Empty Context</h2>', i.make_table([], [], 'from', 'to', context=True), '<h2>Empty Full</h2>', i.make_table([], [], 'from', 'to', context=False), '<h2>tabsize=2</h2>', j.make_table(f2, t2), '<h2>tabsize=default</h2>', i.make_table(f2, t2), '<h2>Context (wrapcolumn=14,numlines=0)</h2>', k.make_table(f3.splitlines(), t3.splitlines(), context=True, numlines=0), '<h2>wrapcolumn=14,splitlines()</h2>', k.make_table(f3.splitlines(), t3.splitlines()), '<h2>wrapcolumn=14,splitlines(True)</h2>', k.make_table(f3.splitlines(True), t3.splitlines(True))])
    actual = full.replace('</body>', ('\n%s\n</body>' % tables))
    expect = open(findfile('test_difflib_expect.html')).read()
    self.assertEqual(actual, expect)
