{
  final Iterator<MediaType> mediaTypeIter=createIterator(this.mediaTypes);
  final Iterator<Locale> languageIter=createIterator(this.languages);
  final Iterator<String> encodingIter=createIterator(this.encodings);
  if (this.variants == null) {
    this.variants=new ArrayList<Variant>();
  }
  while (mediaTypeIter.hasNext()) {
    final MediaType mediaType=mediaTypeIter.next();
    while (languageIter.hasNext()) {
      final Locale language=languageIter.next();
      while (encodingIter.hasNext()) {
        final String encoding=encodingIter.next();
        final Variant variant=new Variant(mediaType,language,encoding);
        this.variants.add(variant);
      }
    }
  }
  this.encodings.clear();
  this.languages.clear();
  this.mediaTypes.clear();
}
