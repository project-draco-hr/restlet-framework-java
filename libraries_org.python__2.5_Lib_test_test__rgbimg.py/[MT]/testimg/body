def testimg(rgb_file, raw_file):
    rgb_file = findfile(rgb_file)
    raw_file = findfile(raw_file)
    (width, height) = rgbimg.sizeofimage(rgb_file)
    rgb = rgbimg.longimagedata(rgb_file)
    if (len(rgb) != ((width * height) * 4)):
        raise error, 'bad image length'
    raw = open(raw_file, 'rb').read()
    if (rgb != raw):
        raise error, ((("images don't match for " + rgb_file) + ' and ') + raw_file)
    for depth in [1, 3, 4]:
        rgbimg.longstoimage(rgb, width, height, depth, '@.rgb')
    os.unlink('@.rgb')
