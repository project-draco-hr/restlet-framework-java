def next(self):
    try:
        line = self._buffer[self._bufindex]
    except IndexError:
        pass
    else:
        self._bufindex += 1
        self._lineno += 1
        self._filelineno += 1
        return line
    line = self.readline()
    if (not line):
        raise StopIteration
    return line
