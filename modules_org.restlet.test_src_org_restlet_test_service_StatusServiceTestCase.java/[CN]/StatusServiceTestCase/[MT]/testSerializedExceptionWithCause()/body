{
  Throwable rootCause=new IOException("File '/toto.txt' is not readable");
  Throwable exception=new Status401SerializableException("test message",50,rootCause);
  Status status=new Status(400,exception);
  StatusService ss=new StatusService();
  Request request=new Request();
  Representation representation=ss.toRepresentation(status,request,new Response(request));
  HashMap<String,Object> expectedRepresentationMap=new LinkedHashMap<>();
  expectedRepresentationMap.put("cause",exception.getCause());
  expectedRepresentationMap.put("stackTrace",exception.getStackTrace());
  expectedRepresentationMap.put("value",50);
  expectedRepresentationMap.put("message","test message");
  expectedRepresentationMap.put("localizedMessage","test message");
  expectedRepresentationMap.put("suppressed",new String[0]);
  String expectedJsonRepresentation=new JacksonRepresentation<>(expectedRepresentationMap).getText();
  Status.CLIENT_ERROR_BAD_REQUEST.getCode();
  assertEquals(MediaType.APPLICATION_JSON,representation.getMediaType());
  assertEquals(expectedJsonRepresentation,representation.getText());
}
