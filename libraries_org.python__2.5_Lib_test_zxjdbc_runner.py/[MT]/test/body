def test(vendors, include=None, mask=None):
    for vendor in vendors:
        if ((not include) or (vendor.name in include)):
            print 
            print ('testing [%s]' % vendor.name)
            for test in vendor.tests:
                if ((not test.os) or (test.os == os.name)):
                    for testcase in test.tests:
                        suite = make_suite(vendor, testcase, test.factory, mask)
                        unittest.TextTestRunner().run(suite)
        else:
            print 
            print ('skipping [%s]' % vendor.name)
