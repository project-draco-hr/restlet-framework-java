def cleanup(self):
    if self.__tempfiles:
        for file in self.__tempfiles:
            try:
                self.__unlink(file)
            except OSError:
                pass
        del self.__tempfiles[:]
    if self.tempcache:
        self.tempcache.clear()
