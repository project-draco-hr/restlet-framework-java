{
  this.resource=resource;
  this.variant=variant;
  this.cache=cache;
  this.mediaType=variant.getMediaType();
  this.characterSet=variant.getCharacterSet();
  if (this.characterSet == null) {
    this.characterSet=resource.getDefaultCharacterSet();
  }
  this.compositeScriptContext=new CompositeScriptContext(resource.getScriptEngineManager());
}
