def get_file_list(self):
    "Figure out the list of files to include in the source\n        distribution, and put it in 'self.filelist'.  This might involve\n        reading the manifest template (and writing the manifest), or just\n        reading the manifest, or just using the default file set -- it all\n        depends on the user's options and the state of the filesystem.\n        "
    template_exists = os.path.isfile(self.template)
    if template_exists:
        template_newer = dep_util.newer(self.template, self.manifest)
    self.debug_print(('checking if %s newer than %s' % (self.distribution.script_name, self.manifest)))
    setup_newer = dep_util.newer(self.distribution.script_name, self.manifest)
    manifest_outofdate = (template_exists and (template_newer or setup_newer))
    force_regen = (self.force_manifest or self.manifest_only)
    manifest_exists = os.path.isfile(self.manifest)
    neither_exists = ((not template_exists) and (not manifest_exists))
    if (manifest_outofdate or neither_exists or force_regen):
        if (not template_exists):
            self.warn((("manifest template '%s' does not exist " + '(using default file list)') % self.template))
        self.filelist.findall()
        if self.use_defaults:
            self.add_defaults()
        if template_exists:
            self.read_template()
        if self.prune:
            self.prune_file_list()
        self.filelist.sort()
        self.filelist.remove_duplicates()
        self.write_manifest()
    else:
        self.read_manifest()
