{
  Preference result=null;
  if (parameters == null) {
    result=new PreferenceImpl(createMetadata(metadata,null));
  }
 else {
    List<Parameter> mediaParams=extractMediaParams(parameters);
    float quality=extractQuality(parameters);
    result=new PreferenceImpl(createMetadata(metadata,mediaParams),quality,parameters);
  }
  return result;
}
