def test_cmptypes(self):
    evil_coercer = CoerceTo(42)
    self.assertNotEquals(cmp(u'fish', evil_coercer), 0)
    self.assertNotEquals(cmp(slice(1), evil_coercer), 0)


    class WackyComparer(object):

        def __cmp__(slf, other):
            self.assert_((other == 42), ('expected evil_coercer, got %r' % other))
            return 0
    self.assertEquals(cmp(WackyComparer(), evil_coercer), 0)


    class ClassicWackyComparer:

        def __cmp__(slf, other):
            self.assert_((other == 42), ('expected evil_coercer, got %r' % other))
            return 0
    self.assertEquals(cmp(ClassicWackyComparer(), evil_coercer), 0)
