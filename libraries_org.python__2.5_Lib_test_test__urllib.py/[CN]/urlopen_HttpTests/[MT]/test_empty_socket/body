def test_empty_socket(self):
    'urlopen() raises IOError if the underlying socket does not send any\n        data. (#1680230) '
    self.fakehttp('')
    try:
        self.assertRaises(IOError, urllib.urlopen, 'http://something')
    finally:
        self.unfakehttp()
