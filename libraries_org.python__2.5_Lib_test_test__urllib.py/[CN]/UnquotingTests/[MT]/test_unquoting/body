def test_unquoting(self):
    escape_list = []
    for num in range(128):
        given = hexescape(chr(num))
        expect = chr(num)
        result = urllib.unquote(given)
        self.assertEqual(expect, result, ('using unquote(): %s != %s' % (expect, result)))
        result = urllib.unquote_plus(given)
        self.assertEqual(expect, result, ('using unquote_plus(): %s != %s' % (expect, result)))
        escape_list.append(given)
    escape_string = ''.join(escape_list)
    del escape_list
    result = urllib.unquote(escape_string)
    self.assertEqual(result.count('%'), 1, ('using quote(): not all characters escaped; %s' % result))
    result = urllib.unquote(escape_string)
    self.assertEqual(result.count('%'), 1, ('using unquote(): not all characters escaped: %s' % result))
