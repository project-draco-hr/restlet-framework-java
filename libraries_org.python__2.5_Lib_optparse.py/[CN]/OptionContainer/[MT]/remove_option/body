def remove_option(self, opt_str):
    option = self._short_opt.get(opt_str)
    if (option is None):
        option = self._long_opt.get(opt_str)
    if (option is None):
        raise ValueError(('no such option %r' % opt_str))
    for opt in option._short_opts:
        del self._short_opt[opt]
    for opt in option._long_opts:
        del self._long_opt[opt]
    option.container.option_list.remove(option)
