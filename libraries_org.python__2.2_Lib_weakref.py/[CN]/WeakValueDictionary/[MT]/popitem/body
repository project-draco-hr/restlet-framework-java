def popitem(self):
    while 1:
        (key, wr) = self.data.popitem()
        o = wr()
        if (o is not None):
            return (key, o)
