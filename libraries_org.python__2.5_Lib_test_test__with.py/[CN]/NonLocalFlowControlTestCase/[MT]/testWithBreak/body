def testWithBreak(self):
    mock = mock_contextmanager_generator()
    counter = 0
    while True:
        counter += 1
        with mock:
            counter += 10
            break
        counter += 100
    self.assertEqual(counter, 11)
    self.assertAfterWithManagerInvariantsNoError(mock)
