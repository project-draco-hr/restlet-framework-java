def find_library_file(self, dirs, lib, debug=0):
    shared_f = self.library_filename(lib, lib_type='shared')
    dylib_f = self.library_filename(lib, lib_type='dylib')
    static_f = self.library_filename(lib, lib_type='static')
    for dir in dirs:
        shared = os.path.join(dir, shared_f)
        dylib = os.path.join(dir, dylib_f)
        static = os.path.join(dir, static_f)
        if os.path.exists(dylib):
            return dylib
        elif os.path.exists(shared):
            return shared
        elif os.path.exists(static):
            return static
    return None
