def dump_struct(self, value, escape=escape):
    self.opencontainer(value)
    write = self.write
    dump = self.__dump
    write('<value><struct>\n')
    for (k, v) in value.items():
        write('<member>\n')
        if (type(k) is not StringType):
            raise TypeError, 'dictionary key must be string'
        write(('<name>%s</name>\n' % escape(k)))
        dump(v)
        write('</member>\n')
    write('</struct></value>\n')
    self.closecontainer(value)
