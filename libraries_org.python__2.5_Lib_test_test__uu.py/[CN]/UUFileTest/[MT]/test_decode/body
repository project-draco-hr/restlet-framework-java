def test_decode(self):
    try:
        f = open(self.tmpin, 'wb')
        f.write((encodedtextwrapped % (420, self.tmpout)))
        f.close()
        f = open(self.tmpin, 'rb')
        uu.decode(f)
        f.close()
        f = open(self.tmpout, 'r')
        s = f.read()
        f.close()
        self.assertEqual(s, plaintext)
    finally:
        self._kill(f)
