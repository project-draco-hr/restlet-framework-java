def test_decodetwice(self):
    try:
        f = cStringIO.StringIO((encodedtextwrapped % (420, self.tmpout)))
        f = open(self.tmpin, 'rb')
        uu.decode(f)
        f.close()
        f = open(self.tmpin, 'rb')
        self.assertRaises(uu.Error, uu.decode, f)
        f.close()
    finally:
        self._kill(f)
