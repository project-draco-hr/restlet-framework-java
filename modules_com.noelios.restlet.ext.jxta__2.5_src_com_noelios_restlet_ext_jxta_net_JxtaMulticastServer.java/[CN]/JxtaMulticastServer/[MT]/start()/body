{
  if (socket != null) {
    return;
  }
  try {
    socket=new JxtaMulticastSocket(getPeerGroup(),getPipeAdvertisement());
    socket.setSoTimeout(0);
  }
 catch (  IOException ioe) {
    throw new NetworkException("unable to create socket",ioe);
  }
  executor.submit(new Callable<Object>(){
    public Object call() throws IOException {
      while (!executor.isShutdown()) {
        byte[] buf=new byte[BLOCK];
        DatagramPacket data=new DatagramPacket(buf,buf.length);
        System.out.println("listening: ");
        socket.receive(data);
        handle(data);
      }
      return null;
    }
  }
);
  publish();
}
