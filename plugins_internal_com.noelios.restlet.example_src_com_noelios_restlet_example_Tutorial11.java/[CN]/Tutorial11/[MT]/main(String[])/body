{
  try {
    RestletContainer myContainer=new RestletContainer();
    myContainer.getServers().put("HTTP Server",Protocol.HTTP,8182);
    LogFilter log=new LogFilter(myContainer,"com.noelios.restlet.example");
    myContainer.setRoot(log);
    StatusFilter status=new StatusFilter(myContainer,true,"webmaster@mysite.org","http://www.mysite.org");
    log.setTarget(status);
    HostRouter host=new HostRouter(myContainer,8182);
    status.setTarget(host);
    GuardFilter guard=new GuardFilter(myContainer,"com.noelios.restlet.example",true,ChallengeScheme.HTTP_BASIC,"Restlet tutorial",true);
    guard.getAuthorizations().put("scott","tiger");
    host.getScorers().add("/docs/",guard);
    DirectoryHandler directory=new DirectoryHandler(myContainer,ROOT_URI,"index.html");
    guard.setTarget(directory);
    Router user=new DefaultRouter(myContainer);
    host.getScorers().add("/users/[a-z]+",user);
    Restlet account=new AbstractRestlet(){
      public void handleGet(      Call call){
        String output="Account of user named: " + call.getContext().getBaseRef().getLastSegment();
        call.setOutput(new StringRepresentation(output,MediaType.TEXT_PLAIN));
      }
    }
;
    user.getScorers().add("$",account);
    Restlet orders=new AbstractRestlet(myContainer){
      public void handleGet(      Call call){
        List<String> segments=call.getContext().getBaseRef().getSegments();
        String output="Orders of user named: " + segments.get(segments.size() - 2);
        call.setOutput(new StringRepresentation(output,MediaType.TEXT_PLAIN));
      }
    }
;
    user.getScorers().add("/orders$",orders);
    myContainer.start();
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
