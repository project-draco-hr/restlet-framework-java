def test_filewrite(self):
    a = array.array(self.typecode, (2 * self.example))
    f = open(test_support.TESTFN, 'wb')
    try:
        f.write(a)
        f.close()
        b = array.array(self.typecode)
        f = open(test_support.TESTFN, 'rb')
        b.fromfile(f, len(self.example))
        self.assertEqual(b, array.array(self.typecode, self.example))
        self.assertNotEqual(a, b)
        b.fromfile(f, len(self.example))
        self.assertEqual(a, b)
        f.close()
    finally:
        if (not f.closed):
            f.close()
        test_support.unlink(test_support.TESTFN)
