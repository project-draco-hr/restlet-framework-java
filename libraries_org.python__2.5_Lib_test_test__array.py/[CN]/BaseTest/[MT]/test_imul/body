def test_imul(self):
    a = array.array(self.typecode, self.example)
    b = a
    a *= 5
    self.assert_((a is b))
    self.assertEqual(a, array.array(self.typecode, (5 * self.example)))
    a *= 0
    self.assert_((a is b))
    self.assertEqual(a, array.array(self.typecode))
    a *= 1000
    self.assert_((a is b))
    self.assertEqual(a, array.array(self.typecode))
    a *= (-1)
    self.assert_((a is b))
    self.assertEqual(a, array.array(self.typecode))
    a = array.array(self.typecode, self.example)
    a *= (-1)
    self.assertEqual(a, array.array(self.typecode))
    if test_support.is_jython:
        self.assertRaises(TypeError, operator.imul, a, 'bad')
    else:
        self.assertRaises(TypeError, a.__imul__, 'bad')
