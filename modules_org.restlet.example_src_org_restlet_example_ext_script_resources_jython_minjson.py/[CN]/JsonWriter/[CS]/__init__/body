def __init__(self, stream=None, input_encoding='utf-8', output_encoding=None):
    '\n        - stream is optional, if specified must also give output_encoding\n        - The input strings can be unicode or in input_encoding\n        - output_encoding is optional, if omitted, result will be unicode\n        '
    if (stream is not None):
        if (output_encoding is None):
            raise WriteException, 'If a stream is given, output encoding must also be provided'
    else:
        stream = JsonStream()
    self.stream = stream
    self.input_encoding = input_encoding
    self.output_encoding = output_encoding
