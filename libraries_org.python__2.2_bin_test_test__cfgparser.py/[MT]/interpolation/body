def interpolation(src):
    print 'Testing value interpolation...'
    cf = ConfigParser.ConfigParser({'getname': '%(__name__)s', })
    sio = StringIO.StringIO(src)
    cf.readfp(sio)
    verify((cf.get('Foo', 'getname') == 'Foo'))
    verify((cf.get('Foo', 'bar') == 'something with interpolation (1 step)'))
    verify((cf.get('Foo', 'bar9') == 'something with lots of interpolation (9 steps)'))
    verify((cf.get('Foo', 'bar10') == 'something with lots of interpolation (10 steps)'))
    expect_get_error(cf, ConfigParser.InterpolationDepthError, 'Foo', 'bar11')
