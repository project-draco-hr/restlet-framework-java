{
  T result=null;
  float maxQuality=0;
  if (supported != null) {
    for (    Preference<T> pref : preferences) {
      if (pref.getQuality() > maxQuality) {
        for (        T m : supported) {
          if (pref.getMetadata().includes(m)) {
            result=pref.getMetadata();
            maxQuality=pref.getQuality();
            break;
          }
        }
      }
    }
  }
  return result;
}
