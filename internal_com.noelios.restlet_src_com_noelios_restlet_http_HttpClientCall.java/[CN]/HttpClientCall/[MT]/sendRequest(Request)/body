{
  Representation entity=request.isEntityAvailable() ? request.getEntity() : null;
  if (entity != null) {
    ConnectorService connectorService=getConnectorService(request);
    if (connectorService != null)     connectorService.beforeSend(entity);
    OutputStream rs=getRequestStream();
    WritableByteChannel wbc=getRequestChannel();
    if (wbc != null) {
      if (entity != null) {
        entity.write(wbc);
      }
    }
 else     if (rs != null) {
      if (entity != null) {
        entity.write(rs);
      }
      rs.flush();
    }
    if (connectorService != null)     connectorService.afterSend(entity);
    if (rs != null) {
      rs.close();
    }
 else     if (wbc != null) {
      wbc.close();
    }
  }
  Status result=new Status(getStatusCode(),null,getReasonPhrase(),null);
  return result;
}
