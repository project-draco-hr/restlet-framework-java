{
  final String authority=getAuthority();
  if (authority != null) {
    final int index=authority.indexOf(':');
    final String newPort=(port == null) ? "" : ":" + port;
    if (index != -1) {
      setAuthority(authority.substring(0,index) + newPort);
    }
 else {
      setAuthority(authority + newPort);
    }
  }
 else {
    throw new IllegalArgumentException("No authority defined, please define a host name first");
  }
}
