def estSendTimeout(self):

    def raise_timeout(*args, **kwargs):
        cli_sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        cli_sock.connect((HOST, PORT))
        cli_sock.settimeout(1)
        sent = 0
        while True:
            bytes_sent = cli_sock.send(MSG)
            sent += bytes_sent
    self.failUnlessRaises(socket.timeout, raise_timeout, 'TCP socket send failed to generate a timeout exception (TCP)')
