def testRecvTimeout(self):

    def raise_timeout(*args, **kwargs):
        cli_sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        cli_sock.connect((HOST, PORT))
        cli_sock.settimeout(1)
        cli_sock.recv(1024)
    self.failUnlessRaises(socket.timeout, raise_timeout, 'TCP socket recv failed to generate a timeout exception (TCP)')
