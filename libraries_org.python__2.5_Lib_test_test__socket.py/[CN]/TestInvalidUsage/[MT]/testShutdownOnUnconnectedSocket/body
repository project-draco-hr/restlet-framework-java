def testShutdownOnUnconnectedSocket(self):
    try:
        self.socket.shutdown(socket.SHUT_RDWR)
    except socket.error as se:
        self.failUnlessEqual(se[0], errno.ENOTCONN, ('Shutdown on unconnected socket should have raised errno.ENOTCONN, not %s' % str(se[0])))
    except Exception as x:
        self.fail(('Shutdown on unconnected socket should have raised socket exception, not %s' % str(x)))
    else:
        self.fail('Shutdown on unconnected socket should have raised socket exception')
