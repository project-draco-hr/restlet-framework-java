def testIPv4toString(self):
    if (not hasattr(socket, 'inet_pton')):
        return
    from socket import inet_aton as f, inet_pton, AF_INET
    g = (lambda a: inet_pton(AF_INET, a))
    self.assertEquals('\x00\x00\x00\x00', f('0.0.0.0'))
    self.assertEquals('\xff\x00\xff\x00', f('255.0.255.0'))
    self.assertEquals('\xaa\xaa\xaa\xaa', f('170.170.170.170'))
    self.assertEquals('\x01\x02\x03\x04', f('1.2.3.4'))
    self.assertEquals('\x00\x00\x00\x00', g('0.0.0.0'))
    self.assertEquals('\xff\x00\xff\x00', g('255.0.255.0'))
    self.assertEquals('\xaa\xaa\xaa\xaa', g('170.170.170.170'))
