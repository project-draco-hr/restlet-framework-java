def testHostnameRes(self):
    hostname = socket.gethostname()
    self.assert_(isinstance(hostname, str))
    try:
        ip = socket.gethostbyname(hostname)
        self.assert_(isinstance(ip, str))
    except socket.error:
        self.fail("Probably name lookup wasn't set up right; skip testHostnameRes.gethostbyname")
        return
    self.assert_((ip.find('.') >= 0), 'Error resolving host to ip.')
    try:
        (hname, aliases, ipaddrs) = socket.gethostbyaddr(ip)
        self.assert_(isinstance(hname, str))
        for hosts in (aliases, ipaddrs):
            self.assert_(all((isinstance(host, str) for host in hosts)))
    except socket.error:
        self.fail("Probably name lookup wasn't set up right; skip testHostnameRes.gethostbyaddr")
        return
    all_host_names = ([hostname, hname] + aliases)
    fqhn = socket.getfqdn()
    self.assert_(isinstance(fqhn, str))
    if (not (fqhn in all_host_names)):
        self.fail('Error testing host resolution mechanisms.')
