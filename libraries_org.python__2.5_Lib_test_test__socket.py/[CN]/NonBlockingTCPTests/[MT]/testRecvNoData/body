def testRecvNoData(self):
    (conn, addr) = self.serv.accept()
    conn.setblocking(0)
    try:
        msg = conn.recv(len(MSG))
    except socket.error:
        pass
    else:
        self.fail('Non-blocking recv of no data should have raised socket.error.')
