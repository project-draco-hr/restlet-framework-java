def test_main():
    tests = [GeneralModuleTests, TestSupportedOptions, TestUnsupportedOptions, BasicTCPTest, TCPServerTimeoutTest, TCPClientTimeoutTest, TestExceptions, TestInvalidUsage, TestGetAddrInfo, TestTCPAddressParameters, TestUDPAddressParameters, UDPBindTest, BasicUDPTest, UDPTimeoutTest, NonBlockingTCPTests, NonBlockingUDPTests, TCPFileObjectClassOpenCloseTests, UDPFileObjectClassOpenCloseTests, FileAndDupOpenCloseTests, FileObjectClassTestCase, PrivateFileObjectTestCase, UnbufferedFileObjectClassTestCase, LineBufferedFileObjectClassTestCase, SmallBufferedFileObjectClassTestCase, UnicodeTest]
    if hasattr(socket, 'socketpair'):
        tests.append(BasicSocketPairTest)
    if (sys.platform[:4] == 'java'):
        tests.append(TestJythonTCPExceptions)
        tests.append(TestJythonUDPExceptions)
    if False:
        tests.append(UDPBroadcastTest)
    suites = [unittest.makeSuite(klass, 'test') for klass in tests]
    test_support.run_suite(unittest.TestSuite(suites))
