def doTestImpWrapper(self, globals_func=globals, locals_func=locals):
    i = ImpWrapper()
    sys.meta_path.append(i)
    sys.path_hooks.append(ImpWrapper)
    mnames = ('colorsys', 'urlparse', 'distutils.core')
    for mname in mnames:
        parent = mname.split('.')[0]
        for n in sys.modules.keys():
            if n.startswith(parent):
                del sys.modules[n]
    for mname in mnames:
        m = __import__(mname, globals_func(), locals_func(), ['__dummy__'])
        m.__loader__
