def format_exception(etype, value, tb, limit=None):
    'Format a stack trace and the exception information.\n\n    The arguments have the same meaning as the corresponding arguments\n    to print_exception().  The return value is a list of strings, each\n    ending in a newline and some containing internal newlines.  When\n    these lines are concatenated and printed, exactly the same text is\n    printed as does print_exception().\n    '
    if tb:
        list = ['Traceback (most recent call last):\n']
        list = (list + format_tb(tb, limit))
    else:
        list = []
    list = (list + format_exception_only(etype, value))
    return list
