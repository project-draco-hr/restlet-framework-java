def connect_ex(self, addr):
    self._do_connect(addr)
    if self.sock_impl.finish_connect():
        return 0
    return errno.EINPROGRESS
