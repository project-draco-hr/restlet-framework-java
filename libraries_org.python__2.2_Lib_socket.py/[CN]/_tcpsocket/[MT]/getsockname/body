def getsockname(self):
    try:
        if (not self.sock_impl):
            (host, port) = (self.local_addr or ('', 0))
            host = java.net.InetAddress.getByName(host).getHostAddress()
        else:
            if self.server:
                host = self.sock_impl.jsocket.getInetAddress().getHostAddress()
            else:
                host = self.sock_impl.jsocket.getLocalAddress().getHostAddress()
            port = self.sock_impl.jsocket.getLocalPort()
        return (host, port)
    except java.lang.Exception as jlx:
        raise _map_exception(jlx)
