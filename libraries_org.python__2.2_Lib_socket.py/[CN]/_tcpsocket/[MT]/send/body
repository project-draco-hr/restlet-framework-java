def send(self, s):
    try:
        if (not self.sock_impl):
            raise error(errno.ENOTCONN, 'Socket is not connected')
        if self.sock_impl.jchannel.isConnectionPending():
            self.sock_impl.jchannel.finishConnect()
        numwritten = self.sock_impl.write(s)
        return numwritten
    except java.lang.Exception as jlx:
        raise _map_exception(jlx)
