{
  float result=-1.0F;
  float current;
  if (characterSet != null) {
    for (    Preference<CharacterSet> pref : getCharacterSetPrefs()) {
      if (characterSet.equals(pref.getMetadata())) {
        current=1.0F * pref.getQuality();
      }
 else       if (pref.getMetadata().equals(CharacterSet.ALL) || characterSet.equals(CharacterSet.ALL)) {
        current=0.0F;
      }
 else {
        current=-1.0F;
      }
      if (current > result) {
        result=current;
      }
    }
  }
 else {
    result=0.0F;
  }
  return result;
}
