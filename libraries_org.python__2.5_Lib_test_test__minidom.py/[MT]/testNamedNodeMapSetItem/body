def testNamedNodeMapSetItem():
    dom = Document()
    elem = dom.createElement('element')
    attrs = elem.attributes
    attrs['foo'] = 'bar'
    a = attrs.item(0)
    confirm((a.ownerDocument is dom), 'NamedNodeMap.__setitem__() sets ownerDocument')
    confirm((a.ownerElement is elem), 'NamedNodeMap.__setitem__() sets ownerElement')
    confirm((a.value == 'bar'), 'NamedNodeMap.__setitem__() sets value')
    confirm((a.nodeValue == 'bar'), 'NamedNodeMap.__setitem__() sets nodeValue')
    elem.unlink()
    dom.unlink()
