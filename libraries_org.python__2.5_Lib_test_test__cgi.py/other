from test.test_support import verify, verbose
import cgi
import os
import sys
import tempfile
from StringIO import StringIO
cgi.sys = HackedSysModule()
try:
    from cStringIO import StringIO
except ImportError:
    from StringIO import StringIO
parse_qsl_test_cases = [('', []), ('&', []), ('&&', []), ('=', [('', '')]), ('=a', [('', 'a')]), ('a', [('a', '')]), ('a=', [('a', '')]), ('a=', [('a', '')]), ('&a=b', [('a', 'b')]), ('a=a+b&b=b+c', [('a', 'a b'), ('b', 'b c')]), ('a=1&a=2', [('a', '1'), ('a', '2')])]
parse_strict_test_cases = [('', ValueError("bad query field: ''")), ('&', ValueError("bad query field: ''")), ('&&', ValueError("bad query field: ''")), (';', ValueError("bad query field: ''")), (';&;', ValueError("bad query field: ''")), ('=', {}), ('=&=', {}), ('=;=', {}), ('=a', {'': ['a'], }), ('&=a', ValueError("bad query field: ''")), ('=a&', ValueError("bad query field: ''")), ('=&a', ValueError("bad query field: 'a'")), ('b=a', {'b': ['a'], }), ('b+=a', {'b ': ['a'], }), ('a=b=a', {'a': ['b=a'], }), ('a=+b=a', {'a': [' b=a'], }), ('&b=a', ValueError("bad query field: ''")), ('b&=a', ValueError("bad query field: 'b'")), ('a=a+b&b=b+c', {'a': ['a b'], 'b': ['b c'], }), ('a=a+b&a=b+a', {'a': ['a b', 'b a'], }), ('x=1&y=2.0&z=2-3.%2b0', {'x': ['1'], 'y': ['2.0'], 'z': ['2-3.+0'], }), ('x=1;y=2.0&z=2-3.%2b0', {'x': ['1'], 'y': ['2.0'], 'z': ['2-3.+0'], }), ('x=1;y=2.0;z=2-3.%2b0', {'x': ['1'], 'y': ['2.0'], 'z': ['2-3.+0'], }), ('Hbc5161168c542333633315dee1182227:key_store_seqid=400006&cuyer=r&view=bustomer&order_id=0bb2e248638833d48cb7fed300000f1b&expire=964546263&lobale=en-US&kid=130003.300038&ss=env', {'Hbc5161168c542333633315dee1182227:key_store_seqid': ['400006'], 'cuyer': ['r'], 'expire': ['964546263'], 'kid': ['130003.300038'], 'lobale': ['en-US'], 'order_id': ['0bb2e248638833d48cb7fed300000f1b'], 'ss': ['env'], 'view': ['bustomer'], }), ('group_id=5470&set=custom&_assigned_to=31392&_status=1&_category=100&SUBMIT=Browse', {'SUBMIT': ['Browse'], '_assigned_to': ['31392'], '_category': ['100'], '_status': ['1'], 'group_id': ['5470'], 'set': ['custom'], })]
main()
