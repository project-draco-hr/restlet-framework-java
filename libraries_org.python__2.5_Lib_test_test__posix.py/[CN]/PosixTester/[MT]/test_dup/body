def test_dup(self):
    if hasattr(posix, 'dup'):
        fp = open(test_support.TESTFN)
        try:
            fd = posix.dup(fp.fileno())
            self.assert_(isinstance(fd, int))
            os.close(fd)
        finally:
            fp.close()
