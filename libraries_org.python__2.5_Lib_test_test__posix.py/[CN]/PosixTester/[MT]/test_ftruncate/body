def test_ftruncate(self):
    if hasattr(posix, 'ftruncate'):
        fp = open(test_support.TESTFN, 'w+')
        try:
            fp.write('test')
            fp.flush()
            posix.ftruncate(fp.fileno(), 0)
        finally:
            fp.close()
