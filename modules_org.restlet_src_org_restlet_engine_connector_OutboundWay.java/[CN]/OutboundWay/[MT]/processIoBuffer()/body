{
  int result=super.processIoBuffer();
  if (getMessage() != null) {
    if (getMessageState() == MessageState.END) {
      onMessageCompleted(false);
    }
 else     if (getMessageState() == MessageState.IDLE) {
      updateState();
    }
  }
  return result;
}
