{
  if (request != null) {
    Response response=new Response(request);
    response.getServerInfo().setAgent(Engine.VERSION_HEADER);
    handle(request,response);
    if (!response.isCommitted() && response.isAutoCommitting()) {
      getPendingResponses().add(response);
      response.setCommitted(true);
    }
  }
  handleNextResponse();
}
