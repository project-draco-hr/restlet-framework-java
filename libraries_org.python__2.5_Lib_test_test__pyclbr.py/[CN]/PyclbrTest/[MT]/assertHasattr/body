def assertHasattr(self, obj, attr, ignore):
    ' succeed iff hasattr(obj,attr) or attr in ignore. '
    if (attr in ignore):
        return
    if (not hasattr(obj, attr)):
        print '???', attr
    self.failUnless(hasattr(obj, attr), ('expected hasattr(%r, %r)' % (obj, attr)))
