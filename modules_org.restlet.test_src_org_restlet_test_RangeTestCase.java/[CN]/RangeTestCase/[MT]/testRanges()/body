{
  try {
    Component component=new Component();
    component.getServers().add(Protocol.HTTP,8182);
    component.getDefaultHost().attach(new TestRangeApplication());
    component.start();
    Client client=new Client(Protocol.HTTP);
    Request request=new Request(Method.GET,"http://localhost:8182/test?range=0-500");
    request.setRanges(Arrays.asList(new Range(0,500)));
    assertEquals(Status.SUCCESS_OK,client.handle(request).getStatus());
    request=new Request(Method.GET,"http://localhost:8182/test?range=-500");
    request.setRanges(Arrays.asList(new Range(Range.INDEX_LAST,500)));
    assertEquals(Status.SUCCESS_OK,client.handle(request).getStatus());
    request=new Request(Method.GET,"http://localhost:8182/test?range=500-");
    request.setRanges(Arrays.asList(new Range(500,Range.SIZE_MAX)));
    assertEquals(Status.SUCCESS_OK,client.handle(request).getStatus());
    request=new Request(Method.GET,"http://localhost:8182/test?range=500-1000");
    request.setRanges(Arrays.asList(new Range(500,500)));
    assertEquals(Status.SUCCESS_OK,client.handle(request).getStatus());
    request=new Request(Method.GET,"http://localhost:8182/test?range=500-1000&range=500-");
    request.setRanges(Arrays.asList(new Range(500,500),new Range(500,Range.SIZE_MAX)));
    assertEquals(Status.SUCCESS_OK,client.handle(request).getStatus());
    component.stop();
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
