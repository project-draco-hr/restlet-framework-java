def visitFor(self, node):
    start = self.newBlock()
    anchor = self.newBlock()
    after = self.newBlock()
    self.setups.push((LOOP, start))
    self.set_lineno(node)
    self.emit('SETUP_LOOP', after)
    self.visit(node.list)
    self.emit('GET_ITER')
    self.nextBlock(start)
    self.set_lineno(node, force=1)
    self.emit('FOR_ITER', anchor)
    self.visit(node.assign)
    self.visit(node.body)
    self.emit('JUMP_ABSOLUTE', start)
    self.nextBlock(anchor)
    self.emit('POP_BLOCK')
    self.setups.pop()
    if node.else_:
        self.visit(node.else_)
    self.nextBlock(after)
