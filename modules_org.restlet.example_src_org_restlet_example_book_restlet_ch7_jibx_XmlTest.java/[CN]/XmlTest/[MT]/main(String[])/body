{
  final Restlet jibxRestlet=new Restlet(){
    @Override public void handle(    Request request,    Response response){
      final Customer customer=new Customer();
      customer.state="state_value";
      customer.street="street_value";
      customer.city="city_value";
      customer.zip=100000;
      customer.phone="phone_value";
      response.setEntity(new JibxRepresentation<Customer>(MediaType.TEXT_XML,customer));
    }
  }
;
  final Server server=new Server(Protocol.HTTP,8182,jibxRestlet);
  try {
    server.start();
    final Client client=new Client(Protocol.HTTP);
    final Response response=client.get("http://localhost:8182/");
    if (response.isEntityAvailable()) {
      final JibxRepresentation<Customer> representation=new JibxRepresentation<Customer>(response.getEntity(),Customer.class);
      final Customer customer=representation.getObject();
      System.out.println(customer.state);
      System.out.println(customer.street);
      System.out.println(customer.city);
      System.out.println(customer.zip);
      System.out.println(customer.phone);
    }
 else {
      System.err.println("No entity");
    }
  }
 catch (  final Exception e) {
    e.printStackTrace();
  }
 finally {
    try {
      server.stop();
    }
 catch (    final Exception e) {
      e.printStackTrace();
    }
  }
}
