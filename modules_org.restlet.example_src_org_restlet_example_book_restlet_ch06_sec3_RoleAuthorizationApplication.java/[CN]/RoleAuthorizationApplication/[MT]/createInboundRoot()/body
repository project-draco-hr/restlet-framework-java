{
  ChallengeAuthenticator authenticator=new ChallengeAuthenticator(getContext(),ChallengeScheme.HTTP_BASIC,"Basic Test");
  authenticator.setVerifier(getContext().getDefaultVerifier());
  RoleAuthorizer authorizer=new RoleAuthorizer();
  authorizer.getAuthorizedRoles().add(getRole("admin"));
  authorizer.setNext(EchoPrincipalsResource.class);
  Router router=new Router(getContext());
  router.attach("/admin",authorizer);
  router.attachDefault(EchoPrincipalsResource.class);
  authenticator.setNext(router);
  return authenticator;
}
