{
  Representation result=null;
  InputStream requestStream=getRequestStream();
  ReadableByteChannel requestChannel=getRequestChannel();
  if ((requestStream != null || requestChannel != null)) {
    Encoding contentEncoding=null;
    Language contentLanguage=null;
    MediaType contentType=null;
    long contentLength=-1L;
    for (    Parameter header : getRequestHeaders()) {
      if (header.getName().equalsIgnoreCase(ConnectorCall.HEADER_CONTENT_ENCODING)) {
        contentEncoding=new DefaultEncoding(header.getValue());
      }
 else       if (header.getName().equalsIgnoreCase(ConnectorCall.HEADER_CONTENT_LANGUAGE)) {
        contentLanguage=new DefaultLanguage(header.getValue());
      }
 else       if (header.getName().equalsIgnoreCase(ConnectorCall.HEADER_CONTENT_TYPE)) {
        contentType=new DefaultMediaType(header.getValue());
      }
 else       if (header.getName().equalsIgnoreCase(ConnectorCall.HEADER_CONTENT_LENGTH)) {
        contentLength=Long.parseLong(header.getValue());
      }
    }
    if (requestStream != null) {
      result=new InputRepresentation(requestStream,contentType,contentLength);
    }
 else     if (requestChannel != null) {
      result=new ReadableRepresentation(requestChannel,contentType,contentLength);
    }
    result.getMetadata().setEncoding(contentEncoding);
    result.getMetadata().setLanguage(contentLanguage);
  }
  return result;
}
