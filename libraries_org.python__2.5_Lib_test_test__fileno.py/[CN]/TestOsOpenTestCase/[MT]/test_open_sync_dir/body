def test_open_sync_dir(self):
    if (not hasattr(os, 'O_SYNC')):
        return
    self.dir = tempfile.mkdtemp()
    try:
        self.fd = os.open(self.dir, (os.O_SYNC | os.O_RDWR))
    except OSError as ose:
        assert (ose.errno == errno.EISDIR), ose.errno
