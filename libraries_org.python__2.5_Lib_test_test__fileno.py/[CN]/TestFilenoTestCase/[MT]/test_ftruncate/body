def test_ftruncate(self):
    self.fp.write('jython filenos')
    self.fp.flush()
    os.fsync(self.fd)
    self.assertEqual(os.path.getsize(self.filename), 14)
    os.ftruncate(self.fd, 8)
    self.assertEqual(os.path.getsize(self.filename), 8)
    os.ftruncate(self.fd, 0)
    self.assertEqual(os.path.getsize(self.filename), 0)
    self.fp.close()
    raises(IOError, 9, os.ftruncate, self.fd, 0)
