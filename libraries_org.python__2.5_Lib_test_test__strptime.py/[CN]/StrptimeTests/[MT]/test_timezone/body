def test_timezone(self):
    strp_output = _strptime.strptime('UTC', '%Z')
    self.failUnlessEqual(strp_output.tm_isdst, 0)
    strp_output = _strptime.strptime('GMT', '%Z')
    self.failUnlessEqual(strp_output.tm_isdst, 0)
    if (sys.platform == 'mac'):
        return
    time_tuple = time.localtime()
    strf_output = time.strftime('%Z')
    strp_output = _strptime.strptime(strf_output, '%Z')
    locale_time = _strptime.LocaleTime()
    if ((time.tzname[0] != time.tzname[1]) or (not time.daylight)):
        self.failUnless((strp_output[8] == time_tuple[8]), ("timezone check failed; '%s' -> %s != %s" % (strf_output, strp_output[8], time_tuple[8])))
    else:
        self.failUnless((strp_output[8] == (-1)), 'LocaleTime().timezone has duplicate values and time.daylight but timezone value not set to -1')
