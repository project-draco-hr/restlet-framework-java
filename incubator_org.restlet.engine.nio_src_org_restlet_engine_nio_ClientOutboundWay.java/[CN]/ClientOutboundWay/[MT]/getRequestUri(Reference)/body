{
  String result=null;
  Reference absoluteRef=resourceRef.isAbsolute() ? resourceRef : resourceRef.getTargetRef();
  if (absoluteRef.hasQuery()) {
    result=absoluteRef.getPath() + "?" + absoluteRef.getQuery();
  }
 else {
    result=absoluteRef.getPath();
  }
  if ((result == null) || (result.equals(""))) {
    result="/";
  }
  return result;
}
