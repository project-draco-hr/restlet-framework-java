{
  Service service;
  boolean replaced=false;
  for (int i=0; !replaced && (i < this.services.size()); i++) {
    service=this.services.get(i);
    if ((service != null) && service.getClass().isAssignableFrom(newService.getClass())) {
      try {
        service.stop();
      }
 catch (      Exception e) {
        getLogger().log(Level.WARNING,"Unable to stop service replaced",e);
      }
      this.services.set(i,newService);
      replaced=true;
    }
  }
  if (!replaced) {
    this.services.add(newService);
  }
}
