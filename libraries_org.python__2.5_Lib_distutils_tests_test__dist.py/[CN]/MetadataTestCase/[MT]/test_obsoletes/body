def test_obsoletes(self):
    attrs = {'name': 'package', 'version': '1.0', 'obsoletes': ['other', 'another (<1.0)'], }
    dist = distutils.dist.Distribution(attrs)
    self.assertEqual(dist.metadata.get_obsoletes(), ['other', 'another (<1.0)'])
    self.assertEqual(dist.get_obsoletes(), ['other', 'another (<1.0)'])
    meta = self.format_metadata(dist)
    self.assert_(('Metadata-Version: 1.1' in meta))
    self.assert_(('provides:' not in meta.lower()))
    self.assert_(('requires:' not in meta.lower()))
    self.assert_(('Obsoletes: other' in meta))
    self.assert_(('Obsoletes: another (<1.0)' in meta))
