def _testSocketRegisteredBeforeConnected(self):
    timeout = 1000
    poll_object = select.poll()
    poll_object.register(self.cli, select.POLLOUT)
    result_list = poll_object.poll(timeout)
    result_sockets = [r[0] for r in result_list]
    self.failIf((self.cli in result_sockets), 'Unconnected client socket should not have been selectable')
    self.cli.setblocking(0)
    self.cli.connect((test_socket.HOST, test_socket.PORT))
    result_list = poll_object.poll(timeout)
    result_sockets = [r[0] for r in result_list]
    self.failUnless((self.cli in result_sockets), 'Connected client socket should have been selectable')
