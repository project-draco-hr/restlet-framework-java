def repr_instance(self, x, level):
    try:
        s = __builtin__.repr(x)
    except Exception:
        return ('<%s instance at %x>' % (x.__class__.__name__, id(x)))
    if (len(s) > self.maxstring):
        i = max(0, ((self.maxstring - 3) // 2))
        j = max(0, ((self.maxstring - 3) - i))
        s = ((s[:i] + '...') + s[(len(s) - j):])
    return s
