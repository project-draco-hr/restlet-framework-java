def repr_str(self, x, level):
    s = __builtin__.repr(x[:self.maxstring])
    if (len(s) > self.maxstring):
        i = max(0, ((self.maxstring - 3) // 2))
        j = max(0, ((self.maxstring - 3) - i))
        s = __builtin__.repr((x[:i] + x[(len(x) - j):]))
        s = ((s[:i] + '...') + s[(len(s) - j):])
    return s
