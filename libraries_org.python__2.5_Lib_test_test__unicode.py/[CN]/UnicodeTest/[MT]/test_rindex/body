def test_rindex(self):
    string_tests.CommonTest.test_rindex(self)
    for (t1, t2) in ((str, unicode), (unicode, str)):
        self.checkequalnofix(12, t1('abcdefghiabc'), 'rindex', t2(''))
        self.checkequalnofix(3, t1('abcdefghiabc'), 'rindex', t2('def'))
        self.checkequalnofix(9, t1('abcdefghiabc'), 'rindex', t2('abc'))
        self.checkequalnofix(0, t1('abcdefghiabc'), 'rindex', t2('abc'), 0, (-1))
        self.assertRaises(ValueError, t1('abcdefghiabc').rindex, t2('hib'))
        self.assertRaises(ValueError, t1('defghiabc').rindex, t2('def'), 1)
        self.assertRaises(ValueError, t1('defghiabc').rindex, t2('abc'), 0, (-1))
        self.assertRaises(ValueError, t1('abcdefghi').rindex, t2('ghi'), 0, 8)
        self.assertRaises(ValueError, t1('abcdefghi').rindex, t2('ghi'), 0, (-1))
