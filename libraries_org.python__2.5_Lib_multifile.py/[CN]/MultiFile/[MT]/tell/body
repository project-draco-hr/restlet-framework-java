def tell(self):
    if (self.level > 0):
        return self.lastpos
    return (self.fp.tell() - self.start)
