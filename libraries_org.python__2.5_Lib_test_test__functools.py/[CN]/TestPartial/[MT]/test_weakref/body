def test_weakref(self):
    f = self.thetype(int, base=16)
    p = proxy(f)
    self.assertEqual(f.func, p.func)
    f = None
    if test_support.is_jython:
        from test_weakref import extra_collect
        extra_collect()
    self.assertRaises(ReferenceError, getattr, p, 'func')
