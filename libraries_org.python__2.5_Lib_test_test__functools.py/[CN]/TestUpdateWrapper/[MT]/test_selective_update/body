def test_selective_update(self):

    def f():
        pass
    f.attr = 'This is a different test'
    f.dict_attr = dict(a=1, b=2, c=3)

    def wrapper():
        pass
    wrapper.dict_attr = {}
    assign = ('attr',)
    update = ('dict_attr',)
    functools.update_wrapper(wrapper, f, assign, update)
    self.check_wrapper(wrapper, f, assign, update)
    self.assertEqual(wrapper.__name__, 'wrapper')
    self.assertEqual(wrapper.__doc__, None)
    self.assertEqual(wrapper.attr, 'This is a different test')
    self.assertEqual(wrapper.dict_attr, f.dict_attr)
