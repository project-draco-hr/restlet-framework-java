def test_hex(self):
    s = '{s\x05\x00\x00\x00worldi\x02\x00\x00\x00s\x05\x00\x00\x00helloi\x01\x00\x00\x000'
    t = binascii.b2a_hex(s)
    u = binascii.a2b_hex(t)
    self.assertEqual(s, u)
    self.assertRaises(TypeError, binascii.a2b_hex, t[:(-1)])
    self.assertRaises(TypeError, binascii.a2b_hex, (t[:(-1)] + 'q'))
    if test_support.have_unicode:
        self.assertEqual(binascii.hexlify(unicode('a', 'ascii')), '61')
