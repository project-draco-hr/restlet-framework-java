def write_data(self, data):
    'Writes datachars to writer.'
    data = data.replace('&', '&amp;')
    data = data.replace('<', '&lt;')
    data = data.replace('"', '&quot;')
    data = data.replace('>', '&gt;')
    data = data.replace(chr(9), '&#9;')
    data = data.replace(chr(10), '&#10;')
    data = data.replace(chr(13), '&#13;')
    self.writer.write(data)
