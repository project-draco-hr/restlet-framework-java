def test_make_synchronized(self):
    doneSignal = CountDownLatch(10)


    class SynchedRunnable(Runnable):
        i = 0

        def run(self):
            self.i += 1
            doneSignal.countDown()
        run = synchronize.make_synchronized(run)
    runner = SynchedRunnable()
    for _ in xrange(10):
        Thread(runner).start()
    doneSignal.await()
    self.assertEquals(10, runner.i)
