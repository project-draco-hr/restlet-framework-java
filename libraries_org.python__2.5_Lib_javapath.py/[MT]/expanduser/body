def expanduser(path):
    if (path[:1] == '~'):
        c = path[1:2]
        if (not c):
            return gethome()
        if (c == os.sep):
            return asPyString(File(gethome(), path[2:]).getPath())
    return path
