{
  Scorer result=null;
  for (int i=0; (result == null) && (i < getMaxAttempts()); i++) {
    if (i > 0) {
      try {
        Thread.sleep(getRetryDelay());
      }
 catch (      InterruptedException e) {
      }
    }
    if (this.scorers != null) {
switch (getRoutingMode()) {
case BEST:
        result=getScorers().getBest(request,response,getRequiredScore());
      break;
case FIRST:
    result=getScorers().getFirst(request,response,getRequiredScore());
  break;
case LAST:
result=getScorers().getLast(request,response,getRequiredScore());
break;
case NEXT:
result=getScorers().getNext(request,response,getRequiredScore());
break;
case RANDOM:
result=getScorers().getRandom(request,response,getRequiredScore());
break;
case CUSTOM:
result=getCustom(request,response);
break;
}
}
}
if (result == null) {
if ((getDefaultScorer() != null) && (getDefaultScorer().score(request,response) >= getRequiredScore())) {
result=getDefaultScorer();
}
 else {
response.setStatus(Status.CLIENT_ERROR_NOT_FOUND);
}
}
return result;
}
