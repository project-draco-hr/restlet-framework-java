def test_function():
    d = {}
    exec 'def f(): pass\n' in d
    gc.collect()
    del d
    expect(gc.collect(), 2, 'function')
