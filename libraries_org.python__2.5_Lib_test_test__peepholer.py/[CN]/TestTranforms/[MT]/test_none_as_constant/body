def test_none_as_constant(self):

    def f(x):
        None
        return x
    asm = disassemble(f)
    for elem in ('LOAD_GLOBAL',):
        self.assert_((elem not in asm))
    for elem in ('LOAD_CONST', '(None)'):
        self.assert_((elem in asm))

    def f():
        'Adding a docstring made this test fail in Py2.5.0'
        return None
    self.assert_(('LOAD_CONST' in disassemble(f)))
    self.assert_(('LOAD_GLOBAL' not in disassemble(f)))
