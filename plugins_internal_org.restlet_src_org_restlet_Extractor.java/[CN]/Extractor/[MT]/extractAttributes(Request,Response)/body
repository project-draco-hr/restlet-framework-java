{
  if (this.queryExtracts != null) {
    Form form=request.getResourceRef().getQueryAsForm();
    if (form != null) {
      for (      ExtractInfo qe : getQueryExtracts()) {
        if (qe.multiple) {
          request.getAttributes().put(qe.attribute,form.subList(qe.value));
        }
 else {
          request.getAttributes().put(qe.attribute,form.getFirst(qe.value));
        }
      }
    }
  }
  if (this.entityExtracts != null) {
    Form form=request.getEntityAsForm();
    if (form != null) {
      for (      ExtractInfo ie : getEntityExtracts()) {
        if (ie.multiple) {
          request.getAttributes().put(ie.attribute,form.subList(ie.value));
        }
 else {
          request.getAttributes().put(ie.attribute,form.getFirst(ie.value));
        }
      }
    }
  }
  if (this.modelExtracts != null) {
    CallModel model=new CallModel(request,response,null);
    for (    ExtractInfo me : getModelExtracts()) {
      request.getAttributes().put(me.attribute,model.get(me.value));
    }
  }
  if (this.segmentExtracts != null) {
    List<String> segments=request.getBaseRef().getSegments();
    for (    ExtractInfo me : getSegmentExtracts()) {
      if (me.index >= 0) {
        request.getAttributes().put(me.attribute,segments.get(me.index));
      }
 else       if (me.index < 0) {
        request.getAttributes().put(me.attribute,segments.get(segments.size() + me.index));
      }
    }
  }
}
