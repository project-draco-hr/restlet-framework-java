{
  boolean found=false;
  for (int i=0; i < mailbox.getMails().size() && !found; i++) {
    Mail mail2=mailbox.getMails().get(i);
    if (mail2.getId().equals(mail.getId())) {
      mailbox.getMails().remove(i);
      found=true;
    }
  }
  T contactDAO=dataFacade.getContactDAO();
  for (  Contact contact : mail.getRecipients()) {
    if (contact.getId() == null) {
      contactDAO.deleteContact(contact);
    }
  }
  if (mail.getSender().getId() == null) {
    contactDAO.deleteContact(mail.getSender());
  }
  dataFacade.getMailDAO().deleteMail(mail);
  dataFacade.getMailboxDAO().updateMailbox(mailbox);
}
