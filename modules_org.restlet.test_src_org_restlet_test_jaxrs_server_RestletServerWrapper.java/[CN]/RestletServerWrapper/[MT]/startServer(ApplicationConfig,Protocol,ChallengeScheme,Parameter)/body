{
  Component comp=new Component();
  if (contextParameter != null)   comp.getContext().getParameters().add(contextParameter);
  comp.getServers().add(protocol,0);
  Application application=new Application(comp.getContext()){
    @Override public Restlet createRoot(){
      if (authenticator == null) {
        return new JaxRsRouter(getContext(),appConfig,AllowAllAuthenticator.getInstance());
      }
      Guard guard=new Guard(getContext(),challengeScheme,"");
      guard.getSecrets().put("admin","adminPW".toCharArray());
      guard.getSecrets().put("alice","alicesSecret".toCharArray());
      guard.getSecrets().put("bob","bobsSecret".toCharArray());
      JaxRsRouter router=new JaxRsRouter(getContext(),appConfig,authenticator);
      guard.setNext(router);
      return guard;
    }
  }
;
  comp.getDefaultHost().attach(application);
  comp.start();
  this.component=comp;
  System.out.println("listening on port " + getPort());
}
