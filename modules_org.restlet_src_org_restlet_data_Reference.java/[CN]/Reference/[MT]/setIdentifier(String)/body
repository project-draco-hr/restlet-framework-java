{
  if (identifier == null)   identifier="";
  if (identifier.indexOf('#') != -1) {
    throw new IllegalArgumentException("Illegal '#' character detected in parameter");
  }
 else {
    if (fragmentIndex != -1) {
      this.internalRef=identifier + this.internalRef.substring(fragmentIndex);
    }
 else {
      this.internalRef=identifier;
    }
    updateIndexes();
  }
}
