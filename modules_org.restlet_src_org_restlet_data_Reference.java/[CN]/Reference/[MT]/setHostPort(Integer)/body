{
  String authority=getAuthority();
  if (authority != null) {
    int index1=authority.indexOf('@');
    int index=authority.indexOf(':',(index1 == -1 ? 0 : index1));
    String newPort=(port == null) ? "" : ":" + port;
    if (index != -1) {
      setAuthority(authority.substring(0,index) + newPort);
    }
 else {
      setAuthority(authority + newPort);
    }
  }
 else {
    throw new IllegalArgumentException("No authority defined, please define a host name first");
  }
}
