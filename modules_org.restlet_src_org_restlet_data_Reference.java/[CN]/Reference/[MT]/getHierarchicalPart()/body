{
  if (hasScheme()) {
    if (hasQuery()) {
      return this.internalRef.substring(schemeIndex + 1,queryIndex);
    }
    if (hasFragment()) {
      return this.internalRef.substring(schemeIndex + 1,fragmentIndex);
    }
    return this.internalRef.substring(schemeIndex + 1);
  }
  if (hasQuery()) {
    return this.internalRef.substring(0,queryIndex);
  }
  if (hasFragment()) {
    return this.internalRef.substring(0,fragmentIndex);
  }
  return this.internalRef;
}
