{
  if (recipientInfo.getProtocol() != null) {
    appendToken(recipientInfo.getProtocol().getName());
    append('/');
    appendToken(recipientInfo.getProtocol().getVersion());
    appendSpace();
    if (recipientInfo.getTransport() != null) {
      append('/');
      appendToken(recipientInfo.getTransport());
      appendSpace();
    }
    if (recipientInfo.getName() != null) {
      appendToken(recipientInfo.getName());
      if (!recipientInfo.getParameters().isEmpty()) {
        for (        Parameter param : recipientInfo.getParameters()) {
          appendParameterSeparator();
          appendExtension(param);
        }
      }
      if (recipientInfo.getComment() != null) {
        appendSpace();
        appendComment(recipientInfo.getComment());
      }
    }
 else {
      throw new IllegalArgumentException("The name (host or pseudonym) of a recipient can't be null");
    }
  }
 else {
    throw new IllegalArgumentException("The protocol of a recipient can't be null");
  }
  return this;
}
