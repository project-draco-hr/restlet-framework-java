def testHostnameRes(self):
    hostname = socket.gethostname()
    try:
        ip = socket.gethostbyname(hostname)
    except socket.error:
        self.fail("Probably name lookup wasn't set up right; skip testHostnameRes.gethostbyname")
        return
    self.assert_((ip.find('.') >= 0), 'Error resolving host to ip.')
    try:
        (hname, aliases, ipaddrs) = socket.gethostbyaddr(ip)
    except socket.error:
        self.fail("Probably name lookup wasn't set up right; skip testHostnameRes.gethostbyaddr")
        return
    all_host_names = ([hostname, hname] + aliases)
    fqhn = socket.getfqdn()
    if (not (fqhn in all_host_names)):
        self.fail('Error testing host resolution mechanisms.')
