def testDefaultTimeout(self):
    self.assertEqual(socket.getdefaulttimeout(), None)
    s = socket.socket()
    self.assertEqual(s.gettimeout(), None)
    s.close()
    socket.setdefaulttimeout(10)
    self.assertEqual(socket.getdefaulttimeout(), 10)
    s = socket.socket()
    self.assertEqual(s.gettimeout(), 10)
    s.close()
    socket.setdefaulttimeout(None)
    self.assertEqual(socket.getdefaulttimeout(), None)
    s = socket.socket()
    self.assertEqual(s.gettimeout(), None)
    s.close()
    self.assertRaises(ValueError, socket.setdefaulttimeout, (-1))
    self.assertRaises(TypeError, socket.setdefaulttimeout, 'spam')
