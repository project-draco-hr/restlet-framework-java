def testSetSockOpt(self):
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    reuse = sock.getsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR)
    self.failIf((reuse == 0), 'failed to set reuse mode')
