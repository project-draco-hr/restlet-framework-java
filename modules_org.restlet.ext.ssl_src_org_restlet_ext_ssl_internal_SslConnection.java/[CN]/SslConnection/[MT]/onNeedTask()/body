{
  final Runnable task=getSslEngine().getDelegatedTask();
  if (task != null) {
    getInboundWay().setIoState(IoState.IDLE);
    getOutboundWay().setIoState(IoState.IDLE);
    getHelper().getWorkerService().execute(new Runnable(){
      public void run(){
        getLogger().log(Level.FINE,"Running delegated tasks...");
        task.run();
        Runnable nextTask=getSslEngine().getDelegatedTask();
        while (nextTask != null) {
          nextTask.run();
          nextTask=getSslEngine().getDelegatedTask();
        }
        if (getLogger().isLoggable(Level.FINE)) {
          getLogger().log(Level.FINE,"Done running delegated tasks. " + SslConnection.this.toString());
        }
        try {
          handleSslHandshake();
        }
 catch (        IOException e) {
          getLogger().log(Level.WARNING,"Unable to handle SSL handshake",e);
        }
      }
    }
);
  }
}
