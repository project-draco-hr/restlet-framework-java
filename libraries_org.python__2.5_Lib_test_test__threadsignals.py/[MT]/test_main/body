def test_main():
    global signal_blackboard
    signal_blackboard = {signal.SIGUSR1: {'tripped': 0, 'tripped_by': 0, }, signal.SIGUSR2: {'tripped': 0, 'tripped_by': 0, }, signal.SIGALRM: {'tripped': 0, 'tripped_by': 0, }, }
    oldsigs = registerSignals((handle_signals, handle_signals, handle_signals))
    try:
        run_unittest(ThreadSignals)
    finally:
        registerSignals(oldsigs)
