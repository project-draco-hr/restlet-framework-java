def test_with_and_without_namespace():
    '\n    >>> from xml.parsers.expat import ParserCreate\n\n    >>> xml = \'\'\'<root\n    ...            xmlns="http://www.python.org"\n    ...            xmlns:python="http://www.python.org"\n    ...            python:a="1" b="2">\n    ...            <python:sub1/>\n    ...            <sub2 xmlns=""/>\n    ...          </root>\'\'\'\n    >>> def handler(name, attributes):\n    ...     attributes = sorted(attributes.items())\n    ...     print name\n    ...     for attr in attributes:\n    ...         print "  %s = %r" % attr\n\n    >>> parser = ParserCreate()\n    >>> parser.StartElementHandler = handler\n    >>> _ = parser.Parse(xml, True)\n    root\n      b = u\'2\'\n      python:a = u\'1\'\n      xmlns = u\'http://www.python.org\'\n      xmlns:python = u\'http://www.python.org\'\n    python:sub1\n    sub2\n      xmlns = u\'\'\n\n    >>> parser = ParserCreate(namespace_separator="|")\n    >>> parser.StartElementHandler = handler\n    >>> _ = parser.Parse(xml, True)\n    http://www.python.org|root\n      b = u\'2\'\n      http://www.python.org|a = u\'1\'\n    http://www.python.org|sub1\n    sub2\n    '
