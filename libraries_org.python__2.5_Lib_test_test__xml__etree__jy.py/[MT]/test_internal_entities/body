def test_internal_entities():
    '\n    >>> xml = \'\'\'<!DOCTYPE doc [\n    ...          <!ENTITY entity "entity-content">\n    ...          ]>\n    ...          <doc>&entity;</doc>\'\'\'\n\n    >>> parse(xml)\n\n    >>> parse(xml, "CharacterDataHandler")\n    XML> CharacterDataHandler(u\'entity-content\')\n\n    >>> parse(xml, "DefaultHandler") #doctest: +ELLIPSIS\n    XML> ...DefaultHandler(u\'&entity;\')...\n\n    >>> parse(xml, "DefaultHandlerExpand") #doctest: +ELLIPSIS\n    XML> ...DefaultHandlerExpand(u\'entity-content\')...\n\n    # Uhu ?\n    >>> parse(xml, "CharacterDataHandler",\n    ...            "DefaultHandler") #doctest: +ELLIPSIS\n    XML> ...DefaultHandler(u\'&entity;\')...\n\n    >>> parse(xml, "CharacterDataHandler",\n    ...            "DefaultHandlerExpand") #doctest: +ELLIPSIS\n    XML> ...CharacterDataHandler(u\'entity-content\')...\n\n    >>> parse(xml, "DefaultHandler",\n    ...            "DefaultHandlerExpand") #doctest: +ELLIPSIS\n    XML> ...DefaultHandlerExpand(u\'entity-content\')...\n\n    >>> parse(xml, "CharacterDataHandler",\n    ...            "DefaultHandler",\n    ...            "DefaultHandlerExpand") #doctest: +ELLIPSIS\n    XML> ...CharacterDataHandler(u\'entity-content\')...\n    '
