def test_utf8():
    '\n    Source: test_pyexpat.py\n    Changes: replaced tabs with spaces in Outputter to ease doctest integration\n\n    >>> out = Outputter()\n    >>> parser = expat.ParserCreate(namespace_separator=\'!\')\n    >>> HANDLER_NAMES = [\n    ...     \'StartElementHandler\', \'EndElementHandler\',\n    ...     \'CharacterDataHandler\',\n    ...     \'ProcessingInstructionHandler\',\n    ...     \'UnparsedEntityDeclHandler\', \'NotationDeclHandler\',\n    ...     \'StartNamespaceDeclHandler\', \'EndNamespaceDeclHandler\',\n    ...     \'CommentHandler\', \'StartCdataSectionHandler\',\n    ...     \'EndCdataSectionHandler\',\n    ...     \'DefaultHandler\', \'DefaultHandlerExpand\',\n    ...     #\'NotStandaloneHandler\',\n    ...     \'ExternalEntityRefHandler\'\n    ...     ]\n    >>> for name in HANDLER_NAMES:\n    ...     setattr(parser, name, getattr(out, name))\n\n    >>> data = \'\'\'\\\n    ... <?xml version="1.0" encoding="iso-8859-1" standalone="no"?>\n    ... <?xml-stylesheet href="stylesheet.css"?>\n    ... <!-- comment data -->\n    ... <!DOCTYPE quotations SYSTEM "quotations.dtd" [\n    ... <!ELEMENT root ANY>\n    ... <!NOTATION notation SYSTEM "notation.jpeg">\n    ... <!ENTITY acirc "&#226;">\n    ... <!ENTITY external_entity SYSTEM "entity.file">\n    ... <!ENTITY unparsed_entity SYSTEM "entity.file" NDATA notation>\n    ... %unparsed_entity;\n    ... ]>\n    ...\n    ... <root attr1="value1" attr2="value2&#8000;">\n    ... <myns:subelement xmlns:myns="http://www.python.org/namespace">\n    ...      Contents of subelements\n    ... </myns:subelement>\n    ... <sub2><![CDATA[contents of CDATA section]]></sub2>\n    ... &external_entity;\n    ... </root>\n    ... \'\'\'\n\n    #Produce UTF-8 output\n    #>>> parser.returns_unicode = 0\n    #>>> try:\n    #...     parser.Parse(data, 1)\n    #... except expat.error:\n    #...     print \'** Error\', parser.ErrorCode, expat.ErrorString(parser.ErrorCode)\n    #...     print \'** Line\', parser.ErrorLineNumber\n    #...     print \'** Column\', parser.ErrorColumnNumber\n    #...     print \'** Byte\', parser.ErrorByteIndex\n    #PI:\n        #\'xml-stylesheet\' \'href="stylesheet.css"\'\n    #Comment:\n        #\' comment data \'\n    #Notation declared: (\'notation\', None, \'notation.jpeg\', None)\n    #Unparsed entity decl:\n        #(\'unparsed_entity\', None, \'entity.file\', None, \'notation\')\n    #Start element:\n        #\'root\' {\'attr1\': \'value1\', \'attr2\': \'value2\\xe1\\xbd\\x80\'}\n    #NS decl:\n        #\'myns\' \'http://www.python.org/namespace\'\n    #Start element:\n        #\'http://www.python.org/namespace!subelement\' {}\n    #Character data:\n        #\'Contents of subelements\'\n    #End element:\n        #\'http://www.python.org/namespace!subelement\'\n    #End of NS decl:\n        #\'myns\'\n    #Start element:\n        #\'sub2\' {}\n    #Start of CDATA section\n    #Character data:\n        #\'contents of CDATA section\'\n    #End of CDATA section\n    #End element:\n        #\'sub2\'\n    #External entity ref: (None, \'entity.file\', None)\n    #End element:\n        #\'root\'\n    #1\n\n    >>> parser = expat.ParserCreate(namespace_separator=\'!\')\n    >>> parser.returns_unicode = 1\n    >>> for name in HANDLER_NAMES:\n    ...     setattr(parser, name, getattr(out, name))\n    >>> try:\n    ...     parser.Parse(data, 1)\n    ... except expat.error:\n    ...     print \'** Line\', parser.ErrorLineNumber\n    ...     print \'** Column\', parser.ErrorColumnNumber\n    ...     print \'** Byte\', parser.ErrorByteIndex #doctest: +REPORT_UDIFF\n    PI:\n        u\'xml-stylesheet\' u\'href="stylesheet.css"\'\n    Comment:\n        u\' comment data \'\n    Notation declared: (u\'notation\', None, u\'notation.jpeg\', None)\n    Unparsed entity decl:\n        (u\'unparsed_entity\', None, u\'entity.file\', None, u\'notation\')\n    Start element:\n        u\'root\' {u\'attr1\': u\'value1\', u\'attr2\': u\'value2\\u1f40\'}\n    NS decl:\n        u\'myns\' u\'http://www.python.org/namespace\'\n    Start element:\n        u\'http://www.python.org/namespace!subelement\' {}\n    Character data:\n        u\'Contents of subelements\'\n    End element:\n        u\'http://www.python.org/namespace!subelement\'\n    End of NS decl:\n        u\'myns\'\n    Start element:\n        u\'sub2\' {}\n    Start of CDATA section\n    Character data:\n        u\'contents of CDATA section\'\n    End of CDATA section\n    End element:\n        u\'sub2\'\n    External entity ref: (None, u\'entity.file\', None)\n    End element:\n        u\'root\'\n    1\n    '
