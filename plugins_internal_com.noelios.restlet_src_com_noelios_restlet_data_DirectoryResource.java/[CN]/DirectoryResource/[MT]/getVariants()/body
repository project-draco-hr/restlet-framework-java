{
  List<Representation> result=super.getVariants();
  logger.info("Getting variants for : " + getTargetUri());
  if (this.directoryContent != null) {
    Set<String> extensions=null;
    String entryUri;
    String fullEntryName;
    String baseEntryName;
    int lastSlashIndex;
    int firstDotIndex;
    for (    Reference ref : this.directoryContent) {
      entryUri=ref.toString();
      lastSlashIndex=entryUri.lastIndexOf('/');
      fullEntryName=(lastSlashIndex == -1) ? entryUri : entryUri.substring(lastSlashIndex + 1);
      firstDotIndex=fullEntryName.indexOf('.');
      if (firstDotIndex != -1) {
        baseEntryName=fullEntryName.substring(0,firstDotIndex);
      }
 else {
        baseEntryName=fullEntryName;
      }
      if (baseEntryName.equals(this.baseName)) {
        extensions=getExtensions(fullEntryName);
        if (((extensions == null) && (this.baseExtensions == null)) || (this.baseExtensions == null) || extensions.containsAll(this.baseExtensions)) {
          Call call=getDirectory().getContextClient().get(entryUri);
          if (call.getStatus().isSuccess() && (call.getOutput() != null)) {
            result.add(call.getOutput());
          }
        }
      }
    }
    if (result.size() == 0) {
      if (this.targetDirectory && getDirectory().isListingAllowed()) {
        result=getDirectory().getDirectoryVariants(this.directoryContent);
      }
    }
  }
  return result;
}
