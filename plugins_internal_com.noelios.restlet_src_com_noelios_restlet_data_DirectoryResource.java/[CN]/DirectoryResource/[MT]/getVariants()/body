{
  List<Representation> result=super.getVariants();
  logger.info("Getting variants for : " + getTargetUri());
  if (this.directoryContent != null) {
    if (this.baseName != null) {
      for (      Reference ref : getVariantsReferences(false)) {
        Call contextCall=getClient().get(ref.toString());
        if (contextCall.getStatus().isSuccess() && (contextCall.getOutput() != null)) {
          result.add(contextCall.getOutput());
        }
      }
    }
    if (result.size() == 0) {
      if (this.targetDirectory && getDirectory().isListingAllowed()) {
        ReferenceList userList=new ReferenceList(this.directoryContent.size());
        String baseRef=this.call.getBaseRef().toString(false,false);
        if (!baseRef.endsWith("/")) {
          baseRef+="/";
        }
        baseRef+=this.relativePart;
        userList.setListRef(baseRef);
        String filePath;
        int rootLength=getDirectoryUri().length();
        for (        Reference ref : this.directoryContent) {
          filePath=ref.toString(false,false).substring(rootLength);
          userList.add(baseRef + filePath);
        }
        result=getDirectory().getDirectoryVariants(userList);
      }
    }
  }
  return result;
}
