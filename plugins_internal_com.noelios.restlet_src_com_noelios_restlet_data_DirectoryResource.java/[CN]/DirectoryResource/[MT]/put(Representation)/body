{
  Call contextCall=new Call(Method.PUT,this.targetUri);
  if (!getDirectory().isModifiable()) {
    contextCall.setStatus(Status.CLIENT_ERROR_FORBIDDEN);
  }
 else {
    contextCall.setInput(variant);
    if (targetDirectory) {
      contextCall.setResourceRef(this.targetUri);
      getClient().handle(contextCall);
    }
 else {
      ReferenceList references=getVariantsReferences(true);
      if (!references.isEmpty()) {
        contextCall.setResourceRef(references.get(0));
        getClient().handle(contextCall);
      }
 else {
        contextCall.setResourceRef(this.targetUri);
        getClient().handle(contextCall);
      }
    }
  }
  return new Result(contextCall.getStatus());
}
