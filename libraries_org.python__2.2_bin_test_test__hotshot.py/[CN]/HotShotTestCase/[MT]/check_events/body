def check_events(self, expected):
    events = self.get_events_wotime()
    if (not __debug__):
        expected = [ev for ev in expected if (ev[0] != LINE)]
    if (events != expected):
        self.fail(('events did not match expectation; got:\n%s\nexpected:\n%s' % (pprint.pformat(events), pprint.pformat(expected))))
