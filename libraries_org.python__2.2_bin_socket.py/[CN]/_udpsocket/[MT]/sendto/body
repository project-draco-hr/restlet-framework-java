def sendto(self, data, p1, p2=None):
    try:
        if (not p2):
            (flags, addr) = (0, p1)
        else:
            (flags, addr) = (0, p2)
        n = len(data)
        if (not self.sock_impl):
            self.sock_impl = _datagram_socket_impl()
        (host, port) = addr
        bytes = java.lang.String(data).getBytes('iso-8859-1')
        a = java.net.InetAddress.getByName(host)
        packet = java.net.DatagramPacket(bytes, n, a, port)
        self.sock_impl.send(packet)
        return n
    except java.lang.Exception as jlx:
        raise _map_exception(jlx)
