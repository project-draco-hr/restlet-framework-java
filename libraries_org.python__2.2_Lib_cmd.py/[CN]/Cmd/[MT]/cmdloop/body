def cmdloop(self, intro=None):
    'Repeatedly issue a prompt, accept input, parse an initial prefix\n        off the received input, and dispatch to action methods, passing them\n        the remainder of the line as argument.\n\n        '
    self.preloop()
    if (intro is not None):
        self.intro = intro
    if self.intro:
        print self.intro
    stop = None
    while (not stop):
        if self.cmdqueue:
            line = self.cmdqueue[0]
            del self.cmdqueue[0]
        elif self.use_rawinput:
            try:
                line = raw_input(self.prompt)
            except EOFError:
                line = 'EOF'
        else:
            sys.stdout.write(self.prompt)
            sys.stdout.flush()
            line = sys.stdin.readline()
            if (not len(line)):
                line = 'EOF'
            else:
                line = line[:(-1)]
        line = self.precmd(line)
        stop = self.onecmd(line)
        stop = self.postcmd(stop, line)
    self.postloop()
