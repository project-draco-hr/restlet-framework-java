def save_tuple(self, object):
    write = self.write
    save = self.save
    memo = self.memo
    d = id(object)
    write(MARK)
    for element in object:
        save(element)
    if (len(object) and memo.has_key(d)):
        if self.bin:
            write((POP_MARK + self.get(memo[d][0])))
            return
        write(((POP * (len(object) + 1)) + self.get(memo[d][0])))
        return
    memo_len = len(memo)
    self.write((TUPLE + self.put(memo_len)))
    memo[d] = (memo_len, object)
