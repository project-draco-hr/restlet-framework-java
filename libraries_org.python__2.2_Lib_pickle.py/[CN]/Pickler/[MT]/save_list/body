def save_list(self, object):
    d = id(object)
    write = self.write
    save = self.save
    memo = self.memo
    if self.bin:
        write(EMPTY_LIST)
    else:
        write((MARK + LIST))
    memo_len = len(memo)
    write(self.put(memo_len))
    memo[d] = (memo_len, object)
    using_appends = (self.bin and (len(object) > 1))
    if using_appends:
        write(MARK)
    for element in object:
        save(element)
        if (not using_appends):
            write(APPEND)
    if using_appends:
        write(APPENDS)
