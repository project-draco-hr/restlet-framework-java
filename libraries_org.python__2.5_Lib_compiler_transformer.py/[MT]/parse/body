def parse(buf, mode='exec'):
    if ((mode == 'exec') or (mode == 'single')):
        return Transformer().parsesuite(buf)
    elif (mode == 'eval'):
        return Transformer().parseexpr(buf)
    else:
        raise ValueError("compile() arg 3 must be 'exec' or 'eval' or 'single'")
