{
  try {
    boolean doRead=false;
synchronized (this) {
      if (canRead()) {
        doRead=true;
        setInboundBusy(true);
      }
    }
    if (doRead) {
      readMessage();
    }
  }
 catch (  Throwable e) {
    if (ConnectionState.CLOSING != getState() && ConnectionState.CLOSED != getState()) {
      getLogger().log(Level.FINE,"Error while reading a message. Closing the connection.",e.getMessage());
      getLogger().log(Level.FINE,"Error while reading a message. Closing the connection.",e);
      close(false);
    }
  }
  getHelper().handleNextInbound();
}
