{
  if (this.wrappedServer == null) {
    this.wrappedServer=new WrappedServer(this);
    final QueuedThreadPool btp=new QueuedThreadPool();
    btp.setLowThreads(getLowThreads());
    btp.setMaxIdleTimeMs(getThreadMaxIdleTimeMs());
    btp.setMaxThreads(getMaxThreads());
    btp.setMinThreads(getMinThreads());
    getWrappedServer().setThreadPool(btp);
    if (getGracefulShutdown() > 0) {
      getWrappedServer().setGracefulShutdown(getGracefulShutdown());
    }
  }
  return this.wrappedServer;
}
