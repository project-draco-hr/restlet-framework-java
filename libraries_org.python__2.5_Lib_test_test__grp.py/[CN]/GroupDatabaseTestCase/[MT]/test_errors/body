def test_errors(self):
    self.assertRaises(TypeError, grp.getgrgid)
    self.assertRaises(TypeError, grp.getgrnam)
    self.assertRaises(TypeError, grp.getgrall, 42)
    bynames = {}
    bygids = {}
    for (n, p, g, mem) in grp.getgrall():
        if ((not n) or (n == '+')):
            continue
        bynames[n] = g
        bygids[g] = n
    allnames = bynames.keys()
    namei = 0
    fakename = allnames[namei]
    while (fakename in bynames):
        chars = map(None, fakename)
        for i in xrange(len(chars)):
            if (chars[i] == 'z'):
                chars[i] = 'A'
                break
            elif (chars[i] == 'Z'):
                continue
            else:
                chars[i] = chr((ord(chars[i]) + 1))
                break
        else:
            namei = (namei + 1)
            try:
                fakename = allnames[namei]
            except IndexError:
                break
        fakename = ''.join(map(None, chars))
    self.assertRaises(KeyError, grp.getgrnam, fakename)
    fakegid = 4127
    while (fakegid in bygids):
        fakegid = ((fakegid * 3) % 65536)
    self.assertRaises(KeyError, grp.getgrgid, fakegid)
