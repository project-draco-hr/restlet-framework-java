def test_class_dict_is_copy(self):


    class FooMeta(type):

        def __new__(meta, name, bases, class_dict):
            cls = type.__new__(meta, name, bases, class_dict)
            self.assert_(('foo' not in class_dict))
            cls.foo = 'bar'
            self.assert_(('foo' not in class_dict))
            return cls


    class Foo(object):
        __metaclass__ = FooMeta
