def test_nested_with_same_boundary(self):
    eq = self.ndiffAssertEqual
    msg = self._msgobj('msg_39.txt')
    sfp = StringIO()
    Iterators._structure(msg, sfp)
    eq(sfp.getvalue(), 'multipart/mixed\n    multipart/mixed\n        multipart/alternative\n        application/octet-stream\n        application/octet-stream\n    text/plain\n')
