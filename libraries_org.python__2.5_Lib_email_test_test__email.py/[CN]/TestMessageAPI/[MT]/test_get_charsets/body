def test_get_charsets(self):
    eq = self.assertEqual
    msg = self._msgobj('msg_08.txt')
    charsets = msg.get_charsets()
    eq(charsets, [None, 'us-ascii', 'iso-8859-1', 'iso-8859-2', 'koi8-r'])
    msg = self._msgobj('msg_09.txt')
    charsets = msg.get_charsets('dingbat')
    eq(charsets, ['dingbat', 'us-ascii', 'iso-8859-1', 'dingbat', 'koi8-r'])
    msg = self._msgobj('msg_12.txt')
    charsets = msg.get_charsets()
    eq(charsets, [None, 'us-ascii', 'iso-8859-1', None, 'iso-8859-2', 'iso-8859-3', 'us-ascii', 'koi8-r'])
