def test_sf_950057(self):

    def gen1():
        hist.append(0)
        yield 1
        hist.append(1)
        raise AssertionError
        hist.append(2)

    def gen2(x):
        hist.append(3)
        yield 2
        hist.append(4)
        if x:
            raise StopIteration
    hist = []
    self.assertRaises(AssertionError, list, chain(gen1(), gen2(False)))
    self.assertEqual(hist, [0, 1])
    hist = []
    self.assertRaises(AssertionError, list, chain(gen1(), gen2(True)))
    self.assertEqual(hist, [0, 1])
    hist = []
    self.assertRaises(AssertionError, list, cycle(gen1()))
    self.assertEqual(hist, [0, 1])
