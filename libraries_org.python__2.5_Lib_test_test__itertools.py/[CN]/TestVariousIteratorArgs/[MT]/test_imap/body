def test_imap(self):
    for s in (range(10), range(0), range(100), (7, 11), xrange(20, 50, 5)):
        for g in (G, I, Ig, S, L, R):
            self.assertEqual(list(imap(onearg, g(s))), map(onearg, g(s)))
            self.assertEqual(list(imap(operator.pow, g(s), g(s))), map(operator.pow, g(s), g(s)))
        self.assertRaises(TypeError, imap, onearg, X(s))
        self.assertRaises(TypeError, list, imap(onearg, N(s)))
        self.assertRaises(ZeroDivisionError, list, imap(onearg, E(s)))
