def test_islice(self):
    for args in [(10, 20, 3), (10, 3, 20), (10, 20), (10, 3), (20,)]:
        self.assertEqual(list(islice(xrange(100), *args)), range(*args))
    for (args, tgtargs) in [((10, 110, 3), (10, 100, 3)), ((10, 110), (10, 100)), ((110,), (100,))]:
        self.assertEqual(list(islice(xrange(100), *args)), range(*tgtargs))
    self.assertEqual(list(islice(xrange(10), None)), range(10))
    self.assertEqual(list(islice(xrange(10), None, None)), range(10))
    self.assertEqual(list(islice(xrange(10), None, None, None)), range(10))
    self.assertEqual(list(islice(xrange(10), 2, None)), range(2, 10))
    self.assertEqual(list(islice(xrange(10), 1, None, 2)), range(1, 10, 2))
    it = iter(range(10))
    self.assertEqual(list(islice(it, 3)), range(3))
    self.assertEqual(list(it), range(3, 10))
    self.assertRaises(TypeError, islice, xrange(10))
    self.assertRaises(TypeError, islice, xrange(10), 1, 2, 3, 4)
    self.assertRaises(ValueError, islice, xrange(10), (-5), 10, 1)
    self.assertRaises(ValueError, islice, xrange(10), 1, (-5), (-1))
    self.assertRaises(ValueError, islice, xrange(10), 1, 10, (-1))
    self.assertRaises(ValueError, islice, xrange(10), 1, 10, 0)
    self.assertRaises(ValueError, islice, xrange(10), 'a')
    self.assertRaises(ValueError, islice, xrange(10), 'a', 1)
    self.assertRaises(ValueError, islice, xrange(10), 1, 'a')
    self.assertRaises(ValueError, islice, xrange(10), 'a', 1, 1)
    self.assertRaises(ValueError, islice, xrange(10), 1, 'a', 1)
    self.assertEqual(len(list(islice(count(), 1, 10, sys.maxint))), 1)
