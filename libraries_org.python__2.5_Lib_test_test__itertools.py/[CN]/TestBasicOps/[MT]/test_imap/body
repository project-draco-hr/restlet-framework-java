def test_imap(self):
    self.assertEqual(list(imap(operator.pow, range(3), range(1, 7))), [(0 ** 1), (1 ** 2), (2 ** 3)])
    self.assertEqual(list(imap(None, 'abc', range(5))), [('a', 0), ('b', 1), ('c', 2)])
    self.assertEqual(list(imap(None, 'abc', count())), [('a', 0), ('b', 1), ('c', 2)])
    self.assertEqual(take(2, imap(None, 'abc', count())), [('a', 0), ('b', 1)])
    self.assertEqual(list(imap(operator.pow, [])), [])
    self.assertRaises(TypeError, imap)
    self.assertRaises(TypeError, imap, operator.neg)
    self.assertRaises(TypeError, imap(10, range(5)).next)
    self.assertRaises(ValueError, imap(errfunc, [4], [5]).next)
    self.assertRaises(TypeError, imap(onearg, [4], [5]).next)
