def test_main(verbose=None):
    test_classes = (TestBasicOps, TestVariousIteratorArgs, TestGC, RegressionTests, LengthTransparency)
    test_support.run_unittest(*test_classes)
    if (verbose and hasattr(sys, 'gettotalrefcount')):
        import gc
        counts = ([None] * 5)
        for i in xrange(len(counts)):
            test_support.run_unittest(*test_classes)
            gc.collect()
            counts[i] = sys.gettotalrefcount()
        print counts
    test_support.run_doctest(sys.modules[__name__], verbose)
