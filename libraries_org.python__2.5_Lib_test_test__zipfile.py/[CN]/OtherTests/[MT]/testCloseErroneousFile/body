def testCloseErroneousFile(self):
    fp = open(TESTFN, 'w')
    fp.write('this is not a legal zip file\n')
    fp.close()
    try:
        zf = zipfile.ZipFile(TESTFN)
    except zipfile.BadZipfile:
        os.unlink(TESTFN)
