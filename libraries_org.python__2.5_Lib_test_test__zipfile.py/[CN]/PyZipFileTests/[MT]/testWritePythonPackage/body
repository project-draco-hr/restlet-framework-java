def testWritePythonPackage(self):
    import email
    packagedir = os.path.dirname(email.__file__)
    zipfp = zipfile.PyZipFile(TemporaryFile(), 'w')
    zipfp.writepy(packagedir)
    names = zipfp.namelist()
    if (not is_jython):
        self.assert_((('email/__init__.pyo' in names) or ('email/__init__.pyc' in names)))
        self.assert_((('email/mime/text.pyo' in names) or ('email/mime/text.pyc' in names)))
    else:
        self.assert_(('email/__init__$py.class' in names))
        self.assert_(('email/mime/text$py.class' in names))
