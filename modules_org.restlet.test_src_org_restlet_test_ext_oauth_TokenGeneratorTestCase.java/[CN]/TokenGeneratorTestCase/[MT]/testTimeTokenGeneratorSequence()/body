{
  ScheduledThreadPoolExecutor pool=new ScheduledThreadPoolExecutor(5);
  TokenGenerator generator=new MemTokenGenerator(pool);
  generator.setMaxTokenTime(10);
  Random r=new Random();
  AuthenticatedUser user=new AuthenticatedUserImpl("1234567890",null);
  for (int i=0; i < 10; i++) {
    int exp=r.nextInt(15) + 1;
    ExpireToken et=(ExpireToken)generator.generateToken(user,exp);
    if (exp > 10)     assertEquals(10,et.getExpirePeriod());
 else     assertEquals(exp,et.getExpirePeriod());
  }
}
