def test_testsource():
    "\nUnit tests for `testsource()`.\n\nThe testsource() function takes a module and a name, finds the (first)\ntest with that name in that module, and converts it to a script. The\nexample code is converted to regular Python code.  The surrounding\nwords and expected output are converted to comments:\n\n    >>> import test.test_doctest\n    >>> name = 'test.test_doctest.sample_func'\n    >>> print doctest.testsource(test.test_doctest, name)\n    # Blah blah\n    #\n    print sample_func(22)\n    # Expected:\n    ## 44\n    #\n    # Yee ha!\n    <BLANKLINE>\n\n    >>> name = 'test.test_doctest.SampleNewStyleClass'\n    >>> print doctest.testsource(test.test_doctest, name)\n    print '1\\n2\\n3'\n    # Expected:\n    ## 1\n    ## 2\n    ## 3\n    <BLANKLINE>\n\n    >>> name = 'test.test_doctest.SampleClass.a_classmethod'\n    >>> print doctest.testsource(test.test_doctest, name)\n    print SampleClass.a_classmethod(10)\n    # Expected:\n    ## 12\n    print SampleClass(0).a_classmethod(10)\n    # Expected:\n    ## 12\n    <BLANKLINE>\n"
