def test():
    'uuencode/uudecode main program'
    import getopt
    dopt = 0
    topt = 0
    input = sys.stdin
    output = sys.stdout
    ok = 1
    try:
        (optlist, args) = getopt.getopt(sys.argv[1:], 'dt')
    except getopt.error:
        ok = 0
    if ((not ok) or (len(args) > 2)):
        print 'Usage:', sys.argv[0], '[-d] [-t] [input [output]]'
        print ' -d: Decode (in stead of encode)'
        print ' -t: data is text, encoded format unix-compatible text'
        sys.exit(1)
    for (o, a) in optlist:
        if (o == '-d'):
            dopt = 1
        if (o == '-t'):
            topt = 1
    if (len(args) > 0):
        input = args[0]
    if (len(args) > 1):
        output = args[1]
    if dopt:
        if topt:
            if isinstance(output, StringType):
                output = open(output, 'w')
            else:
                print sys.argv[0], ': cannot do -t to stdout'
                sys.exit(1)
        decode(input, output)
    else:
        if topt:
            if isinstance(input, StringType):
                input = open(input, 'r')
            else:
                print sys.argv[0], ': cannot do -t from stdin'
                sys.exit(1)
        encode(input, output)
