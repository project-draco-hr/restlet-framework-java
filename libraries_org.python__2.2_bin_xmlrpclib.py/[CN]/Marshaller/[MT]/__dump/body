def __dump(self, value):
    try:
        f = self.dispatch[type(value)]
    except KeyError:
        raise TypeError, ('cannot marshal %s objects' % type(value))
    else:
        f(self, value)
