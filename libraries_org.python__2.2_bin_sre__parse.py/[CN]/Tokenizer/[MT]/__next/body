def __next(self):
    if (self.index >= len(self.string)):
        self.next = None
        return
    char = self.string[self.index]
    if (char[0] == '\\'):
        try:
            c = self.string[(self.index + 1)]
        except IndexError:
            raise error, 'bogus escape (end of line)'
        char = (char + c)
    self.index = (self.index + len(char))
    self.next = char
