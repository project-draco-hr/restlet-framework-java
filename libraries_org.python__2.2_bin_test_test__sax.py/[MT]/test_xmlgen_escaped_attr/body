def test_xmlgen_escaped_attr():
    result = StringIO()
    gen = XMLGenerator(result)
    gen.startDocument()
    gen.startElement('doc', {'x': unicode('\\u3042', 'unicode-escape'), })
    gen.endElement('doc')
    gen.endDocument()
    return (result.getvalue() == (start + '<doc x="&#12354;"></doc>'))
