def decode(self, input, final=False):
    data = (self.buffer + input)
    (result, consumed) = self._buffer_decode(data, self.errors, final)
    self.buffer = data[consumed:]
    return result
