def test_errorcallback_longindex(self):
    dec = codecs.getdecoder('euc-kr')
    myreplace = (lambda exc: (u'', (sys.maxint + 1)))
    codecs.register_error('test.cjktest', myreplace)
    self.assertRaises(IndexError, dec, 'apple\x92ham\x93spam', 'test.cjktest')
