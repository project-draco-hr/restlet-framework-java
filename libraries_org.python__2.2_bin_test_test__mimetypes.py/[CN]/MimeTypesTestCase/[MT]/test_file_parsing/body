def test_file_parsing(self):
    sio = StringIO.StringIO('x-application/x-unittest pyunit\n')
    self.db.readfp(sio)
    self.assertEqual(self.db.guess_type('foo.pyunit'), ('x-application/x-unittest', None))
    self.assertEqual(self.db.guess_extension('x-application/x-unittest'), '.pyunit')
