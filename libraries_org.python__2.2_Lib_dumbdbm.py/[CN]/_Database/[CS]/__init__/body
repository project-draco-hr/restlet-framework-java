def __init__(self, file, mode):
    self._mode = mode
    self._dirfile = ((file + _os.extsep) + 'dir')
    self._datfile = ((file + _os.extsep) + 'dat')
    self._bakfile = ((file + _os.extsep) + 'bak')
    try:
        f = _open(self._datfile, 'r')
    except IOError:
        f = _open(self._datfile, 'w', self._mode)
    f.close()
    self._update()
