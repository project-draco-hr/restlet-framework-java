def wait(self, timeout=None):
    self.__cond.acquire()
    try:
        if (not self.__flag):
            self.__cond.wait(timeout)
    finally:
        self.__cond.release()
