{
  Request request=getRequest();
  String resourceRefURI="http://www.restlet.org/path/to/resource";
  Reference resourceRef=getReference(resourceRefURI);
  request.setResourceRef(resourceRefURI);
  assertEquals(resourceRef,request.getResourceRef());
  String uri="http://www.restlet.org/path";
  Reference reference=getReference(uri);
  request.getResourceRef().setBaseRef(uri);
  assertEquals(uri,request.getResourceRef().getBaseRef().toString());
  assertEquals(reference,request.getResourceRef().getBaseRef());
  uri="http://www.restlet.org/path/to";
  reference=getReference(uri);
  request.getResourceRef().setBaseRef(uri);
  assertEquals(uri,request.getResourceRef().getBaseRef().toString());
  assertEquals(reference,request.getResourceRef().getBaseRef());
}
