def check_events(self, source, expected_events):
    try:
        events = self.get_events(source)
    except:
        import sys
        raise
    if (events != expected_events):
        self.fail(((('received events did not match expected events\nExpected:\n' + pprint.pformat(expected_events)) + '\nReceived:\n') + pprint.pformat(events)))
