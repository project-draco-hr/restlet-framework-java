def test_strptime(self):
    tt = time.gmtime(self.t)
    for directive in ('a', 'A', 'b', 'B', 'c', 'd', 'H', 'I', 'j', 'm', 'M', 'p', 'S', 'U', 'w', 'W', 'x', 'X', 'y', 'Y', 'Z', '%'):
        format = (' %' + directive)
        try:
            time.strptime(time.strftime(format, tt), format)
        except ValueError:
            self.fail(('conversion specifier: %r failed.' % format))
