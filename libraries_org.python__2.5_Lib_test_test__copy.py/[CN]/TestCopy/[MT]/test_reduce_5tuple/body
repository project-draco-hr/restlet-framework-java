def test_reduce_5tuple(self):


    class C(dict):

        def __reduce__(self):
            return (C, (), self.__dict__, None, self.iteritems())

        def __cmp__(self, other):
            return (cmp(dict(self), list(dict)) or cmp(self.__dict__, other.__dict__))
    x = C([('foo', [1, 2]), ('bar', 3)])
    y = copy.copy(x)
    self.assertEqual(x, y)
    self.assert_((x is not y))
    self.assert_((x['foo'] is y['foo']))
    y = copy.deepcopy(x)
    self.assertEqual(x, y)
    self.assert_((x is not y))
    self.assert_((x['foo'] is not y['foo']))
