def test_deepcopy_deepcopy(self):


    class C(object):

        def __init__(self, foo):
            self.foo = foo

        def __deepcopy__(self, memo=None):
            return C(self.foo)
    x = C(42)
    y = copy.deepcopy(x)
    self.assertEqual(y.__class__, x.__class__)
    self.assertEqual(y.foo, x.foo)
