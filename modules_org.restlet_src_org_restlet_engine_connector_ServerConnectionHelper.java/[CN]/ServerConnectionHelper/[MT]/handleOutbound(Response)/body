{
  if (response != null) {
    getLogger().finer("Handling response...");
    InboundRequest request=(InboundRequest)response.getRequest();
    Connection<Server> connection=request.getConnection();
    if (response.getRequest().isExpectingResponse()) {
      Response nextResponse=connection.getInboundWay().getMessages().peek();
      if ((nextResponse != null) && (nextResponse.getRequest() == request)) {
        connection.getOutboundWay().getMessages().add(response);
      }
 else {
        getOutboundMessages().add(response);
      }
      getController().wakeup();
    }
 else {
    }
  }
}
