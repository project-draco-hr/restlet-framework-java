def _test_append(self, mode):
    fp1 = open(test_support.TESTFN, mode)
    fp1.write('test1\n')
    fp2 = open(test_support.TESTFN, mode)
    fp2.write('test2\n')
    fp1.close()
    fp2.close()
    with open(test_support.TESTFN) as fp:
        self.assertEqual('test1\ntest2\n', fp.read())
