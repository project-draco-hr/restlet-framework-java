def read(self, n=(-1)):
    data = StringIO.StringIO.read(self, n)
    if (data == ''):
        raise AssertionError('caller tried to read past EOF')
    return data
