def test_directories(self):
    ext = '.dir'
    self._do_directory((TESTFN_ENCODED + ext), (TESTFN_ENCODED + ext), True)
    self._do_directory((TESTFN_ENCODED + ext), (TESTFN_UNICODE + ext), True)
    self._do_directory((TESTFN_UNICODE + ext), (TESTFN_ENCODED + ext), False)
    self._do_directory((TESTFN_UNICODE + ext), (TESTFN_UNICODE + ext), False)
    if (TESTFN_UNICODE_UNENCODEABLE is not None):
        self._do_directory((TESTFN_UNICODE_UNENCODEABLE + ext), (TESTFN_UNICODE_UNENCODEABLE + ext), False)
