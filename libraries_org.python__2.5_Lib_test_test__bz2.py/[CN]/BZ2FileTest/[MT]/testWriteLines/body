def testWriteLines(self):
    bz2f = BZ2File(self.filename, 'w')
    self.assertRaises(TypeError, bz2f.writelines)
    sio = StringIO(self.TEXT)
    bz2f.writelines(sio.readlines())
    bz2f.close()
    self.assertRaises(ValueError, bz2f.writelines, ['a'])
    f = open(self.filename, 'rb')
    self.assertEqual(self.decompress(f.read()), self.TEXT)
    f.close()
