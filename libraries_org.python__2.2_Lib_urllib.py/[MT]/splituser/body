def splituser(host):
    "splituser('user[:passwd]@host[:port]') --> 'user[:passwd]', 'host[:port]'."
    global _userprog
    if (_userprog is None):
        import re
        _userprog = re.compile('^(.*)@(.*)$')
    match = _userprog.match(host)
    if match:
        return map(unquote, match.group(1, 2))
    return (None, host)
