def test(args=[]):
    if (not args):
        args = ['/etc/passwd', 'file:/etc/passwd', 'file://localhost/etc/passwd', 'ftp://ftp.python.org/pub/python/README', 'http://www.python.org/index.html']
        if hasattr(URLopener, 'open_https'):
            args.append('https://synergy.as.cmu.edu/~geek/')
    try:
        for url in args:
            print ('-' * 10), url, ('-' * 10)
            (fn, h) = urlretrieve(url, None, reporthook)
            print fn
            if h:
                print '======'
                for k in h.keys():
                    print (k + ':'), h[k]
                print '======'
            fp = open(fn, 'rb')
            data = fp.read()
            del fp
            if ('\r' in data):
                table = string.maketrans('', '')
                data = data.translate(table, '\r')
            print data
            (fn, h) = (None, None)
        print ('-' * 40)
    finally:
        urlcleanup()
