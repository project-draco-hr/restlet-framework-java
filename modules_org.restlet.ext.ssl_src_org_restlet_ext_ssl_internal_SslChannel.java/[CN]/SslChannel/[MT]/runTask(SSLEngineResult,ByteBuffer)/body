{
  final Runnable task=getManager().getEngine().getDelegatedTask();
  if (task != null) {
    getConnection().getInboundWay().setIoState(IoState.IDLE);
    getConnection().getOutboundWay().setIoState(IoState.IDLE);
    getConnection().getHelper().getWorkerService().execute(new Runnable(){
      public void run(){
        getLogger().log(Level.FINE,"Running delegated tasks...");
        task.run();
        Runnable nextTask=getManager().getEngine().getDelegatedTask();
        while (nextTask != null) {
          nextTask.run();
          nextTask=getManager().getEngine().getDelegatedTask();
        }
        onDelegatedTasksCompleted();
        getLogger().log(Level.FINE,"Done running delegated tasks");
      }
    }
);
  }
}
