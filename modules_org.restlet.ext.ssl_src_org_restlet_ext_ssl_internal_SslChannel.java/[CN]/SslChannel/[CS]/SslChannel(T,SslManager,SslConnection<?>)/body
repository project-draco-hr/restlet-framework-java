{
  super(wrappedChannel);
  this.manager=manager;
  this.connection=connection;
  if (manager != null) {
    SSLSession session=getManager().getSession();
    int packetSize=session.getPacketBufferSize();
    this.packetBuffer=getConnection().createByteBuffer(packetSize);
  }
 else {
    this.packetBuffer=null;
  }
  this.packetBufferState=BufferState.FILLING;
}
