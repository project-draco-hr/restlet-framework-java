{
  Reader result=null;
  if (Edition.CURRENT != Edition.GAE) {
    final java.io.PipedWriter pipedWriter=new java.io.PipedWriter();
    @SuppressWarnings("resource") java.io.PipedReader pipedReader=new java.io.PipedReader(pipedWriter);
    Runnable task=new Runnable(){
      public void run(){
        try {
          representation.write(pipedWriter);
          pipedWriter.flush();
        }
 catch (        IOException ioe) {
          Context.getCurrentLogger().log(Level.WARNING,"Error while writing to the piped reader.",ioe);
        }
 finally {
          try {
            pipedWriter.close();
          }
 catch (          IOException ioe2) {
            Context.getCurrentLogger().log(Level.WARNING,"Error while closing the pipe.",ioe2);
          }
        }
      }
    }
;
    org.restlet.Application application=org.restlet.Application.getCurrent();
    if (application != null && application.getTaskService() != null) {
      application.getTaskService().execute(task);
    }
 else {
      new Thread(task,"Restlet-PipeWriter").start();
    }
    result=pipedReader;
  }
 else {
    Context.getCurrentLogger().log(Level.WARNING,"The GAE edition is unable to return a reader for a writer representation.");
  }
  return result;
}
