{
  if (representation.getRange() == null) {
    return representation.getSize();
  }
 else   if (representation.getRange().getSize() != Range.SIZE_MAX) {
    return representation.getRange().getSize();
  }
 else   if (representation.hasKnownSize()) {
    if (representation.getRange().getIndex() != Range.INDEX_LAST) {
      return representation.getSize() - representation.getRange().getIndex();
    }
    return representation.getSize();
  }
  return Representation.UNKNOWN_SIZE;
}
