def unlink(self):
    elem = self.ownerElement
    if (elem is not None):
        del elem._attrs[self.nodeName]
        del elem._attrsNS[(self.namespaceURI, self.localName)]
        if self._is_id:
            self._is_id = False
            elem._magic_id_nodes -= 1
            self.ownerDocument._magic_id_count -= 1
    for child in self.childNodes:
        child.unlink()
    del self.childNodes[:]
