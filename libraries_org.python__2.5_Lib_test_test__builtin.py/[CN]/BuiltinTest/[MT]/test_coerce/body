def test_coerce(self):
    self.assert_((not fcmp(coerce(1, 1.1), (1.0, 1.1))))
    self.assertEqual(coerce(1, 1L), (1L, 1L))
    self.assert_((not fcmp(coerce(1L, 1.1), (1.0, 1.1))))
    self.assertRaises(TypeError, coerce)


    class BadNumber:

        def __coerce__(self, other):
            raise ValueError
    self.assertRaises(ValueError, coerce, 42, BadNumber())
    self.assertRaises(OverflowError, coerce, 0.5, int(('12345' * 1000)))
