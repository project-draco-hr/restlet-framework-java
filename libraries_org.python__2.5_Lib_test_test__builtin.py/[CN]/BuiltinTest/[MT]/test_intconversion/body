def test_intconversion(self):


    class Foo0:

        def __int__(self):
            return 42


    class Foo1(object):

        def __int__(self):
            return 42


    class Foo2(int):

        def __int__(self):
            return 42


    class Foo3(int):

        def __int__(self):
            return self


    class Foo4(int):

        def __int__(self):
            return 42L


    class Foo5(int):

        def __int__(self):
            return 42.0
    self.assertEqual(int(Foo0()), 42)
    self.assertEqual(int(Foo1()), 42)
    self.assertEqual(int(Foo2()), 42)
    self.assertEqual(int(Foo3()), 0)
    self.assertEqual(int(Foo4()), 42L)
    self.assertRaises(TypeError, int, Foo5())
