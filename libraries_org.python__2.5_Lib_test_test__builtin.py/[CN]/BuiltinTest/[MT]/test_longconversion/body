def test_longconversion(self):


    class Foo0:

        def __long__(self):
            return 42L


    class Foo1(object):

        def __long__(self):
            return 42L


    class Foo2(long):

        def __long__(self):
            return 42L


    class Foo3(long):

        def __long__(self):
            return self


    class Foo4(long):

        def __long__(self):
            return 42


    class Foo5(long):

        def __long__(self):
            return 42.0
    self.assertEqual(long(Foo0()), 42L)
    self.assertEqual(long(Foo1()), 42L)
    self.assertEqual(long(Foo2()), 42L)
    self.assertEqual(long(Foo3()), 0)
    self.assertEqual(long(Foo4()), 42)
    self.assertRaises(TypeError, long, Foo5())
