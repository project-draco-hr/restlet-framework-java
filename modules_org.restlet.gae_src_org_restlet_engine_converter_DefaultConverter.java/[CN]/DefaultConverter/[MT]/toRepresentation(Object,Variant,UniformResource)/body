{
  Representation result=null;
  if (object instanceof String) {
    result=new StringRepresentation((String)object);
  }
 else   if (object instanceof Document) {
    result=new DomRepresentation(targetVariant == null ? null : targetVariant.getMediaType(),(Document)object);
  }
 else   if (object instanceof File) {
    result=new FileRepresentation((File)object,targetVariant == null ? null : targetVariant.getMediaType());
  }
 else   if (object instanceof InputStream) {
    result=new InputRepresentation((InputStream)object,targetVariant == null ? null : targetVariant.getMediaType());
  }
 else   if (object instanceof Reader) {
    result=new ReaderRepresentation((Reader)object,targetVariant == null ? null : targetVariant.getMediaType());
  }
 else   if (object instanceof Representation) {
    result=(Representation)object;
  }
  if ((result != null) && (targetVariant != null)) {
    result.setCharacterSet(targetVariant.getCharacterSet());
    result.setMediaType(targetVariant.getMediaType());
    result.setEncodings(targetVariant.getEncodings());
    result.setLanguages(targetVariant.getLanguages());
  }
  return result;
}
