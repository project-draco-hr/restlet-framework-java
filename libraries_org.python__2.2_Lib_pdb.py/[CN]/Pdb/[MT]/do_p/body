def do_p(self, arg):
    try:
        value = eval(arg, self.curframe.f_globals, self.curframe.f_locals)
    except:
        (t, v) = sys.exc_info()[:2]
        if (type(t) == type('')):
            exc_type_name = t
        else:
            exc_type_name = t.__name__
        print '***', (exc_type_name + ':'), `v`
        return
    print `value`
