def test_header_splitter(self):
    eq = self.ndiffAssertEqual
    msg = MIMEText('')
    msg['X-Foobar-Spoink-Defrobnit'] = 'wasnipoop; giraffes="very-long-necked-animals"; spooge="yummy"; hippos="gargantuan"; marshmallows="gooey"'
    sfp = StringIO()
    g = Generator(sfp)
    g.flatten(msg)
    eq(sfp.getvalue(), 'Content-Type: text/plain; charset="us-ascii"\nMIME-Version: 1.0\nContent-Transfer-Encoding: 7bit\nX-Foobar-Spoink-Defrobnit: wasnipoop; giraffes="very-long-necked-animals";\n\tspooge="yummy"; hippos="gargantuan"; marshmallows="gooey"\n\n')
