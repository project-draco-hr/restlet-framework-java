{
  MetadataService metadataService=getMetadataService();
  List<AnnotationInfo> annotations=getAnnotations();
  if (annotations != null && metadataService != null) {
    for (    AnnotationInfo annotationInfo : annotations) {
      if (info.getName().equals(annotationInfo.getRestletMethod())) {
        Class<?>[] classes=annotationInfo.getJavaInputTypes();
        if (classes != null && classes.length == 1) {
          List<Variant> variants=(List<Variant>)getApplication().getConverterService().getVariants(classes[0],null);
          if (variants != null) {
            for (            Variant variant : variants) {
              if ((variant.getMediaType() != null) && variant.getMediaType().isConcrete() && ((info.getRequest() == null) || !info.getRequest().getRepresentations().contains(variant))) {
                info.addRequestRepresentation(variant);
              }
            }
          }
        }
        if (annotationInfo.getJavaOutputType() != null) {
          List<Variant> variants=(List<Variant>)getApplication().getConverterService().getVariants(annotationInfo.getJavaOutputType(),null);
          if (variants != null) {
            for (            Variant variant : variants) {
              if ((variant.getMediaType() != null) && variant.getMediaType().isConcrete() && ((info.getResponse() == null) || !info.getResponse().getRepresentations().contains(variant))) {
                info.addResponseRepresentation(variant);
              }
            }
          }
        }
      }
    }
  }
}
