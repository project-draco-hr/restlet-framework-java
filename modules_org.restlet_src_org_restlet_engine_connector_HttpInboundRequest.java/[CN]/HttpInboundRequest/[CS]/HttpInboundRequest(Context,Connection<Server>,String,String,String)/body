{
  super();
  this.connection=connection;
  this.context=context;
  this.userPrincipal=null;
  this.cacheDirectivesAdded=false;
  this.clientAdded=false;
  this.conditionAdded=false;
  this.cookiesAdded=false;
  this.proxySecurityAdded=false;
  this.rangesAdded=false;
  this.recipientsInfoAdded=false;
  this.referrerAdded=false;
  this.resourceUri=resourceUri;
  this.securityAdded=false;
  this.warningsAdded=false;
  int versionSeparator=protocol.indexOf('/');
  Protocol connectorProtocol=getConnection().getHelper().getHelped().getProtocols().get(0);
  if (versionSeparator != -1) {
    String name=protocol.substring(0,versionSeparator);
    String version=protocol.substring(versionSeparator + 1);
    if (connectorProtocol.getTechnicalName().equals(name) && connectorProtocol.getVersion().equals(version)) {
      setProtocol(connectorProtocol);
    }
 else {
      setProtocol(Protocol.valueOf(name,version));
    }
  }
  setMethod(Method.valueOf(methodName));
}
