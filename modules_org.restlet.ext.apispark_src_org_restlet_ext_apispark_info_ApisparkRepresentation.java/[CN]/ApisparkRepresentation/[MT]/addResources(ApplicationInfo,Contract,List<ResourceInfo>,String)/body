{
  for (  ResourceInfo ri : resources) {
    Resource resource=new Resource();
    resource.setDescription(toString(ri.getDocumentations()));
    resource.setName(ri.getIdentifier());
    if (basePath != null) {
      resource.setResourcePath(basePath + ri.getPath());
    }
 else {
      resource.setResourcePath(ri.getPath());
    }
    if (!ri.getChildResources().isEmpty()) {
      addResources(application,contract,ri.getChildResources(),ri.getPath());
    }
    resource.setOperations(new ArrayList<Operation>());
    for (    MethodInfo mi : ri.getMethods()) {
      Operation operation=new Operation();
      operation.setDescription(toString(mi.getDocumentations()));
      operation.setName(mi.getName().getName());
      operation.setMethod(new Method());
      operation.getMethod().setDescription(mi.getName().getDescription());
      operation.getMethod().setName(mi.getName().getName());
      operation.setHeaders(new ArrayList<Parameter>());
      operation.setPathVariables(new ArrayList<PathVariable>());
      operation.setQueryParameters(new ArrayList<Parameter>());
      if (mi.getRequest() != null && mi.getRequest().getParameters() != null) {
        for (        ParameterInfo pi : mi.getRequest().getParameters()) {
          if (ParameterStyle.HEADER.equals(pi.getStyle())) {
            Parameter parameter=new Parameter();
            parameter.setAllowMultiple(pi.isRepeating());
            parameter.setDefaultValue(pi.getDefaultValue());
            parameter.setDescription(toString(pi.getDocumentations()));
            parameter.setName(pi.getName());
            parameter.setPossibleValues(new ArrayList<String>());
            parameter.setRequired(pi.isRequired());
            operation.getHeaders().add(parameter);
          }
 else           if (ParameterStyle.TEMPLATE.equals(pi.getStyle())) {
            PathVariable pathVariable=new PathVariable();
            pathVariable.setDescription(toString(pi.getDocumentations()));
            pathVariable.setName(pi.getName());
            operation.getPathVariables().add(pathVariable);
          }
 else           if (ParameterStyle.QUERY.equals(pi.getStyle())) {
            Parameter parameter=new Parameter();
            parameter.setAllowMultiple(pi.isRepeating());
            parameter.setDefaultValue(pi.getDefaultValue());
            parameter.setDescription(toString(pi.getDocumentations()));
            parameter.setName(pi.getName());
            parameter.setPossibleValues(new ArrayList<String>());
            parameter.setRequired(pi.isRequired());
            operation.getHeaders().add(parameter);
          }
        }
      }
      if (mi.getRequest() != null && mi.getRequest().getRepresentations() != null && !mi.getRequest().getRepresentations().isEmpty()) {
        Body body=new Body();
        body.setRepresentation(mi.getRequest().getRepresentations().get(0).getIdentifier());
        operation.setInRepresentation(body);
      }
      if (mi.getResponses() != null && !mi.getResponses().isEmpty()) {
        operation.setResponses(new ArrayList<Response>());
        Body body=new Body();
        operation.setOutRepresentation(body);
        for (        ResponseInfo rio : mi.getResponses()) {
          if (!rio.getStatuses().isEmpty()) {
            Status status=rio.getStatuses().get(0);
            Response response=new Response();
            response.setBody(body);
            response.setCode(status.getCode());
            response.setDescription(toString(rio.getDocumentations()));
            response.setMessage(status.getDescription());
            operation.getResponses().add(response);
          }
        }
      }
      resource.getOperations().add(operation);
    }
    contract.getResources().add(resource);
  }
}
