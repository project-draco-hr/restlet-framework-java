def finish_response(self):
    "Send any iterable data, then close self and the iterable\n\n        Subclasses intended for use in asynchronous servers will\n        want to redefine this method, such that it sets up callbacks\n        in the event loop to iterate over the data, and to call\n        'self.close()' once the response is finished.\n        "
    if ((not self.result_is_file()) or (not self.sendfile())):
        for data in self.result:
            self.write(data)
        self.finish_content()
    self.close()
