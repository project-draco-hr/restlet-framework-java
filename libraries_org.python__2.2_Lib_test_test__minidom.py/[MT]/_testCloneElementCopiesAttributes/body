def _testCloneElementCopiesAttributes(e1, e2, test):
    attrs1 = e1.attributes
    attrs2 = e2.attributes
    keys1 = attrs1.keys()
    keys2 = attrs2.keys()
    keys1.sort()
    keys2.sort()
    confirm((keys1 == keys2), 'clone of element has same attribute keys')
    for i in range(len(keys1)):
        a1 = attrs1.item(i)
        a2 = attrs2.item(i)
        confirm(((a1 is not a2) and (a1.value == a2.value) and (a1.nodeValue == a2.nodeValue) and (a1.namespaceURI == a2.namespaceURI) and (a1.localName == a2.localName)), 'clone of attribute node has proper attribute values')
        confirm((a2.ownerElement is e2), 'clone of attribute node correctly owned')
