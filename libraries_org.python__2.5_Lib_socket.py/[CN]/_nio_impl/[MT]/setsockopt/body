def setsockopt(self, level, option, value):
    if self.options.has_key((level, option)):
        if (option == SO_LINGER):
            values = struct.unpack('ii', value)
            self.jsocket.setSoLinger(*values)
        else:
            getattr(self.jsocket, ('set%s' % self.options[(level, option)]))(value)
    else:
        raise error(errno.ENOPROTOOPT, ("Socket option '%s' (level '%s') not supported on socket(%s)" % (_constant_to_name(option), _constant_to_name(level), str(self.jsocket))))
