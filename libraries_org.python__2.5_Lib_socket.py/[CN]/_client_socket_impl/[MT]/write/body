def write(self, buf):
    if (self.mode == MODE_TIMEOUT):
        return self._do_write_net(buf)
    else:
        return self._do_write_nio(buf)
