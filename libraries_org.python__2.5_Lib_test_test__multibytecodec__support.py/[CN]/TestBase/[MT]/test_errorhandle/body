def test_errorhandle(self):
    for (source, scheme, expected) in self.codectests:
        if (type(source) == type('')):
            func = self.decode
        else:
            func = self.encode
        if expected:
            result = func(source, scheme)[0]
            self.assertEqual(result, expected)
        else:
            self.assertRaises(UnicodeError, func, source, scheme)
