def test_callback_wrong_objects(self):

    def myreplace(exc):
        return (ret, exc.end)
    codecs.register_error('test.cjktest', myreplace)
    for ret in ([1, 2, 3], [], None, object(), 'string', ''):
        self.assertRaises(TypeError, self.encode, self.unmappedunicode, 'test.cjktest')
