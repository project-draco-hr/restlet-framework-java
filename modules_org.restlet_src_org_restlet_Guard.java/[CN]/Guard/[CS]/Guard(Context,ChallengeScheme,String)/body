{
  super(context);
  if ((scheme == null)) {
    throw new IllegalArgumentException("Please specify an authentication scheme. Use the 'None' challenge if no authentication is required.");
  }
  this.rechallengeEnabled=true;
  this.secretResolver=new Resolver<char[]>(){
    @Override public char[] resolve(    String identifier){
      return getSecrets().get(identifier);
    }
  }
;
  this.secrets=new ConcurrentHashMap<String,char[]>();
  this.scheme=scheme;
  this.realm=realm;
}
