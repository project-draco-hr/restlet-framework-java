def getsourcefile(object):
    'Return the Python source file an object was defined in, if it exists.'
    filename = getfile(object)
    if (string.lower(filename[(-4):]) in ('.pyc', '.pyo')):
        filename = (filename[:(-4)] + '.py')
    elif filename.endswith('$py.class'):
        filename = (filename[:(-9)] + '.py')
    for (suffix, mode, kind) in imp.get_suffixes():
        if (('b' in mode) and (string.lower(filename[(- len(suffix)):]) == suffix)):
            return None
    if os.path.exists(filename):
        return filename
    if hasattr(getmodule(object, filename), '__loader__'):
        return filename
