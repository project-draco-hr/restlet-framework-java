def getlineno(frame):
    'Get the line number from a frame object, allowing for optimization.'
    return frame.f_lineno
